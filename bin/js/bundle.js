var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var WXLaunch_1 = require("./script/platform/wx/WXLaunch");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/platform/wx/WXLaunch.ts", WXLaunch_1.default);
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "Launch.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/platform/wx/WXLaunch":17}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var MyInit_1 = require("./script/MyInit");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎
        Laya.isWXOpenDataContext = false;
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        MyInit_1.default.init();
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        // Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
        this.onVersionLoaded();
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        var res = [
            { url: "common/loading.atlas", type: Laya.Loader.ATLAS },
        ];
        //startScene 应该设置为launch页面
        Laya.loader.load(res, Laya.Handler.create(this, function () {
            GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        }));
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1,"./script/MyInit":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("./models/ConfigData");
var HttpMgr_1 = require("./mgrCommon/HttpMgr");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var StatisticsMgr_1 = require("./mgrCommon/StatisticsMgr");
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var UserData_1 = require("./models/UserData");
var Login = /** @class */ (function (_super) {
    __extends(Login, _super);
    function Login() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Login.prototype.login = function () {
        HttpMgr_1.default.instance.getSystemConfig();
        this.loginFun();
    };
    Login.prototype.loginFun = function () {
        var self = this;
        if (ConfigData_1.default.releasePlatform) {
            PlatformMgr_1.default.ptAPI.doLogin({
                success: Laya.Handler.create(this, this.loginSuccess, null, true),
                fail: Laya.Handler.create(this, this.loginFun, null, true)
            });
        }
        else {
            var _d = {};
            _d.code = "123";
            _d.inviteId = '';
            _d.channelId = "";
            _d.success = this.loginSuccess;
            HttpMgr_1.default.instance.login(_d);
        }
    };
    Login.prototype.loginSuccess = function (data) {
        if (data) {
            UserData_1.default.isLogin = true;
            UserData_1.default.userId = data.userId;
            UserData_1.default.nickName = data.nikename;
            UserData_1.default.avatarUrl = data.headImage;
            UserData_1.default.diamond = data.userMoney;
            UserData_1.default.channelId = data.channelId;
            UserData_1.default.level = data.level;
            UserData_1.default.score = data.score;
            UserData_1.default.openId = data.openid;
            UserData_1.default.isNew = data.isNewUser;
            UserData_1.default.exp = data.nowExp;
            //缓存用户信息到本地
            StorageMgr_1.default.saveUserData();
            if (PlatformMgr_1.default.ptAPI) {
                //上传排行数据
                PlatformMgr_1.default.ptAPI.uploadRankDate({
                    level: data.level || 0,
                    score: data.score || 0,
                });
            }
            //上传统计
            StatisticsMgr_1.default.instance.loginStatisticsPost();
        }
        // EventMgr.instance.emit("loginSuccess");
    };
    return Login;
}(Laya.Script));
exports.default = Login;

},{"./mgrCommon/HttpMgr":7,"./mgrCommon/PlatformMgr":8,"./mgrCommon/StatisticsMgr":10,"./mgrCommon/StorageMgr":11,"./models/ConfigData":12,"./models/UserData":14}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var ConfigData_1 = require("./models/ConfigData");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var Login_1 = require("./Login");
var MyInit = /** @class */ (function () {
    function MyInit() {
    }
    MyInit.init = function () {
        ConfigData_1.default.initLocal();
        StorageMgr_1.default.getLocalUserData();
        PlatformMgr_1.default.initPlatform();
        new Login_1.default().login();
    };
    return MyInit;
}());
exports.default = MyInit;

},{"./Login":3,"./mgrCommon/PlatformMgr":8,"./mgrCommon/StorageMgr":11,"./models/ConfigData":12}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CurrGameData_1 = require("../models/CurrGameData");
var GameMgr = /** @class */ (function (_super) {
    __extends(GameMgr, _super);
    function GameMgr() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._fogColors = [];
        return _this;
    }
    GameMgr.prototype.onAwake = function () {
        this._currGameData = new CurrGameData_1.default();
        this._scene3d = this.owner;
        this._camera = this.owner.getChildByName("Main Camera");
        // this._camera.farPlane = 33; //可以考虑这样提高性能
        //是否需要开启雾
        // this._scene3d.enableFog = true;
        // //设置雾化的颜色
        // this._scene3d.fogColor = this._fogColors[0];
        // //设置雾化的起始位置，相对于相机的距离
        // this._scene3d.fogStart = 10;
        // //设置雾化最浓处的距离。
        // this._scene3d.fogRange = 20;
    };
    GameMgr.prototype.getGameData = function () {
        return this._currGameData;
    };
    GameMgr.prototype.onEnable = function () {
    };
    GameMgr.prototype.initGameByData = function (_d) {
        this._currGameData.reset();
    };
    GameMgr.prototype.onUpdate = function () {
    };
    GameMgr.prototype.onDisable = function () {
    };
    GameMgr.instance = new GameMgr();
    return GameMgr;
}(Laya.Script));
exports.default = GameMgr;

},{"../models/CurrGameData":13}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//全局事件
var EventDispatcher = laya.events.EventDispatcher;
var EventMgr = /** @class */ (function (_super) {
    __extends(EventMgr, _super);
    function EventMgr() {
        return _super.call(this) || this;
    }
    ;
    //派发事件
    EventMgr.prototype.emit = function (InName, agv) {
        // console.log("派发事件" + InName,agv);
        EventMgr.eventDispatcher.event(InName, agv);
    };
    //侦听事件
    EventMgr.prototype.onEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.on(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //侦听事件
    EventMgr.prototype.onOnceEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.once(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //移除事件
    EventMgr.prototype.onOffEvent = function (InName, caller, listener, arg) {
        // console.log("关闭事件",InName);
        EventMgr.eventDispatcher.off(InName, caller, listener);
    };
    EventMgr.eventDispatcher = new EventDispatcher();
    EventMgr.instance = new EventMgr();
    return EventMgr;
}(EventDispatcher));
exports.default = EventMgr;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageMgr_1 = require("./StorageMgr");
var ConfigData_1 = require("../models/ConfigData");
var HttpUtils_1 = require("../tools/HttpUtils");
var UserData_1 = require("../models/UserData");
var EventMgr_1 = require("./EventMgr");
var HttpMgr = /** @class */ (function () {
    function HttpMgr() {
        this._http = new HttpUtils_1.default();
    }
    //登陆
    HttpMgr.prototype.login = function (_d) {
        this._http.request({
            url: 'userLogin.action', data: _d, callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.sessionId = res.sessionId;
                    StorageMgr_1.default.saveSession(UserData_1.default.sessionId);
                    if (_d.success) {
                        _d.success(res);
                    }
                }
                else {
                    // sessionId 过期
                    StorageMgr_1.default.saveSession("");
                    UserData_1.default.sessionId = "";
                    if (_d.fail) {
                        _d.fail(res);
                    }
                }
            }
        });
    };
    //开关配制
    HttpMgr.prototype.getSystemConfig = function () {
        this._http.request({
            url: 'getSystemParamList.action', data: { nowVersion: ConfigData_1.default.version }, callback: function (res) {
                if (res.code == 0) {
                    ConfigData_1.default.ctrlInfo = {
                        isConverge: res.isConverge,
                        isShare: res.isShare,
                        isVideo: res.isVideo,
                        isWudian: res.isWudian,
                        shareInfo: res.shareInfo,
                        isBanner: res.is_banner,
                        adInfo: res.adInfo,
                    };
                }
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }, fail: function (res) {
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }
        });
    };
    HttpMgr.prototype.updateUserInfo = function () {
        this._http.request({
            url: 'updateUserInfo.action', data: {
                nickname: UserData_1.default.nickName,
                headimgurl: UserData_1.default.avatarUrl,
                sex: UserData_1.default.gender,
            }
        });
    };
    HttpMgr.prototype.statisticsPost = function (_d) {
        this._http.requestStatistics(_d);
    };
    HttpMgr.prototype.videoErrorCallback = function () {
        this._http.request({
            url: 'videoCallback.action', callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.adCount = res.adCount;
                }
            }
        });
    };
    HttpMgr.prototype.getWorldRank = function (_d) {
        this._http.request({
            url: 'getWorldRank.action', data: { page: 1, type: 1 }, callback: function (res) {
                if (res.code == 0) {
                    if (_d.success) {
                        _d.success(res);
                    }
                }
            }
        });
    };
    HttpMgr.instance = new HttpMgr();
    return HttpMgr;
}());
exports.default = HttpMgr;

},{"../models/ConfigData":12,"../models/UserData":14,"../tools/HttpUtils":18,"./EventMgr":6,"./StorageMgr":11}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var WXAPI_1 = require("../platform/wx/WXAPI");
var WXADMgr_1 = require("../platform/wx/WXADMgr");
var PlatformMgr = /** @class */ (function (_super) {
    __extends(PlatformMgr, _super);
    function PlatformMgr() {
        return _super.call(this) || this;
    }
    PlatformMgr.initPlatform = function () {
        switch (ConfigData_1.default.releasePlatform) {
            case "wx":
                PlatformMgr.ptAPI = new WXAPI_1.default();
                PlatformMgr.ptAdMgr = new WXADMgr_1.default;
                break;
            case "fb":
                //new fb的管理类
                // this.ptAPI = new FBAPI();
                // this.ptAdMgr = new FBAdMgr;
                break;
        }
    };
    PlatformMgr.instance = new PlatformMgr();
    return PlatformMgr;
}(Laya.Script));
exports.default = PlatformMgr;

},{"../models/ConfigData":12,"../platform/wx/WXADMgr":15,"../platform/wx/WXAPI":16}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var SoundMgr = /** @class */ (function () {
    function SoundMgr() {
    }
    SoundMgr.prototype.playSound = function (name) {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/" + name + ".mp3";
        if (Laya.Browser.onMiniGame) {
            var sound = laya.utils.Pool.getItem(name);
            if (sound == null) {
                sound = wx.createInnerAudioContext();
                sound.src = "res/sound/" + name + ".mp3";
                sound.onEnded(function () {
                    laya.utils.Pool.recover(name, sound);
                });
            }
            sound.play();
        }
        else {
            Laya.SoundManager.playSound(url, 1);
        }
    };
    SoundMgr.prototype.playBGM = function () {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            this.bgm = wx.createInnerAudioContext();
            this.bgm.src = url;
            this.bgm.loop = true;
            this.bgm.play();
        }
        else {
            Laya.SoundManager.playMusic(url, 0);
        }
    };
    SoundMgr.prototype.stopBGM = function () {
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            if (this.bgm) {
                this.bgm.stop();
            }
        }
        else {
            Laya.SoundManager.stopMusic();
        }
    };
    SoundMgr.instance = new SoundMgr();
    return SoundMgr;
}());
exports.default = SoundMgr;

},{"../models/ConfigData":12}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var HttpMgr_1 = require("./HttpMgr");
var UserData_1 = require("../models/UserData");
var ConfigData_1 = require("../models/ConfigData");
var StatisticsMgr = /** @class */ (function () {
    function StatisticsMgr() {
    }
    //登陆统计
    StatisticsMgr.prototype.loginStatisticsPost = function () {
        var _d = {
            action: "1005",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //点击授权统计接口
    StatisticsMgr.prototype.authorStatistics = function () {
        var _d = {
            action: "1006",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //开始游戏统计接口
    StatisticsMgr.prototype.startGameStatistics = function () {
        var _d = {
            action: "1008",
        };
        this.statisticsPost(_d);
    };
    //分享统计接口  类型: 0普通分享, 1分享复活, 2分享获取道具, 3分享获取抽奖次数
    StatisticsMgr.prototype.shareStatistics = function (type) {
        var _d = {
            action: "1009",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击视频统计接口
    StatisticsMgr.prototype.clickVideoStatistics = function (type) {
        var _d = {
            action: "1010",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //看完视频统计接口
    StatisticsMgr.prototype.videoPlayOverAdStatistics = function (type) {
        var _d = {
            action: "1011",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击跳转统计接口
    StatisticsMgr.prototype.navigateToMiniProgramStatistics = function (_d) {
        _d.action = "1007";
        this.statisticsPost(_d);
    };
    //点击跳转成功后统计接口
    StatisticsMgr.prototype.navigateToMiniProgramBackStatistics = function (_d) {
        _d.action = "1017";
        this.statisticsPost(_d);
    };
    //统计
    StatisticsMgr.prototype.statisticsPost = function (_data) {
        var _d = {
            channel: UserData_1.default.channelId,
            my_appid: ConfigData_1.default.myAppid,
            openid: UserData_1.default.openId,
        };
        for (var key in _data) {
            if (_data.hasOwnProperty(key)) {
                _d[key] = _data[key];
            }
        }
        HttpMgr_1.default.instance.statisticsPost(_d);
    };
    StatisticsMgr.instance = new StatisticsMgr();
    return StatisticsMgr;
}());
exports.default = StatisticsMgr;

},{"../models/ConfigData":12,"../models/UserData":14,"./HttpMgr":7}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var UserData_1 = require("../models/UserData");
var StorageMgr = /** @class */ (function () {
    function StorageMgr() {
    }
    StorageMgr.setStorage = function (_d) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        wx.setStorage({
            key: _d.key,
            data: JSON.stringify(_d.val),
            success: _d.success,
            fail: _d.fail,
            complete: _d.complete
        });
    };
    StorageMgr.getStorage = function (_key) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        try {
            var value = wx.getStorageSync(_key);
            if (value) {
                return value;
            }
        }
        catch (e) {
        }
    };
    StorageMgr.saveSession = function (_s) {
        StorageMgr.setStorage({ key: "sessionId", val: _s });
    };
    StorageMgr.getLocalVirbort = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("virbort"));
    };
    StorageMgr.setLocalVirbort = function (str) {
        StorageMgr.setStorage({
            ket: "virbort",
            val: str
        });
    };
    StorageMgr.getLocalSound = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("sound"));
    };
    StorageMgr.setLocalSound = function (str) {
        StorageMgr.setStorage({
            ket: "sound",
            val: str
        });
    };
    StorageMgr.saveUserData = function () {
        var _d = {
            sessionId: UserData_1.default.sessionId,
            openId: UserData_1.default.openId,
            score: UserData_1.default.score,
            exp: UserData_1.default.exp,
            level: UserData_1.default.level,
        };
        StorageMgr.setStorage({ key: "userData", val: _d });
    };
    StorageMgr.getLocalUserData = function () {
        if (UserData_1.default.isLogin) {
            return;
        }
        var _d = StorageMgr.getStorage("userData");
        if (!MyUtils_1.default.isNull(_d)) {
            _d = JSON.parse(_d);
            UserData_1.default.sessionId = _d.sessionId;
            UserData_1.default.openId = _d.openId;
            UserData_1.default.score = _d.score;
            UserData_1.default.exp = _d.exp;
            UserData_1.default.level = _d.level;
        }
    };
    return StorageMgr;
}());
exports.default = StorageMgr;

},{"../models/UserData":14,"../tools/MyUtils":20}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageMgr_1 = require("../mgrCommon/StorageMgr");
var ConfigData = /** @class */ (function () {
    function ConfigData() {
    }
    ConfigData.initLocal = function () {
        ConfigData.isSound = StorageMgr_1.default.getLocalSound();
        ConfigData.isVirbort = StorageMgr_1.default.getLocalVirbort();
        if (Laya.Browser.onMiniGame) {
            this.releasePlatform = "wx";
            this.systemInfo = wx.getSystemInfoSync();
        }
    };
    ConfigData.initConfigData = function (_d, remote) {
        if (remote === void 0) { remote = false; }
        if (remote) {
            ConfigData.configs = _d;
        }
        else if (!ConfigData.configs) {
            ConfigData.configs = _d;
        }
    };
    ConfigData.getConfigData = function (configName) {
        return this.ctrlInfo[configName];
    };
    /**设置声音 */
    ConfigData.setSound = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isSound = true;
            StorageMgr_1.default.setLocalSound("");
        }
        else {
            StorageMgr_1.default.setLocalSound("1");
            ConfigData.isSound = false;
        }
    };
    /**
     * 振动设置
     * @param str
     */
    ConfigData.setVirbort = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isVirbort = true;
            StorageMgr_1.default.setLocalVirbort("");
        }
        else {
            StorageMgr_1.default.setLocalVirbort("1");
            ConfigData.isVirbort = false;
        }
    };
    ConfigData.releasePlatform = ""; //发布平台 wx fb
    ConfigData.myAppid = "wxbe9fe00281505169";
    ConfigData.configs = null;
    ConfigData.language = "cn";
    ConfigData.languageData = null;
    ConfigData.version = "100";
    ConfigData.jsonVersion = "100";
    ConfigData.serverUrl = "https://xcx.biaocr.com/funny_frog/";
    ConfigData.jsonVersionUrl = "https://p.doguane.cn/20190404/m_04171926352321.json";
    ConfigData.statisticsUrl = "https://log.zuancr.com/";
    ConfigData.isCreateAuthorization = false; //是否创建了授权按钮
    ConfigData.repeatAuthorization = false; //是否创建了授权按钮
    ConfigData.isLog = true; //是否开启日志
    ConfigData.ctrlInfo = {}; //游戏控制信息
    ConfigData.systemInfo = {}; //设备系统信息
    ConfigData.bannerVideoId = "adunit-7c4449f9f6fcafbb";
    ConfigData.rewardedVideoId = "adunit-df0311118e2452c6";
    return ConfigData;
}());
exports.default = ConfigData;

},{"../mgrCommon/StorageMgr":11}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//当前游戏的数据
var CurrGameData = /** @class */ (function () {
    function CurrGameData() {
        this.score = 0; //分数
    }
    CurrGameData.prototype.reset = function () {
        this.score = 0;
    };
    return CurrGameData;
}());
exports.default = CurrGameData;

},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData = /** @class */ (function () {
    function UserData() {
    }
    UserData.code = ""; //微信code
    UserData.openId = ""; //微信openid
    UserData.sessionId = "";
    UserData.nickName = "";
    UserData.gender = 0;
    UserData.avatarUrl = "";
    UserData.score = 0; //分数
    UserData.exp = 0; //经验
    UserData.level = 1; //等级
    UserData.index = 0; //排行
    UserData.diamond = 0;
    UserData.gold = 0;
    UserData.isNew = false;
    UserData.isLogin = false;
    return UserData;
}());
exports.default = UserData;

},{}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var WXAdMgr = /** @class */ (function () {
    /**
     *
     */
    function WXAdMgr() {
        this.bannerHomeIsHide = true;
        this.bannerOtherIsHide = true;
        this.bannerClassicEndIsHide = true;
        this.isInited = false;
        this.hasAd = false;
        this.init();
    }
    WXAdMgr.prototype.init = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.systemInfo.SDKVersion && MyUtils_1.default.compareVersion(ConfigData_1.default.systemInfo.SDKVersion, "2.0.4") >= 0) {
            this.isInited = true;
            this.initVedioCom();
        }
        this.preBannerTime_Home = Laya.timer.currTimer;
        this.preBannerTime_Other = Laya.timer.currTimer;
        this.preBannerTime_ClassicEnd = Laya.timer.currTimer;
    };
    WXAdMgr.prototype.initVedioCom = function () {
        var self = this;
        if (this.isInited) {
            this.rewardedVideoAd = window["wx"].createRewardedVideoAd({ adUnitId: ConfigData_1.default.rewardedVideoId });
            if (this.rewardedVideoAd == undefined) {
                return;
            }
            this.rewardedVideoAd.onLoad(function () {
                console.log("rewardedVideo onload");
                self.hasAd = true;
            });
            this.rewardedVideoAd.onError(function (err) {
                self.hasAd = false;
                HttpMgr_1.default.instance.videoErrorCallback();
                if (self.callBackSuc != null) {
                    self.callBackSuc(self.caller);
                }
            });
            this.rewardedVideoAd.onClose(function (res) {
                // 用户点击了【关闭广告】按钮
                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                if (res && res.isEnded || res === undefined) {
                    // 正常播放结束，可以下发游戏奖励
                    self.videoPlayedTimes += 1;
                    if (self.callBackSuc != null) {
                        self.callBackSuc(self.caller);
                    }
                }
                else {
                    // 播放中途退出，不下发游戏奖励
                    if (self.callBackFail != null) {
                        self.callBackFail(self.caller);
                    }
                }
            });
        }
    };
    WXAdMgr.prototype.showVideo = function (caller, callBackSuc, callBackFail) {
        if (!this.isInited) {
            return;
        }
        var self = this;
        this.caller = caller;
        this.callBackSuc = callBackSuc;
        this.callBackFail = callBackFail;
        if (this.hasAd) {
            this.hasAd = false;
            this.rewardedVideoAd.show();
        }
        else {
            this.rewardedVideoAd.load()
                .then(function () {
                self.rewardedVideoAd.show();
                self.hasAd = false;
            });
        }
    };
    WXAdMgr.prototype.showBannerAdHome = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = Laya.stage.width / 2 - 140;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerHomeIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Home > 30000) {
            if (this.bannerHome) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
        }
        if (!this.bannerHome) {
            this.destroyBannerAdHome();
            this.bannerHome = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerHome.onResize(function (r) {
                _this.bannerHome.style.left = (screenW - _this.bannerHome.style.realWidth) / 2;
                _this.bannerHome.style.top = screenH - _this.bannerHome.style.realHeight;
                if (screenH / screenW > 2) {
                    _this.bannerHome.style.top = _this.bannerHome.style.top - 10;
                }
            });
            this.bannerHome.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            // this.bannerHome.onLoad(()=>{
            //     if(this.bannerHomeIsHide){
            //         this.bannerHome.destroy();
            //         return;
            //     }
            //     this.bannerHome.show();
            // })
            this.preBannerTime_Home = Laya.timer.currTimer;
        }
        if (this.bannerHome != undefined) {
            this.bannerHome.show();
        }
    };
    WXAdMgr.prototype.showBannerAdOther = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerOtherIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerOther) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
        }
        if (!this.bannerOther) {
            this.destroyBannerAdOther();
            this.bannerOther = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerOther.onResize(function (r) {
                _this.bannerOther.style.left = (screenW - _this.bannerOther.style.realWidth) / 2;
                _this.bannerOther.style.top = screenH - _this.bannerOther.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerOther.style.top = _this.bannerOther.style.top - 25;
                }
            });
            this.bannerOther.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerOther != undefined) {
            this.bannerOther.show();
        }
    };
    WXAdMgr.prototype.ShowBannerAd_ClassicEnd = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerClassicEndIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerClassicEnd) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
        }
        if (!this.bannerClassicEnd) {
            this.destroyBannerAdClassicEnd();
            this.bannerClassicEnd = window["wx"].createBannerAd({
                adUnitId: 'adunit-dcacf7fd6e654b4d',
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerClassicEnd.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.bannerClassicEnd.onResize(function (r) {
                _this.bannerClassicEnd.style.left = (screenW - _this.bannerClassicEnd.style.realWidth) / 2;
                _this.bannerClassicEnd.style.top = screenH - _this.bannerClassicEnd.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerClassicEnd.style.top = _this.bannerClassicEnd.style.top - 25;
                }
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerClassicEnd != undefined) {
            this.bannerClassicEnd.show();
        }
    };
    WXAdMgr.prototype.destroyBannerAdHome = function () {
        this.bannerHomeIsHide = true;
        if (this.bannerHome) {
            this.preBannerTime_Home = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
            else {
                this.bannerHome.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdOther = function () {
        this.bannerOtherIsHide = true;
        if (this.bannerOther) {
            this.preBannerTime_Other = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
            else {
                this.bannerOther.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdClassicEnd = function () {
        this.bannerClassicEndIsHide = true;
        if (this.bannerClassicEnd) {
            this.preBannerTime_ClassicEnd = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
            else {
                this.bannerClassicEnd.hide();
            }
        }
    };
    WXAdMgr.prototype.destoryAllBannerAd = function () {
        this.destroyBannerAdHome();
        this.destroyBannerAdOther();
        this.destroyBannerAdClassicEnd();
    };
    return WXAdMgr;
}());
exports.default = WXAdMgr;

},{"../../mgrCommon/HttpMgr":7,"../../models/ConfigData":12,"../../tools/MyUtils":20}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData_1 = require("../../models/UserData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var EventMgr_1 = require("../../mgrCommon/EventMgr");
var StatisticsMgr_1 = require("../../mgrCommon/StatisticsMgr");
var MyLog_1 = require("../../tools/MyLog");
var WXAPI = /** @class */ (function () {
    function WXAPI() {
        var _this = this;
        this._launch = {};
        this.btns = [];
        this._launch = window["wx"].getLaunchOptionsSync();
        EventMgr_1.default.instance.once("getSystemParamListBack", this, function () {
            _this.showShareMenu();
        });
        this.setOpenDomainOffset();
    }
    /*
       success 成功回调
       fail 失败回调
   */
    WXAPI.prototype.doLogin = function (_data) {
        var _this = this;
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].login({
            success: function (res) {
                UserData_1.default.code = res.code;
                //登录接口
                var launch = _this.getLaunchData();
                var _d = {};
                _d.code = res.code;
                if (launch.query) {
                    _d.inviteId = launch.query.invite_uid || '';
                    _d.channelId = launch.query.channel || "";
                    UserData_1.default.fromAppid = launch.query.cur_share_id || "";
                }
                if (launch.referrerInfo) {
                    UserData_1.default.fromImgid = launch.referrerInfo.appId;
                }
                _d.success = _data.success;
                _d.fail = _data.fail;
                HttpMgr_1.default.instance.login(_d);
            },
        });
    };
    WXAPI.prototype.getOffsetOpenDomain = function () {
        return this.offsetOpenDomain;
    };
    WXAPI.prototype.getLaunchData = function () {
        return this._launch;
    };
    WXAPI.prototype.getQuery = function () {
        return this._launch.query;
    };
    WXAPI.prototype.getReferrerInfo = function () {
        return this._launch.referrerInfo;
    };
    WXAPI.prototype.uploadRankDate = function (_data) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var d = [];
        if (!MyUtils_1.default.isNull(_data.level)) {
            d.push({ key: "level", value: _data.level + "" });
        }
        if (!MyUtils_1.default.isNull(_data.score)) {
            d.push({ key: "score", value: _data.score + "" });
        }
        window["wx"].setUserCloudStorage({
            KVDataList: d,
            success: function (res) {
                // console.log("上传数据到微信服务器:" + JSON.stringify(res));
            }
        });
    };
    WXAPI.prototype.showShareMenu = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].showShareMenu({ withShareTicket: true });
        var shareInfo = this.createShareInfo();
        window["wx"].onShareAppMessage(function () {
            return shareInfo;
        });
    };
    WXAPI.prototype.createShareInfo = function (_d) {
        var sd = JSON.parse(ConfigData_1.default.getConfigData("shareInfo"));
        if (!sd) {
            return null;
        }
        var rand_t = MyUtils_1.default.random(0, sd.length - 1);
        var title = sd[rand_t].title;
        var imageUrl = sd[rand_t].img;
        var query = "invite_uid=" + (UserData_1.default.userId ? UserData_1.default.userId : "");
        query += "&cur_share_id=" + sd[rand_t].id;
        query += "&avatarUrlGroup=" + (UserData_1.default.avatarUrl ? UserData_1.default.avatarUrl : "");
        query += "&nickNameGroup=" + (UserData_1.default.nickName ? UserData_1.default.nickName : "");
        query += "&channel=" + (UserData_1.default.channelId ? UserData_1.default.channelId : "");
        if (_d) {
            if (_d.id) {
                query += "&scene=" + _d.id;
            }
            if (_d.itemId) {
                query += "&itemId=" + _d.itemId;
            }
            if (_d.type) {
                query += "&type=" + _d.type;
            }
            if (_d.share_title) {
                title = _d.share_title;
            }
            if (_d.share_img) {
                imageUrl = _d.share_img;
            }
        }
        return {
            title: title,
            imageUrl: imageUrl,
            query: query,
        };
    };
    WXAPI.prototype.shareAppMessage = function (_d, type) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (_d.callback) {
            var shareData = {
                caller: _d.caller,
                callback: _d.callback,
                args: _d.args,
            };
            EventMgr_1.default.instance.emit("go-share", shareData);
        }
        if (!ConfigData_1.default.getConfigData("shareInfo")) {
            return;
        }
        StatisticsMgr_1.default.instance.shareStatistics(type);
        var shareInfo = this.createShareInfo(_d);
        window["wx"].shareAppMessage(shareInfo);
    };
    WXAPI.prototype.navigateToMiniProgram = function (_d) {
        if (!_d || !Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].navigateToMiniProgram({
            appId: _d.appid,
            path: _d.path,
            extraData: {
                foo: 'bar',
            },
            // envVersion: 'develop',
            success: function (res) {
                StatisticsMgr_1.default.instance.navigateToMiniProgramStatistics(_d);
                if (_d.callback) {
                    _d.callback("success");
                }
                _d.callback = null;
            }
        });
    };
    /**
    * 设置子域界面偏移，适配不同的屏幕界面
    */
    WXAPI.prototype.setOpenDomainOffset = function () {
        var offsetX = Laya.stage.width - 750;
        if (offsetX < 0) {
            offsetX = 0;
        }
        var offsetY = Laya.stage.height - 1334;
        if (offsetY < 0) {
            offsetY = 0;
        }
        this.offsetOpenDomain = new Laya.Vector2(offsetX, offsetY);
    };
    WXAPI.prototype.createAuthorizationButton = function (_data) {
        if (Laya.Browser.onMiniGame) {
            wx.getSetting({
                success: function (res) {
                    var _this = this;
                    if (res.authSetting && res.authSetting["scope.userInfo"]) {
                        MyLog_1.default.log("已经授权");
                    }
                    else {
                        var sWidth = Laya.stage.width;
                        var sHeight = Laya.stage.height;
                        var xb = (Laya.Browser.width / Laya.Browser.pixelRatio) / sWidth;
                        var yb = (Laya.Browser.height / Laya.Browser.pixelRatio) / sHeight;
                        var left = (_data.x - _data.width / 2) * xb;
                        var top_1 = (_data.y + this.offsetOpenDomain.y - _data.height / 2) * yb;
                        var width = _data.width * xb;
                        var height = (_data.height) * yb;
                        // let backgroundColor = "#ffffff";
                        if (_data.isFull) {
                            left = 0;
                            top_1 = (_data.y + this.offsetOpenDomain.y / 2) * yb;
                            width = width;
                            height = height;
                            // backgroundColor = "#ff0703";
                        }
                        var button_1 = window["wx"].createUserInfoButton({
                            type: 'text',
                            text: '',
                            style: {
                                left: left,
                                top: top_1,
                                width: width,
                                height: height,
                            },
                        });
                        if (this.btns) {
                            this.btns.push({ "button": button_1, "isFull": _data.isFull });
                        }
                        button_1.onTap(function (res) {
                            if (res && res.userInfo) {
                                UserData_1.default.nickName = res.userInfo.nickName;
                                UserData_1.default.gender = res.userInfo.gender;
                                UserData_1.default.avatarUrl = res.userInfo.avatarUrl;
                                StatisticsMgr_1.default.instance.authorStatistics();
                                HttpMgr_1.default.instance.updateUserInfo();
                                if (_this.btns) {
                                    _this.btns.forEach(function (element) {
                                        if (element) {
                                            element.button.destroy();
                                        }
                                    });
                                }
                                _this.btns = null;
                                button_1.destroy();
                                if (_data.successBack) {
                                    _data.successBack.method.call(_data.successBack.caller);
                                }
                            }
                            else {
                                _this.destoryAuthorization();
                                if (_data.failBack) {
                                    _data.failBack.method.call(_data.failBack.caller);
                                }
                            }
                        });
                    }
                },
                fail: function () { },
                complete: function () { }
            });
        }
    };
    WXAPI.prototype.destoryAuthorization = function () {
        if (!ConfigData_1.default.repeatAuthorization) { //如果不需要重复弹授权
            ConfigData_1.default.isCreateAuthorization = true;
            if (this.btns) {
                this.btns.forEach(function (element) {
                    if (element) {
                        element.button.destroy();
                    }
                });
            }
        }
        else {
            this.setAuthorizationCheck(false);
        }
    };
    WXAPI.prototype.setAuthorizationCheck = function (flag) {
        if (this.btns) {
            this.btns.forEach(function (element) {
                if (element) {
                    if (flag) {
                        element.button.show();
                    }
                    else {
                        element.button.hide();
                    }
                }
            });
        }
    };
    WXAPI.prototype.vibrateShort = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateShort();
        }
    };
    WXAPI.prototype.vibrateLong = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateLong();
        }
    };
    return WXAPI;
}());
exports.default = WXAPI;

},{"../../mgrCommon/EventMgr":6,"../../mgrCommon/HttpMgr":7,"../../mgrCommon/StatisticsMgr":10,"../../models/ConfigData":12,"../../models/UserData":14,"../../tools/MyLog":19,"../../tools/MyUtils":20}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../../models/ConfigData");
var SoundMgr_1 = require("../../mgrCommon/SoundMgr");
var GameMgr_1 = require("../../mgr3d/GameMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var WXLaunch = /** @class */ (function (_super) {
    __extends(WXLaunch, _super);
    function WXLaunch() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.toProcess = 1;
        _this.progress = 0;
        _this.scene3dUrl = "LayaScene_Eatitup/Conventional/Eatitup.ls";
        return _this;
    }
    WXLaunch.prototype.getLaunchTipMsg = function () {
        var tips = [
            "按住屏幕舌头会伸长哦",
            "敲好玩，值得等待，呱~"
        ];
        return tips[MyUtils_1.default.random(0, tips.length - 1)];
    };
    WXLaunch.prototype.onEnable = function () {
        var _this = this;
        if (Laya.Browser.onMiniGame) {
            var xhr = new Laya.HttpRequest();
            xhr.once(Laya.Event.COMPLETE, this, function (data) {
                if (data && typeof data != "string" && typeof data == "object") {
                    if (ConfigData_1.default.jsonVersion != data.vision) {
                        xhr = new Laya.HttpRequest();
                        xhr.once(Laya.Event.COMPLETE, _this, function (res) {
                            if (res && typeof res != "string" && typeof res == "object") {
                                ConfigData_1.default.initConfigData(res, true);
                            }
                        });
                        xhr.send(data.path, null, "get", "json", ["Content-Type", "application/json"]);
                    }
                }
            });
            xhr.send(ConfigData_1.default.jsonVersionUrl, null, "get", "json", ["Content-Type", "application/json"]);
        }
        var group = this.owner.getChildByName("progressGroup");
        this.pro = group.getChildByName("progress");
        this.proLabel = group.getChildByName("proLabel");
        this.tipLable = this.owner.getChildByName("tipBg").getChildByName("lbl_tip");
        this.tipLable.text = this.getLaunchTipMsg();
        this.loadRes();
    };
    WXLaunch.prototype.loadRes = function () {
        var _this = this;
        var resource = [
            { url: "res/atlas/rank.atlas", type: Laya.Loader.ATLAS },
            { url: "res/json/config.json", type: Laya.Loader.JSON },
            { url: "res/json/" + ConfigData_1.default.language + ".json", type: Laya.Loader.JSON },
        ];
        var self = this;
        if (Laya.Browser.onMiniGame) {
            var loadTask = window["wx"].loadSubpackage({
                name: 'res3d',
                success: function (res) {
                    // 分包加载成功后通过 success 回调
                    var loadTask1 = window["wx"].loadSubpackage({
                        name: 'res',
                        success: function (res) {
                            // 分包加载成功后通过 success 回调
                            Laya.loader.load(resource, Laya.Handler.create(_this, function () {
                                self.updateProgress(0.99);
                                _this.loadResComplete();
                            }), Laya.Handler.create(_this, function (res) {
                                self.updateProgress(0.6 + res * 0.4);
                            }));
                        },
                        fail: function (res) {
                            // 分包加载失败通过 fail 回调
                            _this.loadRes();
                        }
                    });
                    loadTask1.onProgressUpdate(function (res) {
                        self.updateProgress(0.3 + res.progress * 0.003);
                    });
                },
                fail: function (res) {
                    // 分包加载失败通过 fail 回调
                    _this.loadRes();
                }
            });
            loadTask.onProgressUpdate(function (res) {
                self.updateProgress(res.progress * 0.003);
            });
        }
        else {
            Laya.loader.load(resource, Laya.Handler.create(this, function () {
                self.updateProgress(0.99);
                _this.loadResComplete();
            }), Laya.Handler.create(this, function (res) {
                self.updateProgress(res);
            }));
        }
    };
    WXLaunch.prototype.loadResComplete = function () {
        //本地游戏数据配置
        ConfigData_1.default.initConfigData(Laya.Loader.getRes("res/json/config.json"));
        //语言文件
        ConfigData_1.default.languageData = Laya.Loader.getRes("res/json/" + ConfigData_1.default.language + ".json");
        Laya.Scene3D.load(this.scene3dUrl, Laya.Handler.create(this, this.On3DResLoadComplete));
        // this.On3DResLoadComplete();
    };
    WXLaunch.prototype.On3DResLoadComplete = function (scene) {
        this.updateProgress(1);
        if (Laya.Browser.onMiniGame) {
            // console.log("子域加载res/atlas/rank.atlas");
            Laya.MiniAdpter.sendAtlasToOpenDataContext("res/atlas/rank.atlas"); //使用接口将图集透传到子域
        }
        SoundMgr_1.default.instance.playBGM();
        scene.addComponent(GameMgr_1.default);
        Laya.stage.addChild(scene);
        // Laya.Scene.open("MainScene.scene", true);
    };
    /**
         * 更新资源加载进度
         */
    WXLaunch.prototype.updateProgress = function (progress) {
        var _this = this;
        this.progress = progress;
        this.progress > this.toProcess ? this.toProcess : this.progress;
        //最高100%进度
        if (this.progress >= 1) {
            // Laya.Tween.clearAll(this.pro);
            this.proLabel.text = "游戏加载完毕，即将进入游戏...";
            this.pro.width = 500;
            Laya.timer.frameOnce(2, this, function () {
                _this.owner.destroy();
                Laya.loader.clearRes("res/atlas/loading.atlas");
                _this.destroy();
            });
        }
        else {
            this.pro.width = 500 * this.progress;
            // Laya.Tween.clearAll(this.pro);
            // Laya.Tween.to(this.pro,{width:500 * this.progress},100,Laya.Ease.linearNone)
            //进度增加
            this.proLabel.text = "资源加载中..." + Math.floor(this.progress * 100) + "%";
        }
    };
    return WXLaunch;
}(Laya.Script));
exports.default = WXLaunch;

},{"../../mgr3d/GameMgr":5,"../../mgrCommon/SoundMgr":9,"../../models/ConfigData":12,"../../tools/MyUtils":20}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var UserData_1 = require("../models/UserData");
var HttpUtils = /** @class */ (function () {
    function HttpUtils() {
    }
    HttpUtils.prototype.request = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        var url = "";
        if (_d.url.indexOf("https://") > -1 ||
            _d.url.indexOf("http://") > -1) {
            url = _d.url;
        }
        else {
            url = ConfigData_1.default.serverUrl + _d.url;
        }
        var completeFunc = function (res) {
            if (_d.callback) {
                // console.log("url:" + url +" res:" + JSON.stringify(res));
                _d.callback(res);
            }
        };
        var errorFunc = function (res) {
            if (_d.fail) {
                _d.fail(res);
            }
        };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        xhr.once(Laya.Event.COMPLETE, this, completeFunc);
        xhr.once(Laya.Event.ERROR, this, errorFunc);
        xhr.send(url, JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    HttpUtils.prototype.requestStatistics = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        _d.url = _d.url || "";
        var url = ConfigData_1.default.statisticsUrl + _d.url;
        // var completeDel = (res) => {
        //     if (_d.callback) {
        //         // console.log("url:" + url +" res:" + JSON.stringify(res));
        //         _d.callback(res);
        //     }
        // };
        // var errorDel = (res) => {
        //     if (_d.fail)  {
        //         _d.fail(res);
        //     }
        // };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        // xhr.once(Laya.Event.COMPLETE, this, completeDel);
        // xhr.once(Laya.Event.ERROR, this, errorDel);
        xhr.send(url, "param=" + JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    return HttpUtils;
}());
exports.default = HttpUtils;

},{"../models/ConfigData":12,"../models/UserData":14}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var MyLog = /** @class */ (function () {
    function MyLog() {
    }
    MyLog.log = function (arg1, arg2) {
        if (ConfigData_1.default.isLog) {
            console.log(arg1, arg2);
        }
    };
    return MyLog;
}());
exports.default = MyLog;

},{"../models/ConfigData":12}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils = /** @class */ (function () {
    function MyUtils() {
    }
    MyUtils.isNull = function (obj) {
        if (obj != 0 && (obj == null || obj == "" || obj == undefined)) {
            return true;
        }
        return false;
    };
    MyUtils.random = function (min, max) {
        var range = max - min;
        var rand = Math.random();
        var num = min + Math.round(rand * range); //四舍五入
        return num;
    };
    /**
 * 比较版本号，格式xx.xx.xx
 * @param v1 当前版本号
 * @param v2 目标版本号
*/
    MyUtils.compareVersion = function (v1, v2) {
        v1 = v1.split('.');
        v2 = v2.split('.');
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) {
            v1.push('0');
        }
        while (v2.length < len) {
            v2.push('0');
        }
        for (var i = 0; i < len; i++) {
            var num1 = parseInt(v1[i]);
            var num2 = parseInt(v2[i]);
            if (num1 > num2) {
                return 1;
            }
            else if (num1 < num2) {
                return -1;
            }
        }
        return 0;
    };
    //顶部按钮对齐，大体适配是ok的
    MyUtils.autoScreenSize = function (node) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var info = wx.getSystemInfoSync();
        var Y = 60;
        if (info.statusBarHeight < 20) { //18
            Y += 10;
        }
        else if (info.statusBarHeight >= 30) { //44
            Y += 60;
        }
        else if (info.statusBarHeight > 20 && info.statusBarHeight < 30) { //27
            Y += 74;
        }
        node.forEach(function (e) {
            e.y = Y;
        });
    };
    return MyUtils;
}());
exports.default = MyUtils;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvbXQvMXNxYnJxeTExX3M2bV9fZ3lqeDJfeWwwMDAwMGdwL1QvQXBwVHJhbnNsb2NhdGlvbi9ENTVFNzUwRC01MDM1LTRBNkMtQjc1RC1EREVEMUQ4Mzk1RTkvZC9MYXlhQWlySURFLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9Mb2dpbi50cyIsInNyYy9zY3JpcHQvTXlJbml0LnRzIiwic3JjL3NjcmlwdC9tZ3IzZC9HYW1lTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vRXZlbnRNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9IdHRwTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vUGxhdGZvcm1NZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9Tb3VuZE1nci50cyIsInNyYy9zY3JpcHQvbWdyQ29tbW9uL1N0YXRpc3RpY3NNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9TdG9yYWdlTWdyLnRzIiwic3JjL3NjcmlwdC9tb2RlbHMvQ29uZmlnRGF0YS50cyIsInNyYy9zY3JpcHQvbW9kZWxzL0N1cnJHYW1lRGF0YS50cyIsInNyYy9zY3JpcHQvbW9kZWxzL1VzZXJEYXRhLnRzIiwic3JjL3NjcmlwdC9wbGF0Zm9ybS93eC9XWEFETWdyLnRzIiwic3JjL3NjcmlwdC9wbGF0Zm9ybS93eC9XWEFQSS50cyIsInNyYy9zY3JpcHQvcGxhdGZvcm0vd3gvV1hMYXVuY2gudHMiLCJzcmMvc2NyaXB0L3Rvb2xzL0h0dHBVdGlscy50cyIsInNyYy9zY3JpcHQvdG9vbHMvTXlMb2cudHMiLCJzcmMvc2NyaXB0L3Rvb2xzL015VXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7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SUFBSSxHQUFHLElBQUksRUFBRTtnQkFDakIsT0FBTyxDQUFDLENBQUE7YUFDUDtpQkFBTSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7Z0JBQ3hCLE9BQU8sQ0FBQyxDQUFDLENBQUE7YUFDUjtTQUNKO1FBRUQsT0FBTyxDQUFDLENBQUE7SUFDWixDQUFDO0lBRUQsaUJBQWlCO0lBQ0gsc0JBQWMsR0FBNUIsVUFBNkIsSUFBVztRQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTTtTQUNUO1FBQ0QsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1gsSUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUk7WUFDakMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNYO2FBQ0ksSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLEVBQUUsRUFBRSxFQUFFLElBQUk7WUFDdkMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNYO2FBQ0ksSUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsSUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUk7WUFDbkUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNYO1FBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7WUFDVixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNaLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUdMLGNBQUM7QUFBRCxDQXRFQSxBQXNFQyxJQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgV1hMYXVuY2ggZnJvbSBcIi4vc2NyaXB0L3BsYXRmb3JtL3d4L1dYTGF1bmNoXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTc1MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEzMzQ7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cInZlcnRpY2FsXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cIm1pZGRsZVwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJjZW50ZXJcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkxhdW5jaC5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L3BsYXRmb3JtL3d4L1dYTGF1bmNoLnRzXCIsV1hMYXVuY2gpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IE15SW5pdCBmcm9tIFwiLi9zY3JpcHQvTXlJbml0XCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cclxuXHRcdExheWEuaXNXWE9wZW5EYXRhQ29udGV4dCA9IGZhbHNlO1xyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblx0XHRcclxuXHRcdE15SW5pdC5pbml0KCk7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdC8vIExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0XHR0aGlzLm9uVmVyc2lvbkxvYWRlZCgpO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRsZXQgcmVzOiBBcnJheTxhbnk+ID0gW1xyXG5cdFx0XHR7IHVybDogXCJjb21tb24vbG9hZGluZy5hdGxhc1wiLCB0eXBlOiBMYXlhLkxvYWRlci5BVExBUyB9LFxyXG5cdFx0XTtcclxuXHRcdC8vc3RhcnRTY2VuZSDlupTor6Xorr7nva7kuLpsYXVuY2jpobXpnaJcclxuXHRcdExheWEubG9hZGVyLmxvYWQocmVzLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuXHRcdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdFx0fSkpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuaW1wb3J0IEh0dHBNZ3IgZnJvbSBcIi4vbWdyQ29tbW9uL0h0dHBNZ3JcIjtcbmltcG9ydCBTdG9yYWdlTWdyIGZyb20gXCIuL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XG5pbXBvcnQgU3RhdGlzdGljc01nciBmcm9tIFwiLi9tZ3JDb21tb24vU3RhdGlzdGljc01nclwiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuL21vZGVscy9Vc2VyRGF0YVwiO1xuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuL21nckNvbW1vbi9FdmVudE1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbiBleHRlbmRzIExheWEuU2NyaXB0e1xuXHRsb2dpbigpIHtcblx0XHRIdHRwTWdyLmluc3RhbmNlLmdldFN5c3RlbUNvbmZpZygpO1xuXHRcdHRoaXMubG9naW5GdW4oKTtcblx0fVxuXG5cdGxvZ2luRnVuKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAoQ29uZmlnRGF0YS5yZWxlYXNlUGxhdGZvcm0pIHtcblx0XHRcdFBsYXRmb3JtTWdyLnB0QVBJLmRvTG9naW4oe1xuXHRcdFx0XHRzdWNjZXNzOkxheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLmxvZ2luU3VjY2VzcyxudWxsLHRydWUpLFxuXHRcdFx0XHRmYWlsOkxheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLmxvZ2luRnVuLG51bGwsdHJ1ZSlcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgX2Q6IGFueSA9IHt9XG5cdFx0XHRfZC5jb2RlID0gXCIxMjNcIjtcblx0XHRcdF9kLmludml0ZUlkID0gJyc7XG5cdFx0XHRfZC5jaGFubmVsSWQgPSBcIlwiO1xuXHRcdFx0X2Quc3VjY2VzcyA9IHRoaXMubG9naW5TdWNjZXNzO1xuXHRcdFx0SHR0cE1nci5pbnN0YW5jZS5sb2dpbihfZClcblx0XHR9XG5cdH1cblxuXHRsb2dpblN1Y2Nlc3MoZGF0YSkge1xuXHRcdGlmIChkYXRhKSB7XG5cdFx0XHRVc2VyRGF0YS5pc0xvZ2luID0gdHJ1ZTtcblx0XHRcdFVzZXJEYXRhLnVzZXJJZCA9IGRhdGEudXNlcklkO1xuXHRcdFx0VXNlckRhdGEubmlja05hbWUgPSBkYXRhLm5pa2VuYW1lO1xuXHRcdFx0VXNlckRhdGEuYXZhdGFyVXJsID0gZGF0YS5oZWFkSW1hZ2U7XG5cdFx0XHRVc2VyRGF0YS5kaWFtb25kID0gZGF0YS51c2VyTW9uZXk7XG5cdFx0XHRVc2VyRGF0YS5jaGFubmVsSWQgPSBkYXRhLmNoYW5uZWxJZDtcblx0XHRcdFVzZXJEYXRhLmxldmVsID0gZGF0YS5sZXZlbDtcblx0XHRcdFVzZXJEYXRhLnNjb3JlID0gZGF0YS5zY29yZTtcblx0XHRcdFVzZXJEYXRhLm9wZW5JZCA9IGRhdGEub3BlbmlkO1xuXHRcdFx0VXNlckRhdGEuaXNOZXcgPSBkYXRhLmlzTmV3VXNlcjtcblx0XHRcdFVzZXJEYXRhLmV4cCA9IGRhdGEubm93RXhwO1xuXHRcdFx0Ly/nvJPlrZjnlKjmiLfkv6Hmga/liLDmnKzlnLBcblx0XHRcdFN0b3JhZ2VNZ3Iuc2F2ZVVzZXJEYXRhKCk7XG5cdFx0XHRpZihQbGF0Zm9ybU1nci5wdEFQSSl7XG5cdFx0XHRcdC8v5LiK5Lyg5o6S6KGM5pWw5o2uXG5cdFx0XHRcdFBsYXRmb3JtTWdyLnB0QVBJLnVwbG9hZFJhbmtEYXRlKHtcblx0XHRcdFx0XHRsZXZlbDogZGF0YS5sZXZlbCB8fCAwLFxuXHRcdFx0XHRcdHNjb3JlOiBkYXRhLnNjb3JlIHx8IDAsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly/kuIrkvKDnu5/orqFcblx0XHRcdFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2UubG9naW5TdGF0aXN0aWNzUG9zdCgpO1xuXHRcdH1cblx0XHQvLyBFdmVudE1nci5pbnN0YW5jZS5lbWl0KFwibG9naW5TdWNjZXNzXCIpO1xuXHR9XG5cbn1cblxuIiwiaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xyXG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi9tZ3JDb21tb24vU3RvcmFnZU1nclwiO1xyXG5pbXBvcnQgV1hBZE1nciBmcm9tIFwiLi9wbGF0Zm9ybS93eC9XWEFETWdyXCI7XHJcbmltcG9ydCBMb2dpbiBmcm9tIFwiLi9Mb2dpblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlJbml0IHtcclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pbml0TG9jYWwoKTtcclxuICAgICAgICBTdG9yYWdlTWdyLmdldExvY2FsVXNlckRhdGEoKTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5pbml0UGxhdGZvcm0oKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3IExvZ2luKCkubG9naW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBDdXJyR2FtZURhdGEgZnJvbSBcIi4uL21vZGVscy9DdXJyR2FtZURhdGFcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNZ3IgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGluc3RhbmNlOiBHYW1lTWdyID0gbmV3IEdhbWVNZ3IoKTtcclxuICAgIHByaXZhdGUgX2N1cnJHYW1lRGF0YTpDdXJyR2FtZURhdGE7XHJcbiAgICBwcml2YXRlIF9mb2dDb2xvcnM6QXJyYXk8TGF5YS5WZWN0b3IzPiA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgX3NjZW5lM2Q6TGF5YS5TY2VuZTNEO1xyXG4gICAgLy/mkYTlg4/mnLpcclxuICAgIHByaXZhdGUgX2NhbWVyYTogTGF5YS5DYW1lcmE7XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuX2N1cnJHYW1lRGF0YSA9IG5ldyBDdXJyR2FtZURhdGEoKTtcclxuICAgICAgICB0aGlzLl9zY2VuZTNkID0gdGhpcy5vd25lciBhcyBMYXlhLlNjZW5lM0Q7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcIk1haW4gQ2FtZXJhXCIpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIC8vIHRoaXMuX2NhbWVyYS5mYXJQbGFuZSA9IDMzOyAvL+WPr+S7peiAg+iZkei/meagt+aPkOmrmOaAp+iDvVxyXG5cclxuICAgICAgICAvL+aYr+WQpumcgOimgeW8gOWQr+mbvlxyXG4gICAgICAgIC8vIHRoaXMuX3NjZW5lM2QuZW5hYmxlRm9nID0gdHJ1ZTtcclxuICAgICAgICAvLyAvL+iuvue9rumbvuWMlueahOminOiJslxyXG4gICAgICAgIC8vIHRoaXMuX3NjZW5lM2QuZm9nQ29sb3IgPSB0aGlzLl9mb2dDb2xvcnNbMF07XHJcbiAgICAgICAgLy8gLy/orr7nva7pm77ljJbnmoTotbflp4vkvY3nva7vvIznm7jlr7nkuo7nm7jmnLrnmoTot53nprtcclxuICAgICAgICAvLyB0aGlzLl9zY2VuZTNkLmZvZ1N0YXJ0ID0gMTA7XHJcbiAgICAgICAgLy8gLy/orr7nva7pm77ljJbmnIDmtZPlpITnmoTot53nprvjgIJcclxuICAgICAgICAvLyB0aGlzLl9zY2VuZTNkLmZvZ1JhbmdlID0gMjA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEdhbWVEYXRhKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJHYW1lRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBpbml0R2FtZUJ5RGF0YShfZCl7XHJcbiAgICAgICAgdGhpcy5fY3VyckdhbWVEYXRhLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG59IiwiLy/lhajlsYDkuovku7ZcbmltcG9ydCBFdmVudERpc3BhdGNoZXIgPSBsYXlhLmV2ZW50cy5FdmVudERpc3BhdGNoZXI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudE1nciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gICAgc3RhdGljIGV2ZW50RGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IEV2ZW50TWdyID0gbmV3IEV2ZW50TWdyKCk7O1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIC8v5rS+5Y+R5LqL5Lu2XG4gICAgcHVibGljIGVtaXQoSW5OYW1lLCBhZ3Y/OiBhbnkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmtL7lj5Hkuovku7ZcIiArIEluTmFtZSxhZ3YpO1xuICAgICAgICBFdmVudE1nci5ldmVudERpc3BhdGNoZXIuZXZlbnQoSW5OYW1lLCBhZ3YpO1xuICAgIH1cbiAgICAvL+S+puWQrOS6i+S7tlxuICAgIHB1YmxpYyBvbkV2ZW50KEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcjogRnVuY3Rpb24sIGFyZz86IGFueVtdKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5L6m5ZCs5LqL5Lu2XCIsSW5OYW1lKTtcbiAgICAgICAgRXZlbnRNZ3IuZXZlbnREaXNwYXRjaGVyLm9uKEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lciwgKGFyZyA9PSBudWxsKSA/IG51bGwgOiAoW2FyZ10pKTtcbiAgICB9XG5cbiAgICAvL+S+puWQrOS6i+S7tlxuICAgIHB1YmxpYyBvbk9uY2VFdmVudChJbk5hbWUsIGNhbGxlciwgbGlzdGVuZXI6IEZ1bmN0aW9uLCBhcmc/OiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuS+puWQrOS6i+S7tlwiLEluTmFtZSk7XG4gICAgICAgIEV2ZW50TWdyLmV2ZW50RGlzcGF0Y2hlci5vbmNlKEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lciwgKGFyZyA9PSBudWxsKSA/IG51bGwgOiAoW2FyZ10pKTtcbiAgICB9XG5cbiAgICAvL+enu+mZpOS6i+S7tlxuICAgIHB1YmxpYyBvbk9mZkV2ZW50KEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcjogRnVuY3Rpb24sIGFyZz86IGFueVtdKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5YWz6Zet5LqL5Lu2XCIsSW5OYW1lKTtcbiAgICAgICAgRXZlbnRNZ3IuZXZlbnREaXNwYXRjaGVyLm9mZihJbk5hbWUsIGNhbGxlciwgbGlzdGVuZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi9TdG9yYWdlTWdyXCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgSHR0cFV0aWxzIGZyb20gXCIuLi90b29scy9IdHRwVXRpbHNcIjtcclxuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9tb2RlbHMvVXNlckRhdGFcIjtcclxuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuL0V2ZW50TWdyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwTWdyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IEh0dHBNZ3IgPSBuZXcgSHR0cE1ncigpO1xyXG4gICAgcHJpdmF0ZSBfaHR0cDpIdHRwVXRpbHMgPSBuZXcgSHR0cFV0aWxzKCk7XHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG4gICAgLy/nmbvpmYZcclxuICAgIHB1YmxpYyBsb2dpbihfZDphbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICB1cmw6ICd1c2VyTG9naW4uYWN0aW9uJywgZGF0YTogX2QsIGNhbGxiYWNrOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLnNlc3Npb25JZCA9IHJlcy5zZXNzaW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1nci5zYXZlU2Vzc2lvbihVc2VyRGF0YS5zZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKF9kLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5zdWNjZXNzKHJlcylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXNzaW9uSWQg6L+H5pyfXHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1nci5zYXZlU2Vzc2lvbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5zZXNzaW9uSWQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKF9kLmZhaWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5mYWlsKHJlcylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy/lvIDlhbPphY3liLZcclxuICAgIHB1YmxpYyBnZXRTeXN0ZW1Db25maWcoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0KHtcclxuXHRcdFx0dXJsOiAnZ2V0U3lzdGVtUGFyYW1MaXN0LmFjdGlvbicsIGRhdGE6IHsgbm93VmVyc2lvbjogQ29uZmlnRGF0YS52ZXJzaW9uIH0sIGNhbGxiYWNrOiAocmVzKSA9PiB7XHJcblx0XHRcdFx0aWYgKHJlcy5jb2RlID09IDApIHtcclxuXHRcdFx0XHRcdENvbmZpZ0RhdGEuY3RybEluZm8gPSB7XHJcblx0XHRcdFx0XHRcdGlzQ29udmVyZ2U6IHJlcy5pc0NvbnZlcmdlLCAvL+iBmuWQiOW8gOWFs1xyXG5cdFx0XHRcdFx0XHRpc1NoYXJlOiByZXMuaXNTaGFyZSxcclxuXHRcdFx0XHRcdFx0aXNWaWRlbzogcmVzLmlzVmlkZW8sXHJcblx0XHRcdFx0XHRcdGlzV3VkaWFuOnJlcy5pc1d1ZGlhbiwgLy/or6/ngrnlvIDlhbNcclxuXHRcdFx0XHRcdFx0c2hhcmVJbmZvOiByZXMuc2hhcmVJbmZvLFxyXG5cdFx0XHRcdFx0XHRpc0Jhbm5lcjpyZXMuaXNfYmFubmVyLC8vYmFubmVy5bm/5ZGK5o6n5Yi2XHJcblx0XHRcdFx0XHRcdGFkSW5mbzogcmVzLmFkSW5mbyxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdldFN5c3RlbVBhcmFtTGlzdEJhY2tcIik7XHJcblx0XHRcdH0sZmFpbDoocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdldFN5c3RlbVBhcmFtTGlzdEJhY2tcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVVc2VySW5mbygpe1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ3VwZGF0ZVVzZXJJbmZvLmFjdGlvbicsIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOlVzZXJEYXRhLm5pY2tOYW1lLFxyXG4gICAgICAgICAgICAgICAgaGVhZGltZ3VybDpVc2VyRGF0YS5hdmF0YXJVcmwsXHJcbiAgICAgICAgICAgICAgICBzZXg6VXNlckRhdGEuZ2VuZGVyLFxyXG4gICAgICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpc3RpY3NQb3N0KF9kKXtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3RTdGF0aXN0aWNzKF9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlkZW9FcnJvckNhbGxiYWNrKCl7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdXJsOiAndmlkZW9DYWxsYmFjay5hY3Rpb24nLCBjYWxsYmFjazogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzLmNvZGUgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuYWRDb3VudCA9IHJlcy5hZENvdW50OyAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdvcmxkUmFuayhfZCl7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdXJsOiAnZ2V0V29ybGRSYW5rLmFjdGlvbicsZGF0YTogeyBwYWdlOiAxLCB0eXBlOiAxIH0sIGNhbGxiYWNrOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMuY29kZSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihfZC5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Quc3VjY2VzcyhyZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH19KTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgV1hBUEkgZnJvbSBcIi4uL3BsYXRmb3JtL3d4L1dYQVBJXCI7XHJcbmltcG9ydCBGQkFQSSBmcm9tIFwiLi4vcGxhdGZvcm0vZmIvRkJBUElcIjtcclxuaW1wb3J0IFdYQWRNZ3IgZnJvbSBcIi4uL3BsYXRmb3JtL3d4L1dYQURNZ3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXRmb3JtTWdyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZTogUGxhdGZvcm1NZ3IgPSBuZXcgUGxhdGZvcm1NZ3IoKTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcHRBUEk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHB0QWRNZ3I7XHJcblxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaW5pdFBsYXRmb3JtKCl7XHJcbiAgICAgICAgc3dpdGNoKENvbmZpZ0RhdGEucmVsZWFzZVBsYXRmb3JtKXtcclxuICAgICAgICAgICAgY2FzZSBcInd4XCI6XHJcbiAgICAgICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFQSSA9IG5ldyBXWEFQSSgpO1xyXG4gICAgICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBZE1nciA9IG5ldyBXWEFkTWdyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmYlwiOlxyXG4gICAgICAgICAgICAgICAgLy9uZXcgZmLnmoTnrqHnkIbnsbtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMucHRBUEkgPSBuZXcgRkJBUEkoKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMucHRBZE1nciA9IG5ldyBGQkFkTWdyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdW5kTWdyIHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlOiBTb3VuZE1nciA9IG5ldyBTb3VuZE1ncigpO1xuICAgIHByaXZhdGUgYmdtOmFueTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5U291bmQobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICghQ29uZmlnRGF0YS5pc1NvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IFwicmVzL3NvdW5kL1wiICsgbmFtZSArIFwiLm1wM1wiO1xuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IGxheWEudXRpbHMuUG9vbC5nZXRJdGVtKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHNvdW5kID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzb3VuZCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgICAgICAgc291bmQuc3JjID0gXCJyZXMvc291bmQvXCIgKyBuYW1lICsgXCIubXAzXCI7XG4gICAgICAgICAgICAgICAgc291bmQub25FbmRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxheWEudXRpbHMuUG9vbC5yZWNvdmVyKG5hbWUsIHNvdW5kKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKHVybCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheUJHTSgpe1xuICAgICAgICBpZiAoIUNvbmZpZ0RhdGEuaXNTb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB1cmwgPSBcInJlcy9zb3VuZC9iZ20ubXAzXCI7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgdGhpcy5iZ20gPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5iZ20uc3JjID0gdXJsO1xuICAgICAgICAgICAgdGhpcy5iZ20ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5TXVzaWModXJsLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wQkdNKCl7XG4gICAgICAgIGxldCB1cmwgPSBcInJlcy9zb3VuZC9iZ20ubXAzXCI7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgaWYodGhpcy5iZ20pe1xuICAgICAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wTXVzaWMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgSHR0cE1nciBmcm9tIFwiLi9IdHRwTWdyXCI7XHJcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vbW9kZWxzL1VzZXJEYXRhXCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGlzdGljc01nciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlOiBTdGF0aXN0aWNzTWdyID0gbmV3IFN0YXRpc3RpY3NNZ3IoKTtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcbiBcclxuICAgIC8v55m76ZmG57uf6K6hXHJcbiAgICBwdWJsaWMgbG9naW5TdGF0aXN0aWNzUG9zdCgpe1xyXG4gICAgICAgIHZhciBfZDphbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjpcIjEwMDVcIixcclxuICAgICAgICAgICAgZnJvbV9hcHBpZDpVc2VyRGF0YS5mcm9tQXBwaWQsXHJcbiAgICAgICAgICAgIGZyb21faW1naWQ6VXNlckRhdGEuZnJvbUltZ2lkLFxyXG4gICAgICAgICAgICBjb2RlOlVzZXJEYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzbmV3OlVzZXJEYXRhLmlzTmV3ID8gMSA6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye75o6I5p2D57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgYXV0aG9yU3RhdGlzdGljcygpIHtcclxuICAgICAgICB2YXIgX2Q6IGFueSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOiBcIjEwMDZcIixcclxuICAgICAgICAgICAgZnJvbV9hcHBpZDpVc2VyRGF0YS5mcm9tQXBwaWQsXHJcbiAgICAgICAgICAgIGZyb21faW1naWQ6VXNlckRhdGEuZnJvbUltZ2lkLFxyXG4gICAgICAgICAgICBjb2RlOlVzZXJEYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzbmV3OlVzZXJEYXRhLmlzTmV3ID8gMSA6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL+W8gOWni+a4uOaIj+e7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIHN0YXJ0R2FtZVN0YXRpc3RpY3MoKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDA4XCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG4gICAgICAgXHJcbiAgICAvL+WIhuS6q+e7n+iuoeaOpeWPoyAg57G75Z6LOiAw5pmu6YCa5YiG5LqrLCAx5YiG5Lqr5aSN5rS7LCAy5YiG5Lqr6I635Y+W6YGT5YW3LCAz5YiG5Lqr6I635Y+W5oq95aWW5qyh5pWwXHJcbiAgICBwdWJsaWMgc2hhcmVTdGF0aXN0aWNzKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBhY3Rpb246IFwiMTAwOVwiLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+inhumikee7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIGNsaWNrVmlkZW9TdGF0aXN0aWNzKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBhY3Rpb246IFwiMTAxMFwiLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eci+WujOinhumikee7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIHZpZGVvUGxheU92ZXJBZFN0YXRpc3RpY3ModHlwZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDExXCIsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye76Lez6L2s57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtU3RhdGlzdGljcyhfZCkge1xyXG4gICAgICAgIF9kLmFjdGlvbiA9IFwiMTAwN1wiO1xyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye76Lez6L2s5oiQ5Yqf5ZCO57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtQmFja1N0YXRpc3RpY3MoX2QpIHtcclxuICAgICAgICBfZC5hY3Rpb24gPSBcIjEwMTdcIjtcclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+e7n+iuoVxyXG4gICAgcHJpdmF0ZSBzdGF0aXN0aWNzUG9zdChfZGF0YTphbnkpe1xyXG4gICAgICAgIGxldCBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBjaGFubmVsOiBVc2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgIG15X2FwcGlkOiBDb25maWdEYXRhLm15QXBwaWQsXHJcbiAgICAgICAgICAgIG9wZW5pZDogVXNlckRhdGEub3BlbklkLFxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBfZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoX2RhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgX2Rba2V5XSA9IF9kYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgSHR0cE1nci5pbnN0YW5jZS5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uL21vZGVscy9Vc2VyRGF0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZU1nciB7XHJcbiAgICBcclxuICAgIHN0YXRpYyBzZXRTdG9yYWdlKF9kKSB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHd4LnNldFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICBrZXk6IF9kLmtleSxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoX2QudmFsKSxcclxuICAgICAgICAgICAgc3VjY2VzczogX2Quc3VjY2VzcyxcclxuICAgICAgICAgICAgZmFpbDogX2QuZmFpbCxcclxuICAgICAgICAgICAgY29tcGxldGU6IF9kLmNvbXBsZXRlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFN0b3JhZ2UoX2tleSk6IGFueSB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHd4LmdldFN0b3JhZ2VTeW5jKF9rZXkpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNhdmVTZXNzaW9uKF9zKXtcclxuICAgICAgICBTdG9yYWdlTWdyLnNldFN0b3JhZ2Uoe2tleTpcInNlc3Npb25JZFwiLHZhbDpfc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TG9jYWxWaXJib3J0KCl7XHJcbiAgICAgICAgcmV0dXJuIE15VXRpbHMuaXNOdWxsKFN0b3JhZ2VNZ3IuZ2V0U3RvcmFnZShcInZpcmJvcnRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9jYWxWaXJib3J0KHN0cjpzdHJpbmcpe1xyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7XHJcbiAgICAgICAgICAgIGtldDpcInZpcmJvcnRcIiwgXHJcbiAgICAgICAgICAgIHZhbDpzdHJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExvY2FsU291bmQoKXtcclxuICAgICAgICByZXR1cm4gTXlVdGlscy5pc051bGwoU3RvcmFnZU1nci5nZXRTdG9yYWdlKFwic291bmRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9jYWxTb3VuZChzdHI6c3RyaW5nKXtcclxuICAgICAgICBTdG9yYWdlTWdyLnNldFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICBrZXQ6XCJzb3VuZFwiLCBcclxuICAgICAgICAgICAgdmFsOnN0clxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2F2ZVVzZXJEYXRhKCl7XHJcbiAgICAgICAgbGV0IF9kID0ge1xyXG4gICAgICAgICAgICBzZXNzaW9uSWQ6VXNlckRhdGEuc2Vzc2lvbklkLFxyXG4gICAgICAgICAgICBvcGVuSWQ6VXNlckRhdGEub3BlbklkLFxyXG4gICAgICAgICAgICBzY29yZTpVc2VyRGF0YS5zY29yZSxcclxuICAgICAgICAgICAgZXhwOlVzZXJEYXRhLmV4cCxcclxuICAgICAgICAgICAgbGV2ZWw6VXNlckRhdGEubGV2ZWwsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7a2V5OlwidXNlckRhdGFcIix2YWw6X2R9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExvY2FsVXNlckRhdGEoKXtcclxuICAgICAgICBpZihVc2VyRGF0YS5pc0xvZ2luKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgX2QgPSBTdG9yYWdlTWdyLmdldFN0b3JhZ2UoXCJ1c2VyRGF0YVwiKTtcclxuICAgICAgICBpZighTXlVdGlscy5pc051bGwoX2QpKXtcclxuICAgICAgICAgICAgX2QgPSBKU09OLnBhcnNlKF9kKTtcclxuICAgICAgICAgICAgVXNlckRhdGEuc2Vzc2lvbklkID0gX2Quc2Vzc2lvbklkO1xyXG4gICAgICAgICAgICBVc2VyRGF0YS5vcGVuSWQgPSBfZC5vcGVuSWQ7XHJcbiAgICAgICAgICAgIFVzZXJEYXRhLnNjb3JlID0gX2Quc2NvcmU7XHJcbiAgICAgICAgICAgIFVzZXJEYXRhLmV4cCA9IF9kLmV4cDtcclxuICAgICAgICAgICAgVXNlckRhdGEubGV2ZWwgPSBfZC5sZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFN0b3JhZ2VNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZ0RhdGEge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVsZWFzZVBsYXRmb3JtID0gXCJcIjsvL+WPkeW4g+W5s+WPsCB3eCBmYlxuICAgIHB1YmxpYyBzdGF0aWMgbXlBcHBpZCA9IFwid3hiZTlmZTAwMjgxNTA1MTY5XCI7XG4gICAgcHVibGljIHN0YXRpYyBjb25maWdzOiBhbnkgPSBudWxsO1xuICAgIHB1YmxpYyBzdGF0aWMgbGFuZ3VhZ2U6c3RyaW5nID0gXCJjblwiO1xuICAgIHB1YmxpYyBzdGF0aWMgbGFuZ3VhZ2VEYXRhOiBhbnkgPSBudWxsO1xuXG4gICAgcHVibGljIHN0YXRpYyB2ZXJzaW9uID0gXCIxMDBcIjtcbiAgICBwdWJsaWMgc3RhdGljIGpzb25WZXJzaW9uID0gXCIxMDBcIjtcbiAgICBwdWJsaWMgc3RhdGljIHNlcnZlclVybDogc3RyaW5nID0gXCJodHRwczovL3hjeC5iaWFvY3IuY29tL2Z1bm55X2Zyb2cvXCI7XG4gICAgcHVibGljIHN0YXRpYyBqc29uVmVyc2lvblVybDogc3RyaW5nID0gXCJodHRwczovL3AuZG9ndWFuZS5jbi8yMDE5MDQwNC9tXzA0MTcxOTI2MzUyMzIxLmpzb25cIjtcbiAgICBwdWJsaWMgc3RhdGljIHN0YXRpc3RpY3NVcmw6c3RyaW5nID0gXCJodHRwczovL2xvZy56dWFuY3IuY29tL1wiXG5cbiAgICBwdWJsaWMgc3RhdGljIGlzQ3JlYXRlQXV0aG9yaXphdGlvbjpib29sZWFuID0gZmFsc2U7IC8v5piv5ZCm5Yib5bu65LqG5o6I5p2D5oyJ6ZKuXG4gICAgcHVibGljIHN0YXRpYyByZXBlYXRBdXRob3JpemF0aW9uOmJvb2xlYW4gPSBmYWxzZTsgLy/mmK/lkKbliJvlu7rkuobmjojmnYPmjInpkq5cbiAgICBwdWJsaWMgc3RhdGljIGlzTG9nOiBib29sZWFuID0gdHJ1ZTsgLy/mmK/lkKblvIDlkK/ml6Xlv5dcbiAgICBwdWJsaWMgc3RhdGljIGlzU291bmQ6IGJvb2xlYW47XG4gICAgcHVibGljIHN0YXRpYyBpc1ZpcmJvcnQ6IGJvb2xlYW47XG4gICAgcHVibGljIHN0YXRpYyBjdHJsSW5mbzogYW55ID0ge307Ly/muLjmiI/mjqfliLbkv6Hmga9cbiAgICBwdWJsaWMgc3RhdGljIHN5c3RlbUluZm86IGFueSA9IHt9Oy8v6K6+5aSH57O757uf5L+h5oGvXG5cbiAgICBwdWJsaWMgc3RhdGljIGJhbm5lclZpZGVvSWQ6c3RyaW5nID0gXCJhZHVuaXQtN2M0NDQ5ZjlmNmZjYWZiYlwiO1xuICAgIHB1YmxpYyBzdGF0aWMgcmV3YXJkZWRWaWRlb0lkOnN0cmluZyA9IFwiYWR1bml0LWRmMDMxMTExOGUyNDUyYzZcIjtcblxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdExvY2FsKCl7XG4gICAgICAgIENvbmZpZ0RhdGEuaXNTb3VuZCA9IFN0b3JhZ2VNZ3IuZ2V0TG9jYWxTb3VuZCgpO1xuICAgICAgICBDb25maWdEYXRhLmlzVmlyYm9ydCA9IFN0b3JhZ2VNZ3IuZ2V0TG9jYWxWaXJib3J0KCk7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlUGxhdGZvcm0gPSBcInd4XCI7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbUluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbml0Q29uZmlnRGF0YShfZDphbnkscmVtb3RlOmJvb2xlYW4gPSBmYWxzZSl7XG4gICAgICAgIGlmKHJlbW90ZSl7XG4gICAgICAgICAgICBDb25maWdEYXRhLmNvbmZpZ3MgPSBfZDtcbiAgICAgICAgfWVsc2UgaWYoIUNvbmZpZ0RhdGEuY29uZmlncyl7XG4gICAgICAgICAgICBDb25maWdEYXRhLmNvbmZpZ3MgPSBfZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29uZmlnRGF0YShjb25maWdOYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdHJsSW5mb1tjb25maWdOYW1lXTtcbiAgICB9XG5cbiAgICAvKirorr7nva7lo7Dpn7MgKi9cbiAgICBzdGF0aWMgc2V0U291bmQoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8IHN0ci5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5pc1NvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIFN0b3JhZ2VNZ3Iuc2V0TG9jYWxTb3VuZChcIlwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU3RvcmFnZU1nci5zZXRMb2NhbFNvdW5kKFwiMVwiKTtcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNTb3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5oyv5Yqo6K6+572uXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0VmlyYm9ydChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgc3RyLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBDb25maWdEYXRhLmlzVmlyYm9ydCA9IHRydWU7XG4gICAgICAgICAgICBTdG9yYWdlTWdyLnNldExvY2FsVmlyYm9ydChcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFN0b3JhZ2VNZ3Iuc2V0TG9jYWxWaXJib3J0KFwiMVwiKTtcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNWaXJib3J0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy/lvZPliY3muLjmiI/nmoTmlbDmja5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnJHYW1lRGF0YXtcbiAgICBcbiAgICBwdWJsaWMgc2NvcmU6bnVtYmVyID0gMDsvL+WIhuaVsFxuIFxuICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgfVxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1N0b3JhZ2VNZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckRhdGEge1xuICAgIHB1YmxpYyBzdGF0aWMgY29kZTogc3RyaW5nID0gXCJcIjsvL+W+ruS/oWNvZGVcbiAgICBwdWJsaWMgc3RhdGljIG9wZW5JZDogc3RyaW5nID0gXCJcIjsvL+W+ruS/oW9wZW5pZFxuICAgIHB1YmxpYyBzdGF0aWMgc2Vzc2lvbklkOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgcHVibGljIHN0YXRpYyB1c2VySWQ6IGFueTtcbiAgICBwdWJsaWMgc3RhdGljIG5pY2tOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZGVyOm51bWJlciA9IDA7XG4gICAgcHVibGljIHN0YXRpYyBhdmF0YXJVcmw6IHN0cmluZyA9IFwiXCI7XG4gICAgcHVibGljIHN0YXRpYyBzY29yZTogbnVtYmVyID0gMDsgLy/liIbmlbBcbiAgICBwdWJsaWMgc3RhdGljIGV4cDogbnVtYmVyID0gMDsgICAvL+e7j+mqjFxuICAgIHB1YmxpYyBzdGF0aWMgbGV2ZWw6IG51bWJlciA9IDE7IC8v562J57qnXG4gICAgcHVibGljIHN0YXRpYyBpbmRleDogbnVtYmVyID0gMDsgLy/mjpLooYxcblxuICAgIHB1YmxpYyBzdGF0aWMgZGlhbW9uZDpudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBzdGF0aWMgZ29sZDpudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIHN0YXRpYyBpc05ldzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBzdGF0aWMgaXNMb2dpbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBzdGF0aWMgY2hhbm5lbElkOiBhbnk7XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21JbWdpZDphbnk7XG4gICAgcHVibGljIHN0YXRpYyBmcm9tQXBwaWQ6YW55O1xuXG4gICAgcHVibGljIHN0YXRpYyBhZENvdW50OiBudW1iZXI7Ly/op4bpopHlub/lkYrmrKHmlbBcblxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi8uLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBIdHRwTWdyIGZyb20gXCIuLi8uLi9tZ3JDb21tb24vSHR0cE1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXWEFkTWdye1xuICAgIHByaXZhdGUgYmFubmVySG9tZTogYW55O1xuICAgIHByaXZhdGUgYmFubmVyT3RoZXI6IGFueTtcbiAgICBwcml2YXRlIGJhbm5lckNsYXNzaWNFbmQ6IGFueTtcblxuICAgIHByaXZhdGUgYmFubmVySG9tZUlzSGlkZTpib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIGJhbm5lck90aGVySXNIaWRlOmJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgYmFubmVyQ2xhc3NpY0VuZElzSGlkZTpib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgcHJpdmF0ZSBpc0luaXRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmV3YXJkZWRWaWRlb0FkOiBhbnk7XG4gICAgcHJpdmF0ZSBoYXNBZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjYWxsZXI6IGFueTtcbiAgICBwcml2YXRlIGNhbGxCYWNrU3VjOiBGdW5jdGlvbjtcbiAgICBwcml2YXRlIGNhbGxCYWNrRmFpbDogRnVuY3Rpb247XG5cbiAgICBwdWJsaWMgdmlkZW9QbGF5ZWRUaW1lczogbnVtYmVyO1xuXG5cbiAgICBwcml2YXRlIHByZUJhbm5lclRpbWVfSG9tZTogYW55O1xuICAgIHByaXZhdGUgcHJlQmFubmVyVGltZV9PdGhlcjogYW55O1xuICAgIHByaXZhdGUgcHJlQmFubmVyVGltZV9DbGFzc2ljRW5kOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbmZpZ0RhdGEuc3lzdGVtSW5mby5TREtWZXJzaW9uICYmIE15VXRpbHMuY29tcGFyZVZlcnNpb24oQ29uZmlnRGF0YS5zeXN0ZW1JbmZvLlNES1ZlcnNpb24sIFwiMi4wLjRcIikgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmluaXRWZWRpb0NvbSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfQ2xhc3NpY0VuZCA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0VmVkaW9Db20oKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkID0gd2luZG93W1wid3hcIl0uY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHsgYWRVbml0SWQ6IENvbmZpZ0RhdGEucmV3YXJkZWRWaWRlb0lkIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV3YXJkZWRWaWRlb0FkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLm9uTG9hZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXdhcmRlZFZpZGVvIG9ubG9hZFwiKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0FkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXdhcmRlZFZpZGVvQWQub25FcnJvcihlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBIdHRwTWdyLmluc3RhbmNlLnZpZGVvRXJyb3JDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhbGxCYWNrU3VjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsQmFja1N1YyhzZWxmLmNhbGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJld2FyZGVkVmlkZW9BZC5vbkNsb3NlKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgLy8g55So5oi354K55Ye75LqG44CQ5YWz6Zet5bm/5ZGK44CR5oyJ6ZKuXG4gICAgICAgICAgICAgICAgLy8g5bCP5LqOIDIuMS4wIOeahOWfuuehgOW6k+eJiOacrO+8jHJlcyDmmK/kuIDkuKogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyDmraPluLjmkq3mlL7nu5PmnZ/vvIzlj6/ku6XkuIvlj5HmuLjmiI/lpZblirFcbiAgICAgICAgICAgICAgICAgICAgc2VsZi52aWRlb1BsYXllZFRpbWVzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhbGxCYWNrU3VjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbEJhY2tTdWMoc2VsZi5jYWxsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDmkq3mlL7kuK3pgJTpgIDlh7rvvIzkuI3kuIvlj5HmuLjmiI/lpZblirFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuY2FsbEJhY2tGYWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbEJhY2tGYWlsKHNlbGYuY2FsbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgc2hvd1ZpZGVvKGNhbGxlcjogYW55LCBjYWxsQmFja1N1YzogRnVuY3Rpb24sIGNhbGxCYWNrRmFpbDogRnVuY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbGxlciA9IGNhbGxlcjtcbiAgICAgICAgdGhpcy5jYWxsQmFja1N1YyA9IGNhbGxCYWNrU3VjO1xuICAgICAgICB0aGlzLmNhbGxCYWNrRmFpbCA9IGNhbGxCYWNrRmFpbDtcbiAgICAgICAgaWYgKHRoaXMuaGFzQWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5yZXdhcmRlZFZpZGVvQWQubG9hZCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJld2FyZGVkVmlkZW9BZC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dCYW5uZXJBZEhvbWUoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBMYXlhLnN0YWdlLndpZHRoIC8gMiAtIDE0MDtcbiAgICAgICAgbGV0IHNjcmVlbkggPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93SGVpZ2h0O1xuICAgICAgICB0aGlzLmJhbm5lckhvbWVJc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgaWYoTGF5YS50aW1lci5jdXJyVGltZXIgLSB0aGlzLnByZUJhbm5lclRpbWVfSG9tZSA+IDMwMDAwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuYmFubmVySG9tZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYW5uZXJIb21lKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZEhvbWUoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZSA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDogQ29uZmlnRGF0YS5iYW5uZXJWaWRlb0lkLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogc2NyZWVuSCAtIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF93aWR0aCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5vblJlc2l6ZShyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuc3R5bGUubGVmdCA9IChzY3JlZW5XIC0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnJlYWxXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zdHlsZS50b3AgPSBzY3JlZW5IIC0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbkggLyBzY3JlZW5XID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuc3R5bGUudG9wID0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnRvcCAtIDEwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyB0aGlzLmJhbm5lckhvbWUub25Mb2FkKCgpPT57XG4gICAgICAgICAgICAvLyAgICAgaWYodGhpcy5iYW5uZXJIb21lSXNIaWRlKXtcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5iYW5uZXJIb21lLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICB0aGlzLmJhbm5lckhvbWUuc2hvdygpO1xuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmFubmVySG9tZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd0Jhbm5lckFkT3RoZXIoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBzY3JlZW5XO1xuICAgICAgICBsZXQgc2NyZWVuSCA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dIZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVyT3RoZXJJc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgaWYoTGF5YS50aW1lci5jdXJyVGltZXIgLSB0aGlzLnByZUJhbm5lclRpbWVfT3RoZXIgPiAzMDAwMCl7XG4gICAgICAgICAgICBpZih0aGlzLmJhbm5lck90aGVyKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgIFxuICAgICAgICBpZiAoIXRoaXMuYmFubmVyT3RoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkT3RoZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIgPSB3aW5kb3dbXCJ3eFwiXS5jcmVhdGVCYW5uZXJBZCh7XG4gICAgICAgICAgICAgICAgYWRVbml0SWQ6IENvbmZpZ0RhdGEuYmFubmVyVmlkZW9JZCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHNjcmVlbkggLSAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd2lkdGgsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIub25SZXNpemUociA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5zdHlsZS5sZWZ0ID0gKHNjcmVlblcgLSB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnJlYWxXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUudG9wID0gc2NyZWVuSCAtIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUucmVhbEhlaWdodCAtIDEwO1xuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5IIC8gc2NyZWVuVyA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5zdHlsZS50b3AgPSB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnRvcCAtIDI1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX090aGVyID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmFubmVyT3RoZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgU2hvd0Jhbm5lckFkX0NsYXNzaWNFbmQoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBzY3JlZW5XO1xuICAgICAgICBsZXQgc2NyZWVuSCA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dIZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZElzSGlkZSA9IGZhbHNlO1xuICAgICAgICBpZihMYXlhLnRpbWVyLmN1cnJUaW1lciAtIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA+IDMwMDAwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuYmFubmVyQ2xhc3NpY0VuZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYW5uZXJDbGFzc2ljRW5kKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZENsYXNzaWNFbmQoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZCA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDogJ2FkdW5pdC1kY2FjZjdmZDZlNjU0YjRkJyxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHNjcmVlbkggLSAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd2lkdGgsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQub25SZXNpemUociA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLmxlZnQgPSAoc2NyZWVuVyAtIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS5yZWFsV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUudG9wID0gc2NyZWVuSCAtIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS5yZWFsSGVpZ2h0IC0gMTA7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbkggLyBzY3JlZW5XID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUudG9wID0gdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLnRvcCAtIDI1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfT3RoZXIgPSBMYXlhLnRpbWVyLmN1cnJUaW1lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYW5uZXJDbGFzc2ljRW5kICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95QmFubmVyQWRIb21lKCkge1xuICAgICAgICB0aGlzLmJhbm5lckhvbWVJc0hpZGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5iYW5uZXJIb21lKSB7XG4gICAgICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfSG9tZSA9IDA7XG4gICAgICAgICAgICBpZihDb25maWdEYXRhLmN0cmxJbmZvLmlzX2Jhbm5lciA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZSA9IG51bGw7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3lCYW5uZXJBZE90aGVyKCkge1xuICAgICAgICB0aGlzLmJhbm5lck90aGVySXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyT3RoZXIpIHtcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IDA7XG4gICAgICAgICAgICBpZihDb25maWdEYXRhLmN0cmxJbmZvLmlzX2Jhbm5lciA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZGVzdHJveUJhbm5lckFkQ2xhc3NpY0VuZCgpIHtcbiAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kSXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQ2xhc3NpY0VuZCkge1xuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX0NsYXNzaWNFbmQgPSAwO1xuICAgICAgICAgICAgaWYoQ29uZmlnRGF0YS5jdHJsSW5mby5pc19iYW5uZXIgPT0gMSl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQgPSBudWxsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0b3J5QWxsQmFubmVyQWQoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkSG9tZSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZE90aGVyKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkQ2xhc3NpY0VuZCgpO1xuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyRGF0YVwiO1xuaW1wb3J0IEh0dHBNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9IdHRwTWdyXCI7XG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Db25maWdEYXRhXCI7XG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9FdmVudE1nclwiO1xuaW1wb3J0IFN0YXRpc3RpY3NNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9TdGF0aXN0aWNzTWdyXCI7XG5pbXBvcnQgTXlMb2cgZnJvbSBcIi4uLy4uL3Rvb2xzL015TG9nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdYQVBJIHtcbiAgICBwdWJsaWMgX2xhdW5jaDphbnkgPSB7fTtcbiAgICBwcml2YXRlIGJ0bnMgPSBbXTtcbiAgICBwcml2YXRlIG9mZnNldE9wZW5Eb21haW46IExheWEuVmVjdG9yMjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9sYXVuY2ggPSB3aW5kb3dbXCJ3eFwiXS5nZXRMYXVuY2hPcHRpb25zU3luYygpO1xuICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5vbmNlKFwiZ2V0U3lzdGVtUGFyYW1MaXN0QmFja1wiLHRoaXMsKCk9PntcbiAgICAgICAgICAgIHRoaXMuc2hvd1NoYXJlTWVudSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRPcGVuRG9tYWluT2Zmc2V0KCk7XG4gICAgfVxuXG4gICAgIC8qXG4gICAgICAgIHN1Y2Nlc3Mg5oiQ5Yqf5Zue6LCDXG4gICAgICAgIGZhaWwg5aSx6LSl5Zue6LCDXG4gICAgKi9cbiAgIHB1YmxpYyBkb0xvZ2luKF9kYXRhKXtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvd1tcInd4XCJdLmxvZ2luKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBVc2VyRGF0YS5jb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgLy/nmbvlvZXmjqXlj6NcbiAgICAgICAgICAgICAgICB2YXIgbGF1bmNoID0gdGhpcy5nZXRMYXVuY2hEYXRhKCk7XG4gICAgICAgICAgICAgICAgdmFyIF9kOiBhbnkgPSB7fVxuICAgICAgICAgICAgICAgIF9kLmNvZGUgPSByZXMuY29kZTtcbiAgICAgICAgICAgICAgICBpZihsYXVuY2gucXVlcnkpe1xuICAgICAgICAgICAgICAgICAgICBfZC5pbnZpdGVJZCA9IGxhdW5jaC5xdWVyeS5pbnZpdGVfdWlkIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBfZC5jaGFubmVsSWQgPSBsYXVuY2gucXVlcnkuY2hhbm5lbCB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5mcm9tQXBwaWQgPSBsYXVuY2gucXVlcnkuY3VyX3NoYXJlX2lkfHxcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihsYXVuY2gucmVmZXJyZXJJbmZvKXtcbiAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuZnJvbUltZ2lkID0gbGF1bmNoLnJlZmVycmVySW5mby5hcHBJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2Quc3VjY2VzcyA9IF9kYXRhLnN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgX2QuZmFpbCA9IF9kYXRhLmZhaWw7XG4gICAgICAgICAgICAgICAgSHR0cE1nci5pbnN0YW5jZS5sb2dpbihfZClcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0T2Zmc2V0T3BlbkRvbWFpbigpOmFueXtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0T3BlbkRvbWFpbjtcbiAgICB9XG5cbiAgICBnZXRMYXVuY2hEYXRhKCk6YW55e1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoO1xuICAgIH1cblxuICAgIGdldFF1ZXJ5KCk6YW55e1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoLnF1ZXJ5O1xuICAgIH1cblxuICAgIGdldFJlZmVycmVySW5mbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoLnJlZmVycmVySW5mbztcbiAgICB9XG5cblxuICAgIHB1YmxpYyAgdXBsb2FkUmFua0RhdGUoX2RhdGEpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkID0gW107XG4gICAgICAgIGlmICghTXlVdGlscy5pc051bGwoX2RhdGEubGV2ZWwpKSB7XG4gICAgICAgICAgICBkLnB1c2goeyBrZXk6IFwibGV2ZWxcIiwgdmFsdWU6IF9kYXRhLmxldmVsICsgXCJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIU15VXRpbHMuaXNOdWxsKF9kYXRhLnNjb3JlKSkge1xuICAgICAgICAgICAgZC5wdXNoKHsga2V5OiBcInNjb3JlXCIsIHZhbHVlOiBfZGF0YS5zY29yZSArIFwiXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0uc2V0VXNlckNsb3VkU3RvcmFnZSh7XG4gICAgICAgICAgICBLVkRhdGFMaXN0OiBkLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5LiK5Lyg5pWw5o2u5Yiw5b6u5L+h5pyN5Yqh5ZmoOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93U2hhcmVNZW51KCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0uc2hvd1NoYXJlTWVudSh7IHdpdGhTaGFyZVRpY2tldDogdHJ1ZSB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBzaGFyZUluZm8gPSB0aGlzLmNyZWF0ZVNoYXJlSW5mbygpO1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5vblNoYXJlQXBwTWVzc2FnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVJbmZvO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVNoYXJlSW5mbyhfZD86YW55KTphbnl7XG4gICAgICAgIHZhciBzZCA9IEpTT04ucGFyc2UoQ29uZmlnRGF0YS5nZXRDb25maWdEYXRhKFwic2hhcmVJbmZvXCIpKTtcbiAgICAgICAgaWYoIXNkKXtyZXR1cm4gbnVsbH1cbiAgICAgICAgdmFyIHJhbmRfdCA9IE15VXRpbHMucmFuZG9tKDAsIHNkLmxlbmd0aCAtIDEpO1xuICAgICAgICB2YXIgdGl0bGUgPSBzZFtyYW5kX3RdLnRpdGxlO1xuICAgICAgICB2YXIgaW1hZ2VVcmwgPSBzZFtyYW5kX3RdLmltZztcbiAgICAgICAgdmFyIHF1ZXJ5ID0gXCJpbnZpdGVfdWlkPVwiICsgKFVzZXJEYXRhLnVzZXJJZCA/IFVzZXJEYXRhLnVzZXJJZCA6IFwiXCIpO1xuICAgICAgICBxdWVyeSArPSBcIiZjdXJfc2hhcmVfaWQ9XCIgKyBzZFtyYW5kX3RdLmlkO1xuICAgICAgICBxdWVyeSArPSBcIiZhdmF0YXJVcmxHcm91cD1cIiArIChVc2VyRGF0YS5hdmF0YXJVcmwgPyBVc2VyRGF0YS5hdmF0YXJVcmwgOiBcIlwiKTtcbiAgICAgICAgcXVlcnkgKz0gXCImbmlja05hbWVHcm91cD1cIiArIChVc2VyRGF0YS5uaWNrTmFtZSA/IFVzZXJEYXRhLm5pY2tOYW1lIDogXCJcIik7XG4gICAgICAgIHF1ZXJ5ICs9IFwiJmNoYW5uZWw9XCIgKyAoVXNlckRhdGEuY2hhbm5lbElkID8gVXNlckRhdGEuY2hhbm5lbElkIDogXCJcIik7XG4gICAgICAgIGlmIChfZCkge1xuICAgICAgICAgICAgaWYgKF9kLmlkKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gXCImc2NlbmU9XCIgKyBfZC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfZC5pdGVtSWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBcIiZpdGVtSWQ9XCIgKyBfZC5pdGVtSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2QudHlwZSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IFwiJnR5cGU9XCIgKyBfZC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9kLnNoYXJlX3RpdGxlKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfZC5zaGFyZV90aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfZC5zaGFyZV9pbWcpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IF9kLnNoYXJlX2ltZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIH0gXG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzaGFyZUFwcE1lc3NhZ2UoX2QsIHR5cGU6IG51bWJlcikge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVEYXRhOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgY2FsbGVyOiBfZC5jYWxsZXIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IF9kLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGFyZ3M6IF9kLmFyZ3MsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5lbWl0KFwiZ28tc2hhcmVcIiwgc2hhcmVEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUNvbmZpZ0RhdGEuZ2V0Q29uZmlnRGF0YShcInNoYXJlSW5mb1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2Uuc2hhcmVTdGF0aXN0aWNzKHR5cGUpO1xuICAgICAgICBsZXQgc2hhcmVJbmZvID0gdGhpcy5jcmVhdGVTaGFyZUluZm8oX2QpO1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zaGFyZUFwcE1lc3NhZ2Uoc2hhcmVJbmZvKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtKF9kKSB7XG4gICAgICAgIGlmICghX2QgfHwgIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0ubmF2aWdhdGVUb01pbmlQcm9ncmFtKHtcbiAgICAgICAgICAgIGFwcElkOiBfZC5hcHBpZCxcbiAgICAgICAgICAgIHBhdGg6IF9kLnBhdGgsXG4gICAgICAgICAgICBleHRyYURhdGE6IHtcbiAgICAgICAgICAgICAgICBmb286ICdiYXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudlZlcnNpb246ICdkZXZlbG9wJyxcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgICAgICAgICAgU3RhdGlzdGljc01nci5pbnN0YW5jZS5uYXZpZ2F0ZVRvTWluaVByb2dyYW1TdGF0aXN0aWNzKF9kKTtcbiAgICAgICAgICAgICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgX2QuY2FsbGJhY2soXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZC5jYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgIC8qKlxuICAgICAqIOiuvue9ruWtkOWfn+eVjOmdouWBj+enu++8jOmAgumFjeS4jeWQjOeahOWxj+W5leeVjOmdolxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRPcGVuRG9tYWluT2Zmc2V0KCkge1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IExheWEuc3RhZ2Uud2lkdGggLSA3NTA7XG4gICAgICAgIGlmIChvZmZzZXRYIDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0WCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9mZnNldFkgPSBMYXlhLnN0YWdlLmhlaWdodCAtIDEzMzQ7XG4gICAgICAgIGlmIChvZmZzZXRZIDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0WSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vZmZzZXRPcGVuRG9tYWluID0gbmV3IExheWEuVmVjdG9yMihvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlQXV0aG9yaXphdGlvbkJ1dHRvbihfZGF0YSkge1xuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHd4LmdldFNldHRpbmcoe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5hdXRoU2V0dGluZyAmJiByZXMuYXV0aFNldHRpbmdbXCJzY29wZS51c2VySW5mb1wiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTXlMb2cubG9nKFwi5bey57uP5o6I5p2DXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNXaWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc0hlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhiID0gKExheWEuQnJvd3Nlci53aWR0aCAvIExheWEuQnJvd3Nlci5waXhlbFJhdGlvKSAvIHNXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5YiA9IChMYXlhLkJyb3dzZXIuaGVpZ2h0IC8gTGF5YS5Ccm93c2VyLnBpeGVsUmF0aW8pIC8gc0hlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gKF9kYXRhLnggLSBfZGF0YS53aWR0aCAvIDIpICogeGI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9wID0gKF9kYXRhLnkgKyB0aGlzLm9mZnNldE9wZW5Eb21haW4ueSAtIF9kYXRhLmhlaWdodCAvIDIpICogeWI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBfZGF0YS53aWR0aCAqIHhiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IChfZGF0YS5oZWlnaHQpICogeWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEuaXNGdWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gKF9kYXRhLnkgKyB0aGlzLm9mZnNldE9wZW5Eb21haW4ueSAvIDIpICogeWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yID0gXCIjZmYwNzAzXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uID0gd2luZG93W1wid3hcIl0uY3JlYXRlVXNlckluZm9CdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnRucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRucy5wdXNoKHsgXCJidXR0b25cIjogYnV0dG9uLCBcImlzRnVsbFwiOiBfZGF0YS5pc0Z1bGwgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24ub25UYXAoKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLnVzZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLm5pY2tOYW1lID0gcmVzLnVzZXJJbmZvLm5pY2tOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5nZW5kZXIgPSByZXMudXNlckluZm8uZ2VuZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5hdmF0YXJVcmwgPSByZXMudXNlckluZm8uYXZhdGFyVXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGlzdGljc01nci5pbnN0YW5jZS5hdXRob3JTdGF0aXN0aWNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNZ3IuaW5zdGFuY2UudXBkYXRlVXNlckluZm8oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idG5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmJ1dHRvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kYXRhLnN1Y2Nlc3NCYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YS5zdWNjZXNzQmFjay5tZXRob2QuY2FsbChfZGF0YS5zdWNjZXNzQmFjay5jYWxsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0b3J5QXV0aG9yaXphdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEuZmFpbEJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhLmZhaWxCYWNrLm1ldGhvZC5jYWxsKF9kYXRhLmZhaWxCYWNrLmNhbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdG9yeUF1dGhvcml6YXRpb24oKXtcbiAgICAgICAgaWYoIUNvbmZpZ0RhdGEucmVwZWF0QXV0aG9yaXphdGlvbil7IC8v5aaC5p6c5LiN6ZyA6KaB6YeN5aSN5by55o6I5p2DXG4gICAgICAgICAgICBDb25maWdEYXRhLmlzQ3JlYXRlQXV0aG9yaXphdGlvbiA9IHRydWU7XG4gICAgICAgICAgICBpZih0aGlzLmJ0bnMpe1xuICAgICAgICAgICAgICAgIHRoaXMuYnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5idXR0b24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5zZXRBdXRob3JpemF0aW9uQ2hlY2soZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldEF1dGhvcml6YXRpb25DaGVjayhmbGFnKSB7XG4gICAgICAgIGlmICh0aGlzLmJ0bnMpIHtcbiAgICAgICAgICAgIHRoaXMuYnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmJ1dHRvbi5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmJ1dHRvbi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB2aWJyYXRlU2hvcnQoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29uZmlnRGF0YS5pc1ZpcmJvcnQpIHtcbiAgICAgICAgICAgIHdpbmRvd1tcInd4XCJdLnZpYnJhdGVTaG9ydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHZpYnJhdGVMb25nKCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbmZpZ0RhdGEuaXNWaXJib3J0KSB7XG4gICAgICAgICAgICB3aW5kb3dbXCJ3eFwiXS52aWJyYXRlTG9uZygpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi8uLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgU291bmRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9Tb3VuZE1nclwiO1xyXG5pbXBvcnQgR2FtZU1nciBmcm9tIFwiLi4vLi4vbWdyM2QvR2FtZU1nclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IE1haW5WaWV3IGZyb20gXCIuLi8uLi92aWV3cy9NYWluVmlld1wiO1xyXG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV1hMYXVuY2ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwcml2YXRlIHRvUHJvY2VzczogbnVtYmVyID0gMTtcclxuICAgIHByaXZhdGUgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHByb0xhYmVsOiBMYXlhLkxhYmVsO1xyXG4gICAgcHJpdmF0ZSB0aXBMYWJsZTogTGF5YS5MYWJlbDtcclxuICAgIHByaXZhdGUgcHJvOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSBzY2VuZTNkVXJsOnN0cmluZyA9IFwiTGF5YVNjZW5lX0VhdGl0dXAvQ29udmVudGlvbmFsL0VhdGl0dXAubHNcIlxyXG5cclxuICAgIGdldExhdW5jaFRpcE1zZygpIHtcclxuICAgICAgICBsZXQgdGlwcyA9IFtcclxuICAgICAgICAgICAgXCLmjInkvY/lsY/luZXoiIzlpLTkvJrkvLjplb/lk6ZcIixcclxuICAgICAgICAgICAgXCLmlbLlpb3njqnvvIzlgLzlvpfnrYnlvoXvvIzlkbF+XCJcclxuICAgICAgICBdXHJcbiAgICAgICAgcmV0dXJuIHRpcHNbTXlVdGlscy5yYW5kb20oMCwgdGlwcy5sZW5ndGggLSAxKV07XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciB4aHI6IExheWEuSHR0cFJlcXVlc3QgPSBuZXcgTGF5YS5IdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCAoZGF0YSk9PntcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEgJiYgdHlwZW9mIGRhdGEgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihDb25maWdEYXRhLmpzb25WZXJzaW9uICE9IGRhdGEudmlzaW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSwgdGhpcywgKHJlcyk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcyAmJiB0eXBlb2YgcmVzICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJlcyA9PSBcIm9iamVjdFwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maWdEYXRhLmluaXRDb25maWdEYXRhKHJlcyx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKGRhdGEucGF0aCxudWxsLFwiZ2V0XCIsXCJqc29uXCIsW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoQ29uZmlnRGF0YS5qc29uVmVyc2lvblVybCxudWxsLFwiZ2V0XCIsXCJqc29uXCIsW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZ3JvdXA6IExheWEuTm9kZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJwcm9ncmVzc0dyb3VwXCIpO1xyXG4gICAgICAgIHRoaXMucHJvID0gZ3JvdXAuZ2V0Q2hpbGRCeU5hbWUoXCJwcm9ncmVzc1wiKSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIHRoaXMucHJvTGFiZWwgPSBncm91cC5nZXRDaGlsZEJ5TmFtZShcInByb0xhYmVsXCIpIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgdGhpcy50aXBMYWJsZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBCZ1wiKS5nZXRDaGlsZEJ5TmFtZShcImxibF90aXBcIikgYXMgTGF5YS5MYWJlbDtcclxuICAgICAgICB0aGlzLnRpcExhYmxlLnRleHQgPSB0aGlzLmdldExhdW5jaFRpcE1zZygpO1xyXG4gICAgICAgIHRoaXMubG9hZFJlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZFJlcygpIHtcclxuICAgICAgICB2YXIgcmVzb3VyY2U6IEFycmF5PGFueT4gPSBbXHJcbiAgICAgICAgICAgIHsgdXJsOiBcInJlcy9hdGxhcy9yYW5rLmF0bGFzXCIsIHR5cGU6IExheWEuTG9hZGVyLkFUTEFTIH0sXHJcbiAgICAgICAgICAgIHsgdXJsOiBcInJlcy9qc29uL2NvbmZpZy5qc29uXCIsIHR5cGU6IExheWEuTG9hZGVyLkpTT04gfSxcclxuICAgICAgICAgICAgeyB1cmw6IFwicmVzL2pzb24vXCIgKyBDb25maWdEYXRhLmxhbmd1YWdlICsgXCIuanNvblwiLCB0eXBlOiBMYXlhLkxvYWRlci5KU09OIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2FkVGFzazogYW55ID0gd2luZG93W1wid3hcIl0ubG9hZFN1YnBhY2thZ2Uoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3JlczNkJywgLy8gbmFtZSDlj6/ku6XloasgbmFtZSDmiJbogIUgcm9vdFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIhuWMheWKoOi9veaIkOWKn+WQjumAmui/hyBzdWNjZXNzIOWbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2FkVGFzazE6IGFueSA9IHdpbmRvd1tcInd4XCJdLmxvYWRTdWJwYWNrYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3JlcycsIC8vIG5hbWUg5Y+v5Lul5aGrIG5hbWUg5oiW6ICFIHJvb3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295oiQ5Yqf5ZCO6YCa6L+HIHN1Y2Nlc3Mg5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHJlc291cmNlLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKDAuOTkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlc0NvbXBsZXRlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKDAuNiArIHJlcyAqIDAuNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295aSx6LSl6YCa6L+HIGZhaWwg5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUYXNrMS5vblByb2dyZXNzVXBkYXRlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMC4zICsgcmVzLnByb2dyZXNzICogMC4wMDMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIhuWMheWKoOi9veWksei0pemAmui/hyBmYWlsIOWbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxvYWRUYXNrLm9uUHJvZ3Jlc3NVcGRhdGUocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MocmVzLnByb2dyZXNzICogMC4wMDMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQocmVzb3VyY2UsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcygwLjk5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlc0NvbXBsZXRlKClcclxuICAgICAgICAgICAgfSksIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyhyZXMpXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUmVzQ29tcGxldGUoKSB7XHJcbiAgICAgICAgLy/mnKzlnLDmuLjmiI/mlbDmja7phY3nva5cclxuICAgICAgICBDb25maWdEYXRhLmluaXRDb25maWdEYXRhKFxyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5nZXRSZXMoXCJyZXMvanNvbi9jb25maWcuanNvblwiKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIC8v6K+t6KiA5paH5Lu2XHJcbiAgICAgICAgQ29uZmlnRGF0YS5sYW5ndWFnZURhdGEgPSBMYXlhLkxvYWRlci5nZXRSZXMoXCJyZXMvanNvbi9cIiArIENvbmZpZ0RhdGEubGFuZ3VhZ2UgKyBcIi5qc29uXCIpO1xyXG4gICAgICAgIExheWEuU2NlbmUzRC5sb2FkKHRoaXMuc2NlbmUzZFVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uM0RSZXNMb2FkQ29tcGxldGUpKTtcclxuICAgICAgICAvLyB0aGlzLk9uM0RSZXNMb2FkQ29tcGxldGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIE9uM0RSZXNMb2FkQ29tcGxldGUoc2NlbmU/OiBMYXlhLlNjZW5lM0QpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkgeyBcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLlrZDln5/liqDovb1yZXMvYXRsYXMvcmFuay5hdGxhc1wiKTtcclxuICAgICAgICAgICAgTGF5YS5NaW5pQWRwdGVyLnNlbmRBdGxhc1RvT3BlbkRhdGFDb250ZXh0KFwicmVzL2F0bGFzL3JhbmsuYXRsYXNcIik7IC8v5L2/55So5o6l5Y+j5bCG5Zu+6ZuG6YCP5Lyg5Yiw5a2Q5Z+fXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNvdW5kTWdyLmluc3RhbmNlLnBsYXlCR00oKTtcclxuXHJcbiAgICAgICAgc2NlbmUuYWRkQ29tcG9uZW50KEdhbWVNZ3IpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQoc2NlbmUpO1xyXG4gICAgICAgIC8vIExheWEuU2NlbmUub3BlbihcIk1haW5TY2VuZS5zY2VuZVwiLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuXHRcdCAqIOabtOaWsOi1hOa6kOWKoOi9vei/m+W6plxyXG5cdFx0ICovXHJcbiAgICBwdWJsaWMgdXBkYXRlUHJvZ3Jlc3MocHJvZ3Jlc3MpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA+IHRoaXMudG9Qcm9jZXNzID8gdGhpcy50b1Byb2Nlc3MgOiB0aGlzLnByb2dyZXNzO1xyXG4gICAgICAgIC8v5pyA6auYMTAwJei/m+W6plxyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID49IDEpIHtcclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi5jbGVhckFsbCh0aGlzLnBybyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvTGFiZWwudGV4dCA9IFwi5ri45oiP5Yqg6L295a6M5q+V77yM5Y2z5bCG6L+b5YWl5ri45oiPLi4uXCJcclxuICAgICAgICAgICAgdGhpcy5wcm8ud2lkdGggPSA1MDA7XHJcbiAgICAgICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKDIsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXMoXCJyZXMvYXRsYXMvbG9hZGluZy5hdGxhc1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnByby53aWR0aCA9IDUwMCAqIHRoaXMucHJvZ3Jlc3M7XHJcbiAgICAgICAgICAgIC8vIExheWEuVHdlZW4uY2xlYXJBbGwodGhpcy5wcm8pO1xyXG4gICAgICAgICAgICAvLyBMYXlhLlR3ZWVuLnRvKHRoaXMucHJvLHt3aWR0aDo1MDAgKiB0aGlzLnByb2dyZXNzfSwxMDAsTGF5YS5FYXNlLmxpbmVhck5vbmUpXHJcbiAgICAgICAgICAgIC8v6L+b5bqm5aKe5YqgXHJcbiAgICAgICAgICAgIHRoaXMucHJvTGFiZWwudGV4dCA9IFwi6LWE5rqQ5Yqg6L295LitLi4uXCIgKyBNYXRoLmZsb29yKHRoaXMucHJvZ3Jlc3MgKiAxMDApICsgXCIlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9tb2RlbHMvVXNlckRhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHR0cFV0aWxzIHtcbiAgICBwdWJsaWMgcmVxdWVzdChfZCkge1xuICAgICAgICB2YXIgbWV0aCA9IF9kLm1ldGggfHwgXCJwb3N0XCJcbiAgICAgICAgdmFyIGRhdGEgPSBfZC5kYXRhIHx8IHt9O1xuICAgICAgICB2YXIgdXJsID0gXCJcIjtcbiAgICAgICAgaWYgKF9kLnVybC5pbmRleE9mKFwiaHR0cHM6Ly9cIikgPiAtMSB8fFxuICAgICAgICAgICAgX2QudXJsLmluZGV4T2YoXCJodHRwOi8vXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHVybCA9IF9kLnVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IENvbmZpZ0RhdGEuc2VydmVyVXJsICsgX2QudXJsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wbGV0ZUZ1bmMgPSAocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVybDpcIiArIHVybCArXCIgcmVzOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgICAgICAgICAgX2QuY2FsbGJhY2socmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVycm9yRnVuYyA9IChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChfZC5mYWlsKSAge1xuICAgICAgICAgICAgICAgIF9kLmZhaWwocmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYoVXNlckRhdGEuc2Vzc2lvbklkKXtcbiAgICAgICAgICAgIGRhdGEuc2Vzc2lvbklkID0gVXNlckRhdGEuc2Vzc2lvbklkO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzZXNzaW9uSWTvvJpcIiArIFVzZXJEYXRhLnNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhocjogTGF5YS5IdHRwUmVxdWVzdCA9IG5ldyBMYXlhLkh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbmNlKExheWEuRXZlbnQuQ09NUExFVEUsIHRoaXMsIGNvbXBsZXRlRnVuYyk7XG4gICAgICAgIHhoci5vbmNlKExheWEuRXZlbnQuRVJST1IsIHRoaXMsIGVycm9yRnVuYyk7XG4gICAgICAgIHhoci5zZW5kKHVybCwgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG1ldGgsIFwianNvblwiLCBbXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIl0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXF1ZXN0U3RhdGlzdGljcyhfZCkge1xuICAgICAgICB2YXIgbWV0aCA9IF9kLm1ldGggfHwgXCJwb3N0XCJcbiAgICAgICAgdmFyIGRhdGEgPSBfZC5kYXRhIHx8IHt9O1xuICAgICAgICBfZC51cmwgPSBfZC51cmwgfHwgXCJcIlxuICAgICAgICB2YXIgdXJsID0gQ29uZmlnRGF0YS5zdGF0aXN0aWNzVXJsICsgX2QudXJsO1xuICAgICAgICAvLyB2YXIgY29tcGxldGVEZWwgPSAocmVzKSA9PiB7XG4gICAgICAgIC8vICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVybDpcIiArIHVybCArXCIgcmVzOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgIC8vICAgICAgICAgX2QuY2FsbGJhY2socmVzKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfTtcbiAgICAgICAgLy8gdmFyIGVycm9yRGVsID0gKHJlcykgPT4ge1xuICAgICAgICAvLyAgICAgaWYgKF9kLmZhaWwpICB7XG4gICAgICAgIC8vICAgICAgICAgX2QuZmFpbChyZXMpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9O1xuICAgICAgICBpZihVc2VyRGF0YS5zZXNzaW9uSWQpe1xuICAgICAgICAgICAgZGF0YS5zZXNzaW9uSWQgPSBVc2VyRGF0YS5zZXNzaW9uSWQ7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNlc3Npb25JZO+8mlwiICsgVXNlckRhdGEuc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyOiBMYXlhLkh0dHBSZXF1ZXN0ID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgLy8geGhyLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSwgdGhpcywgY29tcGxldGVEZWwpO1xuICAgICAgICAvLyB4aHIub25jZShMYXlhLkV2ZW50LkVSUk9SLCB0aGlzLCBlcnJvckRlbCk7XG4gICAgICAgIHhoci5zZW5kKHVybCwgXCJwYXJhbT1cIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpLCBtZXRoLCBcImpzb25cIiwgW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJdKTtcbiAgICB9XG59IiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeUxvZyB7XHJcbiAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBsb2coYXJnMT86IGFueSxhcmcyPzphbnkpIHtcclxuICAgICAgICBpZiAoQ29uZmlnRGF0YS5pc0xvZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmcxLGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE15VXRpbHMge1xuXG4gICAgcHVibGljIHN0YXRpYyBpc051bGwob2JqOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG9iaiAhPSAwICYmIChvYmogPT0gbnVsbCB8fCBvYmogPT0gXCJcIiB8fCBvYmogPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgcHVibGljIHN0YXRpYyByYW5kb20obWluLCBtYXgpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gbWF4IC0gbWluO1xuICAgICAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHZhciBudW0gPSBtaW4gKyBNYXRoLnJvdW5kKHJhbmQgKiByYW5nZSk7IC8v5Zub6IiN5LqU5YWlXG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuXG4gICAgXHRcdC8qKlxuXHRcdCAqIOavlOi+g+eJiOacrOWPt++8jOagvOW8j3h4Lnh4Lnh4XG5cdFx0ICogQHBhcmFtIHYxIOW9k+WJjeeJiOacrOWPt1xuXHRcdCAqIEBwYXJhbSB2MiDnm67moIfniYjmnKzlj7dcbiAgICAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNvbXBhcmVWZXJzaW9uKHYxLCB2Mik6IG51bWJlciB7XG4gICAgICAgIHYxID0gdjEuc3BsaXQoJy4nKVxuICAgICAgICB2MiA9IHYyLnNwbGl0KCcuJylcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5tYXgodjEubGVuZ3RoLCB2Mi5sZW5ndGgpXG5cbiAgICAgICAgd2hpbGUgKHYxLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgICAgdjEucHVzaCgnMCcpXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHYyLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgICAgdjIucHVzaCgnMCcpXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBudW0xID0gcGFyc2VJbnQodjFbaV0pXG4gICAgICAgICAgICBjb25zdCBudW0yID0gcGFyc2VJbnQodjJbaV0pXG5cbiAgICAgICAgICAgIGlmIChudW0xID4gbnVtMikge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtMSA8IG51bTIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDBcbiAgICB9XG5cbiAgICAvL+mhtumDqOaMiemSruWvuem9kO+8jOWkp+S9k+mAgumFjeaYr29r55qEXG4gICAgcHVibGljIHN0YXRpYyBhdXRvU2NyZWVuU2l6ZShub2RlOiBhbnlbXSkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5mbyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7XG4gICAgICAgIGxldCBZID0gNjA7XG4gICAgICAgIGlmIChpbmZvLnN0YXR1c0JhckhlaWdodCA8IDIwKSB7IC8vMThcbiAgICAgICAgICAgIFkgKz0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5mby5zdGF0dXNCYXJIZWlnaHQgPj0gMzApIHsgLy80NFxuICAgICAgICAgICAgWSArPSA2MDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmZvLnN0YXR1c0JhckhlaWdodCA+IDIwICYmIGluZm8uc3RhdHVzQmFySGVpZ2h0IDwgMzApIHsgLy8yN1xuICAgICAgICAgICAgWSArPSA3NDtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmZvckVhY2goZSA9PiB7IC8vIDIwICBcbiAgICAgICAgICAgIGUueSA9IFk7XG4gICAgICAgIH0pXG4gICAgfVxuXG5cbn0iXX0=
