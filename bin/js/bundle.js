var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var ButtonAnim_1 = require("./script/views/ButtonAnim");
var ConvergeAdView_1 = require("./script/views/ConvergeAdView");
var GameFighting_1 = require("./script/views/GameFighting");
var GameOverView_1 = require("./script/views/GameOverView");
var GoldenEggView_1 = require("./script/views/GoldenEggView");
var WXLaunch_1 = require("./script/platform/wx/WXLaunch");
var MainViewLandscape_1 = require("./script/views/MainViewLandscape");
var MainViewVertical_1 = require("./script/views/MainViewVertical");
var RankItem_1 = require("./script/views/rank/RankItem");
var WXRankView_1 = require("./script/views/rank/WXRankView");
var Resurgence_1 = require("./script/views/Resurgence");
var TipView_1 = require("./script/views/TipView");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/views/ButtonAnim.ts", ButtonAnim_1.default);
        reg("script/views/ConvergeAdView.ts", ConvergeAdView_1.default);
        reg("script/views/GameFighting.ts", GameFighting_1.default);
        reg("script/views/GameOverView.ts", GameOverView_1.default);
        reg("script/views/GoldenEggView.ts", GoldenEggView_1.default);
        reg("script/platform/wx/WXLaunch.ts", WXLaunch_1.default);
        reg("script/views/MainViewLandscape.ts", MainViewLandscape_1.default);
        reg("script/views/MainViewVertical.ts", MainViewVertical_1.default);
        reg("script/views/rank/RankItem.ts", RankItem_1.default);
        reg("script/views/rank/WXRankView.ts", WXRankView_1.default);
        reg("script/views/Resurgence.ts", Resurgence_1.default);
        reg("script/views/TipView.ts", TipView_1.default);
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "Launch.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/platform/wx/WXLaunch":16,"./script/views/ButtonAnim":22,"./script/views/ConvergeAdView":23,"./script/views/GameFighting":24,"./script/views/GameOverView":25,"./script/views/GoldenEggView":26,"./script/views/MainViewLandscape":27,"./script/views/MainViewVertical":28,"./script/views/Resurgence":29,"./script/views/TipView":30,"./script/views/rank/RankItem":31,"./script/views/rank/WXRankView":32}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var MyInit_1 = require("./script/MyInit");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎
        Laya.isWXPosMsg = true;
        Laya.isWXOpenDataContext = false;
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        // window["des"]();
        MyInit_1.default.init();
        // des
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        // Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
        this.onVersionLoaded();
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        var res = [
            { url: "loading/loading.atlas", type: Laya.Loader.ATLAS },
        ];
        //startScene 应该设置为launch页面
        Laya.loader.load(res, Laya.Handler.create(this, function () {
            GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        }));
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1,"./script/MyInit":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("./models/ConfigData");
var HttpMgr_1 = require("./mgrCommon/HttpMgr");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var StatisticsMgr_1 = require("./mgrCommon/StatisticsMgr");
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var UserData_1 = require("./models/UserData");
var Login = /** @class */ (function (_super) {
    __extends(Login, _super);
    function Login() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Login.prototype.login = function () {
        HttpMgr_1.default.instance.getSystemConfig();
        HttpMgr_1.default.instance.getRemoteJson(function (res) {
            ConfigData_1.default.initConfigData(res, true);
        });
        this.loginFun();
    };
    Login.prototype.loginFun = function () {
        var self = this;
        if (ConfigData_1.default.releasePlatform) {
            PlatformMgr_1.default.ptAPI.doLogin({
                success: this.loginSuccess,
                fail: this.loginFun
            });
        }
        else {
            var _d = {};
            _d.code = "123";
            _d.inviteId = '';
            _d.channelId = "";
            _d.success = this.loginSuccess;
            HttpMgr_1.default.instance.login(_d);
        }
    };
    Login.prototype.loginSuccess = function (data) {
        if (data) {
            UserData_1.default.isLogin = true;
            UserData_1.default.userId = data.userId;
            UserData_1.default.nickName = data.nikename;
            UserData_1.default.avatarUrl = data.headImage;
            UserData_1.default.diamond = data.userMoney || 0;
            UserData_1.default.channelId = data.channelId;
            UserData_1.default.level = data.level || 0;
            UserData_1.default.score = data.score || 0;
            UserData_1.default.openId = data.openid;
            UserData_1.default.isNew = data.isNewUser;
            UserData_1.default.exp = data.nowExp || 0;
            //缓存用户信息到本地
            StorageMgr_1.default.saveUserData();
            if (PlatformMgr_1.default.ptAPI) {
                //上传排行数据
                PlatformMgr_1.default.ptAPI.uploadRankDate({
                    level: data.level || 0,
                    score: data.score || 0,
                });
            }
            //上传统计
            StatisticsMgr_1.default.instance.loginStatisticsPost();
        }
        // EventMgr.instance.emit("loginSuccess");
    };
    return Login;
}(Laya.Script));
exports.default = Login;

},{"./mgrCommon/HttpMgr":6,"./mgrCommon/PlatformMgr":7,"./mgrCommon/StatisticsMgr":9,"./mgrCommon/StorageMgr":10,"./models/ConfigData":12,"./models/UserData":13}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var ConfigData_1 = require("./models/ConfigData");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var Login_1 = require("./Login");
var ViewMgr_1 = require("./mgrCommon/ViewMgr");
var MyInit = /** @class */ (function () {
    function MyInit() {
    }
    MyInit.init = function () {
        ConfigData_1.default.initLocal();
        StorageMgr_1.default.getLocalUserData();
        PlatformMgr_1.default.initPlatform();
        ViewMgr_1.default.instance.init();
        new Login_1.default().login();
    };
    return MyInit;
}());
exports.default = MyInit;

},{"./Login":3,"./mgrCommon/PlatformMgr":7,"./mgrCommon/StorageMgr":10,"./mgrCommon/ViewMgr":11,"./models/ConfigData":12}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//全局事件
var EventDispatcher = laya.events.EventDispatcher;
var EventMgr = /** @class */ (function (_super) {
    __extends(EventMgr, _super);
    function EventMgr() {
        return _super.call(this) || this;
    }
    ;
    //派发事件
    EventMgr.prototype.emit = function (InName, agv) {
        // console.log("派发事件" + InName,agv);
        EventMgr.eventDispatcher.event(InName, agv);
    };
    //侦听事件
    EventMgr.prototype.onEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.on(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //侦听事件
    EventMgr.prototype.onOnceEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.once(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //移除事件
    EventMgr.prototype.onOffEvent = function (InName, caller, listener, arg) {
        // console.log("关闭事件",InName);
        EventMgr.eventDispatcher.off(InName, caller, listener);
    };
    EventMgr.eventDispatcher = new EventDispatcher();
    EventMgr.instance = new EventMgr();
    return EventMgr;
}(EventDispatcher));
exports.default = EventMgr;

},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageMgr_1 = require("./StorageMgr");
var ConfigData_1 = require("../models/ConfigData");
var HttpUtils_1 = require("../tools/HttpUtils");
var UserData_1 = require("../models/UserData");
var EventMgr_1 = require("./EventMgr");
var HttpMgr = /** @class */ (function () {
    function HttpMgr() {
        this._http = new HttpUtils_1.default();
    }
    //登陆
    HttpMgr.prototype.login = function (_d) {
        this._http.request({
            url: 'userLogin.action', data: _d, callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.sessionId = res.sessionId;
                    StorageMgr_1.default.saveSession(UserData_1.default.sessionId);
                    if (_d.success) {
                        _d.success(res);
                    }
                }
                else {
                    // sessionId 过期
                    StorageMgr_1.default.saveSession("");
                    UserData_1.default.sessionId = "";
                    if (_d.fail) {
                        _d.fail(res);
                    }
                }
            }
        });
    };
    //拿线上游戏的json配制
    HttpMgr.prototype.getRemoteJson = function (_callback) {
        this._http.getRemoteJson(_callback);
    };
    //开关配制
    HttpMgr.prototype.getSystemConfig = function () {
        this._http.request({
            url: 'getSystemParamList.action', data: { nowVersion: ConfigData_1.default.version }, callback: function (res) {
                if (res.code == 0) {
                    ConfigData_1.default.ctrlInfo = {
                        isConverge: res.isConverge,
                        isShare: res.isShare,
                        isVideo: res.isVideo,
                        isWudian: res.isWudian,
                        shareInfo: res.shareInfo,
                        isBanner: res.is_banner,
                        adInfo: res.adInfo,
                    };
                    if (res.is_banner) {
                        ConfigData_1.default.mainAdMy = null;
                    }
                }
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }, fail: function (res) {
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }
        });
    };
    HttpMgr.prototype.updateUserInfo = function () {
        this._http.request({
            url: 'updateUserInfo.action', data: {
                nickname: UserData_1.default.nickName,
                headimgurl: UserData_1.default.avatarUrl,
                sex: UserData_1.default.gender,
            }
        });
    };
    HttpMgr.prototype.statisticsPost = function (_d) {
        this._http.requestStatistics(_d);
    };
    HttpMgr.prototype.videoErrorCallback = function () {
        this._http.request({
            url: 'videoCallback.action', callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.adCount = res.adCount;
                }
            }
        });
    };
    HttpMgr.prototype.getWorldRank = function (_d) {
        this._http.request({
            url: 'getWorldRank.action', data: { page: 1, type: 1 }, callback: function (res) {
                if (res.code == 0) {
                    if (_d.success) {
                        _d.success(res);
                    }
                }
            }
        });
    };
    HttpMgr.instance = new HttpMgr();
    return HttpMgr;
}());
exports.default = HttpMgr;

},{"../models/ConfigData":12,"../models/UserData":13,"../tools/HttpUtils":18,"./EventMgr":5,"./StorageMgr":10}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var WXAPI_1 = require("../platform/wx/WXAPI");
var WXADMgr_1 = require("../platform/wx/WXADMgr");
var WXSubDomain_1 = require("../platform/wx/WXSubDomain");
var PlatformMgr = /** @class */ (function (_super) {
    __extends(PlatformMgr, _super);
    function PlatformMgr() {
        return _super.call(this) || this;
    }
    PlatformMgr.initPlatform = function () {
        switch (ConfigData_1.default.releasePlatform) {
            case "wx":
                PlatformMgr.ptAPI = new WXAPI_1.default();
                PlatformMgr.ptAdMgr = new WXADMgr_1.default;
                PlatformMgr.subDomain = new WXSubDomain_1.default();
                break;
            case "fb":
                //new fb的管理类
                // this.ptAPI = new FBAPI();
                // this.ptAdMgr = new FBAdMgr;
                break;
        }
    };
    PlatformMgr.instance = new PlatformMgr();
    return PlatformMgr;
}(Laya.Script));
exports.default = PlatformMgr;

},{"../models/ConfigData":12,"../platform/wx/WXADMgr":14,"../platform/wx/WXAPI":15,"../platform/wx/WXSubDomain":17}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var SoundMgr = /** @class */ (function () {
    function SoundMgr() {
    }
    SoundMgr.prototype.playSound = function (name) {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/" + name + ".mp3";
        if (Laya.Browser.onMiniGame) {
            var sound = laya.utils.Pool.getItem(name);
            if (sound == null) {
                sound = wx.createInnerAudioContext();
                sound.src = "res/sound/" + name + ".mp3";
                sound.onEnded(function () {
                    laya.utils.Pool.recover(name, sound);
                });
            }
            sound.play();
        }
        else {
            Laya.SoundManager.playSound(url, 1);
        }
    };
    SoundMgr.prototype.playBGM = function () {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            this.bgm = wx.createInnerAudioContext();
            this.bgm.src = url;
            this.bgm.loop = true;
            this.bgm.play();
        }
        else {
            Laya.SoundManager.playMusic(url, 0);
        }
    };
    SoundMgr.prototype.stopBGM = function () {
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            if (this.bgm) {
                this.bgm.stop();
            }
        }
        else {
            Laya.SoundManager.stopMusic();
        }
    };
    SoundMgr.instance = new SoundMgr();
    return SoundMgr;
}());
exports.default = SoundMgr;

},{"../models/ConfigData":12}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var HttpMgr_1 = require("./HttpMgr");
var UserData_1 = require("../models/UserData");
var ConfigData_1 = require("../models/ConfigData");
var StatisticsMgr = /** @class */ (function () {
    function StatisticsMgr() {
    }
    //登陆统计
    StatisticsMgr.prototype.loginStatisticsPost = function () {
        var _d = {
            action: "1005",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //点击授权统计接口
    StatisticsMgr.prototype.authorStatistics = function () {
        var _d = {
            action: "1006",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //开始游戏统计接口
    StatisticsMgr.prototype.startGameStatistics = function () {
        var _d = {
            action: "1008",
        };
        this.statisticsPost(_d);
    };
    //分享统计接口  类型: 0普通分享, 1分享复活, 2分享获取道具, 3分享获取抽奖次数
    StatisticsMgr.prototype.shareStatistics = function (type) {
        var _d = {
            action: "1009",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击视频统计接口
    StatisticsMgr.prototype.clickVideoStatistics = function (type) {
        var _d = {
            action: "1010",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //看完视频统计接口
    StatisticsMgr.prototype.videoPlayOverAdStatistics = function (type) {
        var _d = {
            action: "1011",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击跳转统计接口
    StatisticsMgr.prototype.navigateToMiniProgramStatistics = function (_d) {
        _d.action = "1007";
        this.statisticsPost(_d);
    };
    //点击跳转成功后统计接口
    StatisticsMgr.prototype.navigateToMiniProgramBackStatistics = function (_d) {
        _d.action = "1017";
        this.statisticsPost(_d);
    };
    //统计
    StatisticsMgr.prototype.statisticsPost = function (_data) {
        var _d = {
            channel: UserData_1.default.channelId,
            my_appid: ConfigData_1.default.myAppid,
            openid: UserData_1.default.openId,
        };
        for (var key in _data) {
            if (_data.hasOwnProperty(key)) {
                _d[key] = _data[key];
            }
        }
        HttpMgr_1.default.instance.statisticsPost(_d);
    };
    StatisticsMgr.instance = new StatisticsMgr();
    return StatisticsMgr;
}());
exports.default = StatisticsMgr;

},{"../models/ConfigData":12,"../models/UserData":13,"./HttpMgr":6}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var UserData_1 = require("../models/UserData");
var StorageMgr = /** @class */ (function () {
    function StorageMgr() {
    }
    StorageMgr.setStorage = function (_d) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        wx.setStorage({
            key: _d.key,
            data: JSON.stringify(_d.val),
            success: _d.success,
            fail: _d.fail,
            complete: _d.complete
        });
    };
    StorageMgr.getStorage = function (_key) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        try {
            var value = wx.getStorageSync(_key);
            if (value) {
                return value;
            }
        }
        catch (e) {
        }
    };
    StorageMgr.saveSession = function (_s) {
        StorageMgr.setStorage({ key: "sessionId", val: _s });
    };
    StorageMgr.getLocalVirbort = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("virbort"));
    };
    StorageMgr.setLocalVirbort = function (str) {
        StorageMgr.setStorage({
            ket: "virbort",
            val: str
        });
    };
    StorageMgr.getLocalSound = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("sound"));
    };
    StorageMgr.setLocalSound = function (str) {
        StorageMgr.setStorage({
            ket: "sound",
            val: str
        });
    };
    StorageMgr.saveUserData = function () {
        var _d = {
            sessionId: UserData_1.default.sessionId,
            openId: UserData_1.default.openId,
            score: UserData_1.default.score,
            exp: UserData_1.default.exp,
            level: UserData_1.default.level,
        };
        StorageMgr.setStorage({ key: "userData", val: _d });
    };
    StorageMgr.getLocalUserData = function () {
        if (UserData_1.default.isLogin) {
            return;
        }
        var _d = StorageMgr.getStorage("userData");
        if (!MyUtils_1.default.isNull(_d)) {
            _d = JSON.parse(_d);
            UserData_1.default.sessionId = _d.sessionId;
            UserData_1.default.openId = _d.openId;
            UserData_1.default.score = _d.score || 0;
            UserData_1.default.exp = _d.exp;
            UserData_1.default.level = _d.level || 0;
        }
    };
    return StorageMgr;
}());
exports.default = StorageMgr;

},{"../models/UserData":13,"../tools/MyUtils":20}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var EventMgr_1 = require("./EventMgr");
var ConfigData_1 = require("../models/ConfigData");
var ViewMgr = /** @class */ (function () {
    function ViewMgr() {
        this.viewDic = {};
        this.events = ["goHome"];
    }
    ViewMgr.prototype.init = function () {
        for (var index = 0; index < this.events.length; index++) {
            EventMgr_1.default.instance.onEvent(this.events[index], this, this[this.events[index]]);
        }
    };
    ViewMgr.prototype.goHome = function (res) {
        var viewName = ConfigData_1.default.mainBtnsType == ConfigData_1.MAINBTNSTYPE.LANDSCAPE ? "MainLandscape.scene" : "MainVertical.scene";
        this.openView({
            viewName: viewName,
            closeAll: true,
        });
    };
    ViewMgr.prototype.openView = function (_d) {
        var self = this;
        var url = _d.viewName;
        var cls = _d.cls;
        var closeAll = _d.closeAll || false;
        if (closeAll) {
            this.viewDic = {};
        }
        if (MyUtils_1.default.isNull(this.viewDic[url])) {
            Laya.Scene.open(url, closeAll, Laya.Handler.create(this, function (owner) {
                self.viewDic[url] = owner;
                var coms = owner._components;
                if (coms) {
                    for (var index = 0; index < coms.length; index++) {
                        var element = coms[index];
                        if (element.isMyBaseView) {
                            element.openView(_d.data);
                            break;
                        }
                    }
                }
            }));
        }
        else {
            var owner = this.viewDic[url];
            var coms = owner._components;
            if (coms) {
                for (var index = 0; index < coms.length; index++) {
                    var element = coms[index];
                    if (element.isMyBaseView) {
                        element.openView(_d.data);
                        break;
                    }
                }
            }
        }
    };
    ViewMgr.prototype.closeView = function (viewName) {
        if (MyUtils_1.default.isNull(this.viewDic[viewName])) {
            return;
        }
        this.viewDic[viewName].destroy();
        this.viewDic[viewName] = null;
    };
    ViewMgr.prototype.hideView = function (viewName) {
        if (MyUtils_1.default.isNull(this.viewDic[viewName])) {
            return;
        }
        this.viewDic[viewName].visible = false;
    };
    ViewMgr.prototype.getView = function (viewName) {
        var view = this.viewDic[viewName];
        if (!MyUtils_1.default.isNull(view)) {
            return view;
        }
    };
    ViewMgr.instance = new ViewMgr();
    return ViewMgr;
}());
exports.default = ViewMgr;

},{"../models/ConfigData":12,"../tools/MyUtils":20,"./EventMgr":5}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var StorageMgr_1 = require("../mgrCommon/StorageMgr");
var MAINBTNSTYPE;
(function (MAINBTNSTYPE) {
    MAINBTNSTYPE[MAINBTNSTYPE["LANDSCAPE"] = 0] = "LANDSCAPE";
    MAINBTNSTYPE[MAINBTNSTYPE["VERTICAL"] = 1] = "VERTICAL";
})(MAINBTNSTYPE = exports.MAINBTNSTYPE || (exports.MAINBTNSTYPE = {}));
var SORTTYPE;
(function (SORTTYPE) {
    SORTTYPE[SORTTYPE["LEVEL"] = 0] = "LEVEL";
    SORTTYPE[SORTTYPE["ENDLESS"] = 1] = "ENDLESS";
})(SORTTYPE = exports.SORTTYPE || (exports.SORTTYPE = {}));
var ConfigData = /** @class */ (function () {
    function ConfigData() {
    }
    ConfigData.initLocal = function () {
        ConfigData.isSound = StorageMgr_1.default.getLocalSound();
        ConfigData.isVirbort = StorageMgr_1.default.getLocalVirbort();
        if (Laya.Browser.onMiniGame) {
            this.releasePlatform = "wx";
            this.systemInfo = wx.getSystemInfoSync();
        }
    };
    ConfigData.initConfigData = function (_d, remote) {
        if (remote === void 0) { remote = false; }
        if (remote) {
            ConfigData.configs = _d;
        }
        else if (!ConfigData.configs) {
            ConfigData.configs = _d;
        }
    };
    ConfigData.getConfigData = function (configName) {
        return this.ctrlInfo[configName];
    };
    /**设置声音 */
    ConfigData.setSound = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isSound = true;
            StorageMgr_1.default.setLocalSound("");
        }
        else {
            StorageMgr_1.default.setLocalSound("1");
            ConfigData.isSound = false;
        }
    };
    /**
     * 振动设置
     * @param str
     */
    ConfigData.setVirbort = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isVirbort = true;
            StorageMgr_1.default.setLocalVirbort("");
        }
        else {
            StorageMgr_1.default.setLocalVirbort("1");
            ConfigData.isVirbort = false;
        }
    };
    ConfigData.getADData = function (adId) {
        var srt = this.getConfigData("adInfo");
        if (MyUtils_1.default.isNull(srt)) {
            return;
        }
        var adInfos = JSON.parse(srt);
        var array = [];
        for (var i = 0; i < adInfos.length; i++) {
            var adInfo = adInfos[i];
            if (adInfo.position == adId) {
                array.push(adInfo);
            }
        }
        return array;
    };
    ConfigData.mainBtnsType = 0; //主页按钮排列方式使用哪种
    ConfigData.releasePlatform = ""; //发布平台 wx fb
    ConfigData.myAppid = "wxbe9fe00281505169";
    ConfigData.configs = null;
    ConfigData.language = "cn";
    ConfigData.languageData = null;
    ConfigData.version = "100";
    ConfigData.jsonVersion = "100";
    ConfigData.serverUrl = "https://xcx.biaocr.com/funny_frog/";
    ConfigData.jsonVersionUrl = "https://p.doguane.cn/20190404/m_04171926352321.json";
    ConfigData.statisticsUrl = "https://log.zuancr.com/";
    ConfigData.isCreateAuthorization = false; //是否创建了授权按钮
    ConfigData.repeatAuthorization = false; //是否创建了授权按钮
    ConfigData.isLog = true; //是否开启日志
    ConfigData.ctrlInfo = {}; //游戏控制信息
    ConfigData.systemInfo = {}; //设备系统信息
    ConfigData.bannerVideoId = "adunit-7c4449f9f6fcafbb";
    ConfigData.rewardedVideoId = "adunit-df0311118e2452c6";
    return ConfigData;
}());
exports.default = ConfigData;

},{"../mgrCommon/StorageMgr":10,"../tools/MyUtils":20}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData = /** @class */ (function () {
    function UserData() {
    }
    UserData.code = ""; //微信code
    UserData.openId = ""; //微信openid
    UserData.sessionId = "";
    UserData.nickName = "";
    UserData.gender = 0;
    UserData.avatarUrl = "";
    UserData.score = 0; //分数
    UserData.exp = 0; //经验
    UserData.level = 1; //等级
    UserData.index = 0; //排行
    UserData.diamond = 0;
    UserData.gold = 0;
    UserData.isNew = false;
    UserData.isLogin = false;
    return UserData;
}());
exports.default = UserData;

},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var WXAdMgr = /** @class */ (function () {
    /**
     *
     */
    function WXAdMgr() {
        this.bannerHomeIsHide = true;
        this.bannerOtherIsHide = true;
        this.bannerClassicEndIsHide = true;
        this.isInited = false;
        this.hasAd = false;
        this.init();
    }
    WXAdMgr.prototype.init = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.systemInfo.SDKVersion && MyUtils_1.default.compareVersion(ConfigData_1.default.systemInfo.SDKVersion, "2.0.4") >= 0) {
            this.isInited = true;
            this.initVedioCom();
        }
        this.preBannerTime_Home = Laya.timer.currTimer;
        this.preBannerTime_Other = Laya.timer.currTimer;
        this.preBannerTime_ClassicEnd = Laya.timer.currTimer;
    };
    WXAdMgr.prototype.initVedioCom = function () {
        var self = this;
        if (this.isInited) {
            this.rewardedVideoAd = window["wx"].createRewardedVideoAd({ adUnitId: ConfigData_1.default.rewardedVideoId });
            if (this.rewardedVideoAd == undefined) {
                return;
            }
            this.rewardedVideoAd.onLoad(function () {
                console.log("rewardedVideo onload");
                self.hasAd = true;
            });
            this.rewardedVideoAd.onError(function (err) {
                self.hasAd = false;
                HttpMgr_1.default.instance.videoErrorCallback();
                if (self.callBackSuc != null) {
                    self.callBackSuc(self.caller);
                }
            });
            this.rewardedVideoAd.onClose(function (res) {
                // 用户点击了【关闭广告】按钮
                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                if (res && res.isEnded || res === undefined) {
                    // 正常播放结束，可以下发游戏奖励
                    self.videoPlayedTimes += 1;
                    if (self.callBackSuc != null) {
                        self.callBackSuc(self.caller);
                    }
                }
                else {
                    // 播放中途退出，不下发游戏奖励
                    if (self.callBackFail != null) {
                        self.callBackFail(self.caller);
                    }
                }
            });
        }
    };
    WXAdMgr.prototype.showVideo = function (caller, callBackSuc, callBackFail) {
        if (!this.isInited) {
            return;
        }
        var self = this;
        this.caller = caller;
        this.callBackSuc = callBackSuc;
        this.callBackFail = callBackFail;
        if (this.hasAd) {
            this.hasAd = false;
            this.rewardedVideoAd.show();
        }
        else {
            this.rewardedVideoAd.load()
                .then(function () {
                self.rewardedVideoAd.show();
                self.hasAd = false;
            });
        }
    };
    WXAdMgr.prototype.loadBannerAdHome = function () {
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.showBannerAdHome(true);
    };
    WXAdMgr.prototype.showBannerAdHome = function (onlyLoad) {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = Laya.stage.width / 2 - 140;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerHomeIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Home > 30000) {
            if (this.bannerHome) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
        }
        if (!this.bannerHome) {
            this.destroyBannerAdHome();
            this.bannerHome = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerHome.onResize(function (r) {
                _this.bannerHome.style.left = (screenW - _this.bannerHome.style.realWidth) / 2;
                _this.bannerHome.style.top = screenH - _this.bannerHome.style.realHeight;
                if (screenH / screenW > 2) {
                    _this.bannerHome.style.top = _this.bannerHome.style.top - 10;
                }
            });
            this.bannerHome.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            // this.bannerHome.onLoad(()=>{
            //     if(this.bannerHomeIsHide){
            //         this.bannerHome.destroy();
            //         return;
            //     }
            //     this.bannerHome.show();
            // })
            this.preBannerTime_Home = Laya.timer.currTimer;
        }
        if (onlyLoad) {
            return;
        }
        if (this.bannerHome != undefined) {
            this.bannerHome.show();
        }
    };
    WXAdMgr.prototype.showBannerAdOther = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerOtherIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerOther) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
        }
        if (!this.bannerOther) {
            this.destroyBannerAdOther();
            this.bannerOther = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerOther.onResize(function (r) {
                _this.bannerOther.style.left = (screenW - _this.bannerOther.style.realWidth) / 2;
                _this.bannerOther.style.top = screenH - _this.bannerOther.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerOther.style.top = _this.bannerOther.style.top - 25;
                }
            });
            this.bannerOther.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerOther != undefined) {
            this.bannerOther.show();
        }
    };
    WXAdMgr.prototype.showBannerAdClassicEnd = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerClassicEndIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerClassicEnd) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
        }
        if (!this.bannerClassicEnd) {
            this.destroyBannerAdClassicEnd();
            this.bannerClassicEnd = window["wx"].createBannerAd({
                adUnitId: 'adunit-dcacf7fd6e654b4d',
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerClassicEnd.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.bannerClassicEnd.onResize(function (r) {
                _this.bannerClassicEnd.style.left = (screenW - _this.bannerClassicEnd.style.realWidth) / 2;
                _this.bannerClassicEnd.style.top = screenH - _this.bannerClassicEnd.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerClassicEnd.style.top = _this.bannerClassicEnd.style.top - 25;
                }
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerClassicEnd != undefined) {
            this.bannerClassicEnd.show();
        }
    };
    WXAdMgr.prototype.destroyBannerAdHome = function () {
        this.bannerHomeIsHide = true;
        if (this.bannerHome) {
            this.preBannerTime_Home = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
            else {
                this.bannerHome.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdOther = function () {
        this.bannerOtherIsHide = true;
        if (this.bannerOther) {
            this.preBannerTime_Other = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
            else {
                this.bannerOther.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdClassicEnd = function () {
        this.bannerClassicEndIsHide = true;
        if (this.bannerClassicEnd) {
            this.preBannerTime_ClassicEnd = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
            else {
                this.bannerClassicEnd.hide();
            }
        }
    };
    WXAdMgr.prototype.destoryAllBannerAd = function () {
        this.destroyBannerAdHome();
        this.destroyBannerAdOther();
        this.destroyBannerAdClassicEnd();
    };
    return WXAdMgr;
}());
exports.default = WXAdMgr;

},{"../../mgrCommon/HttpMgr":6,"../../models/ConfigData":12,"../../tools/MyUtils":20}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData_1 = require("../../models/UserData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var EventMgr_1 = require("../../mgrCommon/EventMgr");
var StatisticsMgr_1 = require("../../mgrCommon/StatisticsMgr");
var MyLog_1 = require("../../tools/MyLog");
var SoundMgr_1 = require("../../mgrCommon/SoundMgr");
var ViewMgr_1 = require("../../mgrCommon/ViewMgr");
var ConvergeAdView_1 = require("../../views/ConvergeAdView");
var WXAPI = /** @class */ (function () {
    function WXAPI() {
        var _this = this;
        this._launch = {};
        this.btns = [];
        this.stime = 0;
        this.shareBackArgs = {};
        this.caller = null;
        this._launch = window["wx"].getLaunchOptionsSync();
        EventMgr_1.default.instance.once("getSystemParamListBack", this, function () {
            _this.showShareMenu();
        });
        this.setOpenDomainOffset();
        window["wx"].onShow(function (res) {
            var shareTicket = res.shareTicket;
            var query = res.query || {};
            if (shareTicket != undefined && query.avatarUrlGroup
                && query.nickNameGroup) {
                //在这做群排行的弹框
            }
            else {
                //分享回调
                var _d = _this.shareBackArgs || {};
                var self_1 = _this;
                var time = Laya.Browser.now() - _this.stime;
                if (Laya.Browser.now() - _this.stime > 2000) {
                    _d.success = true;
                    if (_this.shareBack && _this.caller) {
                        _this.shareBack.call(_this.caller, _d);
                    }
                    _this.shareBack = null;
                }
                else {
                    _d.success = false;
                    if (_this.shareBack && _this.caller) {
                        _this.shareBack.call(_this.caller, _d);
                    }
                    _this.shareBack = null;
                }
            }
            //播放音乐 切到后台背景音乐消失需要重新播放
            SoundMgr_1.default.instance.playBGM();
            //聚合广告页面
            //控制结束页面的分享，不显示聚合广告页面
            var notShowAd = false;
            if (_this.shareBackArgs) {
                notShowAd = _this.shareBackArgs["notShowAd"];
            }
            Laya.timer.frameOnce(1, _this, function () {
                //只在结束界面显示聚合广告页面
                var gameOverView = ViewMgr_1.default.instance.getView("GameOver.scene");
                var convergeAdView = ViewMgr_1.default.instance.getView("ConvergeAd.scene");
                if (!notShowAd && ConfigData_1.default.ctrlInfo.isConverge == 1 && gameOverView && !convergeAdView) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "ConvergeAd.scene",
                        clas: ConvergeAdView_1.default,
                        closeAll: false,
                    });
                }
            });
            _this.shareBackArgs = {};
        });
        window["wx"].onHide(function () {
            _this.stime = Laya.Browser.now();
        });
    }
    WXAPI.prototype.onGoShare = function (res) {
        this.caller = res.caller;
        this.shareBack = res.callback;
        this.shareBackArgs = res.args || {};
    };
    /*
       success 成功回调
       fail 失败回调
   */
    WXAPI.prototype.doLogin = function (_data) {
        var _this = this;
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].login({
            success: function (res) {
                UserData_1.default.code = res.code;
                //登录接口
                var launch = _this.getLaunchData();
                var _d = {};
                _d.code = res.code;
                if (launch.query) {
                    _d.inviteId = launch.query.invite_uid || '';
                    _d.channelId = launch.query.channel || "";
                    UserData_1.default.fromAppid = launch.query.cur_share_id || "";
                }
                if (launch.referrerInfo) {
                    UserData_1.default.fromImgid = launch.referrerInfo.appId;
                }
                _d.success = _data.success;
                _d.fail = _data.fail;
                HttpMgr_1.default.instance.login(_d);
            },
        });
    };
    WXAPI.prototype.getOffsetOpenDomain = function () {
        return this.offsetOpenDomain;
    };
    WXAPI.prototype.getLaunchData = function () {
        return this._launch;
    };
    WXAPI.prototype.getQuery = function () {
        return this._launch.query;
    };
    WXAPI.prototype.getReferrerInfo = function () {
        return this._launch.referrerInfo;
    };
    WXAPI.prototype.uploadRankDate = function (_data) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var d = [];
        if (!MyUtils_1.default.isNull(_data.level)) {
            d.push({ key: "level", value: _data.level + "" });
        }
        if (!MyUtils_1.default.isNull(_data.score)) {
            d.push({ key: "score", value: _data.score + "" });
        }
        window["wx"].setUserCloudStorage({
            KVDataList: d,
            success: function (res) {
                // console.log("上传数据到微信服务器:" + JSON.stringify(res));
            }
        });
    };
    WXAPI.prototype.showShareMenu = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].showShareMenu({ withShareTicket: true });
        var shareInfo = this.createShareInfo();
        window["wx"].onShareAppMessage(function () {
            return shareInfo;
        });
    };
    WXAPI.prototype.createShareInfo = function (_d) {
        var sd = JSON.parse(ConfigData_1.default.getConfigData("shareInfo"));
        if (!sd) {
            return null;
        }
        var rand_t = MyUtils_1.default.random(0, sd.length - 1);
        var title = sd[rand_t].title;
        var imageUrl = sd[rand_t].img;
        var query = "invite_uid=" + (UserData_1.default.userId ? UserData_1.default.userId : "");
        query += "&cur_share_id=" + sd[rand_t].id;
        query += "&avatarUrlGroup=" + (UserData_1.default.avatarUrl ? UserData_1.default.avatarUrl : "");
        query += "&nickNameGroup=" + (UserData_1.default.nickName ? UserData_1.default.nickName : "");
        query += "&channel=" + (UserData_1.default.channelId ? UserData_1.default.channelId : "");
        if (_d) {
            if (_d.id) {
                query += "&scene=" + _d.id;
            }
            if (_d.itemId) {
                query += "&itemId=" + _d.itemId;
            }
            if (_d.type) {
                query += "&type=" + _d.type;
            }
            if (_d.share_title) {
                title = _d.share_title;
            }
            if (_d.share_img) {
                imageUrl = _d.share_img;
            }
        }
        return {
            title: title,
            imageUrl: imageUrl,
            query: query,
        };
    };
    WXAPI.prototype.shareAppMessage = function (_d, type) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (_d.callback) {
            this.onGoShare(_d);
        }
        if (!ConfigData_1.default.getConfigData("shareInfo")) {
            return;
        }
        StatisticsMgr_1.default.instance.shareStatistics(type);
        var shareInfo = this.createShareInfo(_d);
        window["wx"].shareAppMessage(shareInfo);
    };
    WXAPI.prototype.navigateToMiniProgram = function (_d) {
        if (!_d || !_d.appId || !Laya.Browser.onMiniGame) {
            return;
        }
        StatisticsMgr_1.default.instance.navigateToMiniProgramStatistics(_d);
        window["wx"].navigateToMiniProgram({
            appId: _d.appid,
            path: _d.path,
            extraData: {
                foo: 'bar',
            },
            // envVersion: 'develop',
            complete: function (res) {
                if (_d.complete) {
                    _d.complete();
                }
                _d.complete = null;
            },
            fail: function (res) {
                window["wx"].showToast({ title: "跳转失败" });
                if (_d.fail) {
                    _d.fail();
                }
                _d.fail = null;
            },
            success: function (res) {
                StatisticsMgr_1.default.instance.navigateToMiniProgramBackStatistics(_d);
                if (_d.callback) {
                    _d.callback("success");
                }
                _d.callback = null;
            }
        });
    };
    /**
    * 设置子域界面偏移，适配不同的屏幕界面
    */
    WXAPI.prototype.setOpenDomainOffset = function () {
        var offsetX = Laya.stage.width - 750;
        if (offsetX < 0) {
            offsetX = 0;
        }
        var offsetY = Laya.stage.height - 1334;
        if (offsetY < 0) {
            offsetY = 0;
        }
        this.offsetOpenDomain = new Laya.Vector2(offsetX, offsetY);
    };
    WXAPI.prototype.createAuthorizationButton = function (_data) {
        if (Laya.Browser.onMiniGame) {
            wx.getSetting({
                success: function (res) {
                    var _this = this;
                    if (res.authSetting && res.authSetting["scope.userInfo"]) {
                        MyLog_1.default.log("已经授权");
                    }
                    else {
                        var sWidth = Laya.stage.width;
                        var sHeight = Laya.stage.height;
                        var xb = (Laya.Browser.width / Laya.Browser.pixelRatio) / sWidth;
                        var yb = (Laya.Browser.height / Laya.Browser.pixelRatio) / sHeight;
                        var left = (_data.x - _data.width / 2) * xb;
                        var top_1 = (_data.y + this.offsetOpenDomain.y - _data.height / 2) * yb;
                        var width = _data.width * xb;
                        var height = (_data.height) * yb;
                        // let backgroundColor = "#ffffff";
                        if (_data.isFull) {
                            left = 0;
                            top_1 = (_data.y + this.offsetOpenDomain.y / 2) * yb;
                            width = width;
                            height = height;
                            // backgroundColor = "#ff0703";
                        }
                        var button_1 = window["wx"].createUserInfoButton({
                            type: 'text',
                            text: '',
                            style: {
                                left: left,
                                top: top_1,
                                width: width,
                                height: height,
                            },
                        });
                        if (this.btns) {
                            this.btns.push({ "button": button_1, "isFull": _data.isFull });
                        }
                        button_1.onTap(function (res) {
                            if (res && res.userInfo) {
                                UserData_1.default.nickName = res.userInfo.nickName;
                                UserData_1.default.gender = res.userInfo.gender;
                                UserData_1.default.avatarUrl = res.userInfo.avatarUrl;
                                StatisticsMgr_1.default.instance.authorStatistics();
                                HttpMgr_1.default.instance.updateUserInfo();
                                if (_this.btns) {
                                    _this.btns.forEach(function (element) {
                                        if (element) {
                                            element.button.destroy();
                                        }
                                    });
                                }
                                _this.btns = null;
                                button_1.destroy();
                                if (_data.successBack) {
                                    _data.successBack.method.call(_data.successBack.caller);
                                }
                            }
                            else {
                                _this.destoryAuthorization();
                                if (_data.failBack) {
                                    _data.failBack.method.call(_data.failBack.caller);
                                }
                            }
                        });
                    }
                },
                fail: function () { },
                complete: function () { }
            });
        }
    };
    WXAPI.prototype.destoryAuthorization = function () {
        if (!ConfigData_1.default.repeatAuthorization) { //如果不需要重复弹授权
            ConfigData_1.default.isCreateAuthorization = true;
            if (this.btns) {
                this.btns.forEach(function (element) {
                    if (element) {
                        element.button.destroy();
                    }
                });
            }
        }
        else {
            this.setAuthorizationCheck(false);
        }
    };
    WXAPI.prototype.setAuthorizationCheck = function (flag) {
        if (this.btns) {
            this.btns.forEach(function (element) {
                if (element) {
                    if (flag) {
                        element.button.show();
                    }
                    else {
                        element.button.hide();
                    }
                }
            });
        }
    };
    WXAPI.prototype.vibrateShort = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateShort();
        }
    };
    WXAPI.prototype.vibrateLong = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateLong();
        }
    };
    WXAPI.prototype.openCustomerServiceConversation = function () {
        window["wx"].openCustomerServiceConversation();
    };
    return WXAPI;
}());
exports.default = WXAPI;

},{"../../mgrCommon/EventMgr":5,"../../mgrCommon/HttpMgr":6,"../../mgrCommon/SoundMgr":8,"../../mgrCommon/StatisticsMgr":9,"../../mgrCommon/ViewMgr":11,"../../models/ConfigData":12,"../../models/UserData":13,"../../tools/MyLog":19,"../../tools/MyUtils":20,"../../views/ConvergeAdView":23}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../../models/ConfigData");
var SoundMgr_1 = require("../../mgrCommon/SoundMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var EventMgr_1 = require("../../mgrCommon/EventMgr");
var WXLaunch = /** @class */ (function (_super) {
    __extends(WXLaunch, _super);
    function WXLaunch() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.toProcess = 1;
        _this.progress = 0;
        _this.scene3dUrl = "res3d/Conventional/Eatitup.ls";
        return _this;
    }
    WXLaunch.prototype.getLaunchTipMsg = function () {
        var tips = [
            "按住屏幕舌头会伸长哦",
            "敲好玩，值得等待，呱~"
        ];
        return tips[MyUtils_1.default.random(0, tips.length - 1)];
    };
    WXLaunch.prototype.onEnable = function () {
        var group = this.owner.getChildByName("progressGroup");
        this.pro = group.getChildByName("progress");
        this.proLabel = group.getChildByName("proLab");
        this.tipLable = this.owner.getChildByName("tipBg").getChildByName("tipLab");
        this.tipLable.text = this.getLaunchTipMsg();
        this.loadRes();
    };
    WXLaunch.prototype.loadRes = function () {
        var _this = this;
        var resource = [
            { url: "res/atlas/rank.atlas", type: Laya.Loader.ATLAS },
            { url: "res/json/config.json", type: Laya.Loader.JSON },
            { url: "res/language/" + ConfigData_1.default.language + ".json", type: Laya.Loader.JSON },
        ];
        var self = this;
        if (Laya.Browser.onMiniGame) {
            var loadTask = window["wx"].loadSubpackage({
                name: 'res3d',
                success: function (res) {
                    // 分包加载成功后通过 success 回调
                    var loadTask1 = window["wx"].loadSubpackage({
                        name: 'res',
                        success: function (res) {
                            // 分包加载成功后通过 success 回调
                            Laya.loader.load(resource, Laya.Handler.create(_this, function () {
                                self.updateProgress(0.99);
                                _this.loadResComplete();
                            }), Laya.Handler.create(_this, function (res) {
                                self.updateProgress(0.6 + res * 0.4);
                            }));
                        },
                        fail: function (res) {
                            // 分包加载失败通过 fail 回调时强行重新加载资源，这样才能进游戏
                            _this.loadRes();
                        }
                    });
                    loadTask1.onProgressUpdate(function (res) {
                        self.updateProgress(0.3 + res.progress * 0.003);
                    });
                },
                fail: function (res) {
                    // 分包加载失败通过 fail 回调
                    _this.loadRes();
                }
            });
            loadTask.onProgressUpdate(function (res) {
                self.updateProgress(res.progress * 0.003);
            });
        }
        else {
            Laya.loader.load(resource, Laya.Handler.create(this, function () {
                self.updateProgress(0.99);
                _this.loadResComplete();
            }), Laya.Handler.create(this, function (res) {
                self.updateProgress(res);
            }));
        }
    };
    WXLaunch.prototype.loadResComplete = function () {
        //本地游戏数据配置
        ConfigData_1.default.initConfigData(Laya.Loader.getRes("res/json/config.json"));
        //语言文件
        ConfigData_1.default.languageData = Laya.Loader.getRes("res/json/" + ConfigData_1.default.language + ".json");
        // Laya.Scene3D.load(this.scene3dUrl, Laya.Handler.create(this, this.On3DResLoadComplete));
        this.On3DResLoadComplete();
    };
    WXLaunch.prototype.On3DResLoadComplete = function (scene) {
        this.updateProgress(1);
        if (Laya.Browser.onMiniGame) {
            Laya.MiniAdpter.sendAtlasToOpenDataContext("res/atlas/rank.atlas"); //使用接口将图集透传到子域
        }
        SoundMgr_1.default.instance.playBGM();
        // scene.addComponent(GameMgr);
        // Laya.stage.addChildAt(scene,0);
        EventMgr_1.default.instance.emit("goHome");
    };
    /**
         * 更新资源加载进度
         */
    WXLaunch.prototype.updateProgress = function (progress) {
        var _this = this;
        this.progress = progress;
        this.progress > this.toProcess ? this.toProcess : this.progress;
        //最高100%进度
        if (this.progress >= 1) {
            // Laya.Tween.clearAll(this.pro);
            this.proLabel.text = "游戏加载完毕，即将进入游戏...";
            this.pro.width = 500;
            Laya.timer.frameOnce(2, this, function () {
                _this.owner.destroy();
                Laya.loader.clearRes("loading/loading.atlas");
                _this.destroy();
            });
        }
        else {
            this.pro.width = 500 * this.progress;
            // Laya.Tween.clearAll(this.pro);
            // Laya.Tween.to(this.pro,{width:500 * this.progress},100,Laya.Ease.linearNone)
            //进度增加
            this.proLabel.text = "资源加载中..." + Math.floor(this.progress * 100) + "%";
        }
    };
    return WXLaunch;
}(Laya.Script));
exports.default = WXLaunch;

},{"../../mgrCommon/EventMgr":5,"../../mgrCommon/SoundMgr":8,"../../models/ConfigData":12,"../../tools/MyUtils":20}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var WXSubDomain = /** @class */ (function () {
    function WXSubDomain() {
    }
    WXSubDomain.prototype.setOpenView = function (_v) {
        this.wxOpenDataView = _v;
    };
    WXSubDomain.prototype.closeFriendRank = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeFriendRank" });
    };
    WXSubDomain.prototype.openFriendRank = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        // Laya.timer.frameOnce(1, this, ()=> {
        this.wxOpenDataView.postMsg({ type: "openFriendRank" });
        // })
    };
    WXSubDomain.prototype.openGameOver = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openGameOver" });
    };
    WXSubDomain.prototype.closeGameOver = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeGameOver" });
    };
    WXSubDomain.prototype.openSurpassOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openSurpassOther", data: _d });
    };
    WXSubDomain.prototype.closeSurpassOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeSurpassOther" });
    };
    WXSubDomain.prototype.openGoingSurpassOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openGoingSurpassOther", data: _d });
    };
    WXSubDomain.prototype.closeGoingSurpassOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeGoingSurpassOther" });
    };
    WXSubDomain.prototype.openProvocationOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openProvocationOther", data: _d });
    };
    WXSubDomain.prototype.closeProvocationOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeProvocationOther" });
    };
    return WXSubDomain;
}());
exports.default = WXSubDomain;

},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var UserData_1 = require("../models/UserData");
var HttpUtils = /** @class */ (function () {
    function HttpUtils() {
    }
    HttpUtils.prototype.request = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        var url = "";
        if (_d.url.indexOf("https://") > -1 ||
            _d.url.indexOf("http://") > -1) {
            url = _d.url;
        }
        else {
            url = ConfigData_1.default.serverUrl + _d.url;
        }
        var completeFunc = function (res) {
            if (_d.callback) {
                // console.log("url:" + url +" res:" + JSON.stringify(res));
                _d.callback(res);
            }
            _d.callback = null;
            _d = null;
        };
        var errorFunc = function (res) {
            if (_d.fail) {
                _d.fail(res);
            }
            _d.fail = null;
            _d = null;
        };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        xhr.once(Laya.Event.COMPLETE, this, completeFunc);
        xhr.once(Laya.Event.ERROR, this, errorFunc);
        xhr.send(url, JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    HttpUtils.prototype.requestStatistics = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        _d.url = _d.url || "";
        var url = ConfigData_1.default.statisticsUrl + _d.url;
        // var completeDel = (res) => {
        //     if (_d.callback) {
        //         // console.log("url:" + url +" res:" + JSON.stringify(res));
        //         _d.callback(res);
        //     }
        // };
        // var errorDel = (res) => {
        //     if (_d.fail)  {
        //         _d.fail(res);
        //     }
        // };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        // xhr.once(Laya.Event.COMPLETE, this, completeDel);
        // xhr.once(Laya.Event.ERROR, this, errorDel);
        xhr.send(url, "param=" + JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    //拿线上游戏的json配制
    HttpUtils.prototype.getRemoteJson = function (_callback) {
        var _this = this;
        var xhr = new Laya.HttpRequest();
        xhr.once(Laya.Event.COMPLETE, this, function (data) {
            if (data && typeof data != "string" && typeof data == "object") {
                if (ConfigData_1.default.jsonVersion != data.vision) {
                    xhr = new Laya.HttpRequest();
                    xhr.once(Laya.Event.COMPLETE, _this, function (res) {
                        if (res && typeof res != "string" && typeof res == "object") {
                            if (_callback) {
                                _callback(res);
                            }
                        }
                    });
                    xhr.send(data.path, null, "get", "json", ["Content-Type", "application/json"]);
                }
            }
        });
        xhr.send(ConfigData_1.default.jsonVersionUrl, null, "get", "json", ["Content-Type", "application/json"]);
    };
    return HttpUtils;
}());
exports.default = HttpUtils;

},{"../models/ConfigData":12,"../models/UserData":13}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var MyLog = /** @class */ (function () {
    function MyLog() {
    }
    MyLog.log = function (arg1, arg2) {
        if (ConfigData_1.default.isLog) {
            console.log(arg1, arg2);
        }
    };
    return MyLog;
}());
exports.default = MyLog;

},{"../models/ConfigData":12}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var MyUtils = /** @class */ (function () {
    function MyUtils() {
    }
    MyUtils.isNull = function (obj) {
        if (obj != 0 && (obj == null || obj == "" || obj == undefined)) {
            return true;
        }
        return false;
    };
    MyUtils.random = function (min, max) {
        var range = max - min;
        var rand = Math.random();
        var num = min + Math.round(rand * range); //四舍五入
        return num;
    };
    /**
 * 比较版本号，格式xx.xx.xx
 * @param v1 当前版本号
 * @param v2 目标版本号
*/
    MyUtils.compareVersion = function (v1, v2) {
        v1 = v1.split('.');
        v2 = v2.split('.');
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) {
            v1.push('0');
        }
        while (v2.length < len) {
            v2.push('0');
        }
        for (var i = 0; i < len; i++) {
            var num1 = parseInt(v1[i]);
            var num2 = parseInt(v2[i]);
            if (num1 > num2) {
                return 1;
            }
            else if (num1 < num2) {
                return -1;
            }
        }
        return 0;
    };
    //顶部按钮对齐，大体适配是ok的
    MyUtils.autoScreenSize = function (node) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var info = ConfigData_1.default.systemInfo;
        var Y = 60;
        if (info.statusBarHeight < 20) { //18
            Y += 10;
        }
        else if (info.statusBarHeight >= 30) { //44
            Y += 60;
        }
        else if (info.statusBarHeight > 20 && info.statusBarHeight < 30) { //27
            Y += 74;
        }
        node.forEach(function (e) {
            e.y = Y;
        });
    };
    return MyUtils;
}());
exports.default = MyUtils;

},{"../models/ConfigData":12}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var BaseView = /** @class */ (function (_super) {
    __extends(BaseView, _super);
    function BaseView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isMyBaseView = true;
        return _this;
    }
    BaseView.prototype.onAwake = function () {
        //删除时自动释放
        this.owner.autoDestroyAtClosed = true;
    };
    BaseView.prototype.onEnable = function () {
        this.addEvent();
    };
    BaseView.prototype.onDisable = function () {
        this.removeEvent();
    };
    BaseView.prototype.openView = function (data) {
        this.owner.visible = true;
        this.owner.height = Laya.stage.height;
        this._data = data || {};
    };
    BaseView.prototype.addEvent = function () {
    };
    BaseView.prototype.removeEvent = function () {
        this._isClick = null;
        Laya.timer.clearAll(this);
    };
    BaseView.prototype.closeView = function (_d) {
        var _viewName = this.owner.url;
        if (_d && _d.notDestroy) {
            ViewMgr_1.default.instance.hideView(_viewName);
        }
        else {
            ViewMgr_1.default.instance.closeView(_viewName);
        }
        if (_viewName == "Rank.scene") {
            if (PlatformMgr_1.default.ptAPI)
                PlatformMgr_1.default.ptAPI.setAuthorizationCheck(true);
        }
        if (this._data && this._data.callback) {
            this._data.callback(_d);
        }
        this._data = null;
    };
    return BaseView;
}(Laya.Script));
exports.default = BaseView;

},{"../mgrCommon/PlatformMgr":7,"../mgrCommon/ViewMgr":11}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonAnim = /** @class */ (function (_super) {
    __extends(ButtonAnim, _super);
    function ButtonAnim() {
        return _super.call(this) || this;
    }
    ButtonAnim.prototype.onAwake = function () {
        this.owner.on(Laya.Event.MOUSE_DOWN, this, this.onDown);
        this.owner.on(Laya.Event.MOUSE_UP, this, this.onUp);
        this.owner.on(Laya.Event.MOUSE_OUT, this, this.onUp);
    };
    ButtonAnim.prototype.onDisable = function () {
        this.owner.offAll();
        Laya.Tween.clearAll(this);
    };
    ButtonAnim.prototype.onDown = function () {
        Laya.Tween.to(this.owner, { scaleX: 0.8, scaleY: 0.8 }, 100);
    };
    ButtonAnim.prototype.onUp = function () {
        Laya.Tween.to(this.owner, { scaleX: 1, scaleY: 1 }, 100);
    };
    return ButtonAnim;
}(Laya.Script));
exports.default = ButtonAnim;

},{}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var ConfigData_1 = require("../models/ConfigData");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ConvergeAdView = /** @class */ (function (_super) {
    __extends(ConvergeAdView, _super);
    function ConvergeAdView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.appid = ""; //需要调转的APPID
        return _this;
    }
    ConvergeAdView.prototype.onAwake = function () {
        this.homeBtn = this.owner.getChildByName("btn_close");
        MyUtils_1.default.autoScreenSize([this.homeBtn]);
        this.shareBtn = this.owner.getChildByName("shareBtn");
        this.okBtn = this.owner.getChildByName("btn_again");
        this.adList = this.owner.getChildByName("list");
        this.adList.vScrollBarSkin = '';
        this.adList.selectEnable = true;
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdOther();
    };
    ConvergeAdView.prototype.onDisable = function () {
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
    };
    ConvergeAdView.prototype.addEvent = function () {
        this.adList.renderHandler = new Laya.Handler(this, this.onRender);
        this.adList.mouseHandler = new Laya.Handler(this, this.onClickItem);
        this.okBtn.on(Laya.Event.CLICK, this, this.onClickHome);
        this.homeBtn.on(Laya.Event.CLICK, this, this.onClickHome);
    };
    ConvergeAdView.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
        this.adList.renderHandler = null;
        this.adList.mouseHandler = null;
        this.okBtn.off(Laya.Event.CLICK, this, this.onClickHome);
        this.homeBtn.off(Laya.Event.CLICK, this, this.onClickHome);
    };
    ConvergeAdView.prototype.openView = function (data) {
        var _this = this;
        _super.prototype.openView.call(this, data);
        this.homeBtn.visible = false;
        var allll = [];
        if (this.adList.array == null) {
            allll = ConfigData_1.default.getADData(1004);
            this.adList.array = allll;
        }
        this.adList.refresh(); //刷新数据源
        this.adList.scrollTo(0); //第一个显示的 位置
        Laya.timer.once(1000, this, function () {
            if (_this && _this.homeBtn) {
                _this.homeBtn.visible = true;
            }
        });
    };
    ConvergeAdView.prototype.onClickHome = function () {
        this.closeView();
        EventMgr_1.default.instance.emit("goHome");
    };
    ConvergeAdView.prototype.okClick = function () {
        this.closeView();
        EventMgr_1.default.instance.emit("gameStart");
    };
    /**
    * 单个 box 点击事件
    */
    ConvergeAdView.prototype.onClickItem = function (e, index) {
        if (e.type == Laya.Event.CLICK) {
            if ((e.target) instanceof Laya.Box) {
                var obj = {
                    path: this.adList.array[index].toLinks,
                    appid: this.adList.array[index].appid,
                };
                if (PlatformMgr_1.default.ptAPI)
                    PlatformMgr_1.default.ptAPI.navigateToMiniProgram(obj);
            }
        }
    };
    ConvergeAdView.prototype.onRender = function (cell, index) {
        if (index > this.adList.array.length && this.adList.array.length == 0)
            return;
        if (this.adList.array[index] != null) {
            var img = cell.getChildByName("img");
            img.skin = this.adList.array[index].param;
        }
    };
    return ConvergeAdView;
}(BaseView_1.default));
exports.default = ConvergeAdView;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var BaseView_1 = require("./BaseView");
var GameFighting = /** @class */ (function (_super) {
    __extends(GameFighting, _super);
    function GameFighting() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    GameFighting.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.surpassOther = this.owner.getChildByName("surpassOther");
        this.provocationOther = this.owner.getChildByName("provocationOther");
        this.provocationOther.visible = false;
        this.surpassOther.visible = false;
        Laya.stage.addChildAt(this.owner, 1);
    };
    GameFighting.prototype.openProvocationOther = function (_type) {
        this.provocationOther.visible = true;
        this.owner.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.provocationOther);
        PlatformMgr_1.default.subDomain.openProvocationOther(_type);
    };
    GameFighting.prototype.closeProvocationOther = function () {
        this.provocationOther.visible = false;
        PlatformMgr_1.default.subDomain.closeProvocationOther();
    };
    GameFighting.prototype.openSurpassOther = function (_type) {
        this.surpassOther.visible = true;
        this.owner.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.surpassOther);
        PlatformMgr_1.default.subDomain.openSurpassOther({
            _type: _type,
            val: -1
        });
    };
    GameFighting.prototype.closeSurpassOther = function () {
        this.surpassOther.visible = false;
        PlatformMgr_1.default.subDomain.closeSurpassOther();
    };
    GameFighting.prototype.onDisable = function () {
    };
    return GameFighting;
}(BaseView_1.default));
exports.default = GameFighting;

},{"../mgrCommon/PlatformMgr":7,"./BaseView":21}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameOverView = /** @class */ (function (_super) {
    __extends(GameOverView, _super);
    function GameOverView() {
        return _super.call(this) || this;
    }
    return GameOverView;
}(Laya.Script));
exports.default = GameOverView;

},{}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var GoldenEggView = /** @class */ (function (_super) {
    __extends(GoldenEggView, _super);
    function GoldenEggView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.clickCount = 0;
        return _this;
    }
    GoldenEggView.prototype.onAwake = function () {
        var _this = this;
        this.clickCount = 0;
        this.progressNum = 0;
        Laya.timer.frameLoop(25, this, function () {
            if (_this != null && _this != undefined) {
                _this.progressNum -= 0.06;
                _this.updataProgress();
            }
        });
        var anchorS = this.owner.getChildByName("anchorS");
        var offsetY = 0;
        if (PlatformMgr_1.default.ptAPI)
            offsetY = PlatformMgr_1.default.ptAPI.getOffsetOpenDomain();
        anchorS.y = anchorS.y + offsetY;
        this.okBtn = anchorS.getChildByName("okBtn");
        this.closeBtn = this.owner.getChildByName("closeBtn");
        this.bar = this.owner.getChildByName("bar");
        this.hammerAnim = this.owner.getChildByName("img_hammer");
    };
    GoldenEggView.prototype.addEvent = function () {
        this.okBtn.on(Laya.Event.CLICK, this, this.btnClick);
        this.closeBtn.on(Laya.Event.CLICK, this, this.closeView);
    };
    GoldenEggView.prototype.openView = function (_d) {
        _super.prototype.openView.call(this, _d);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.loadBannerAdHome();
    };
    GoldenEggView.prototype.btnClick = function () {
        this.clickCount++;
        if (this.clickCount > 14) {
            //弹出框
            this.close();
            return;
        }
        this.progressNum += 0.1;
        if (this.progressNum >= 1) {
            this.close();
            return;
        }
        this.hammerAnim.play(0, false);
        this.updataProgress();
    };
    GoldenEggView.prototype.updataProgress = function () {
        if (this.progressNum >= 1) {
            this.progressNum = 1;
        }
        else if (this.progressNum <= 0.07) {
            this.progressNum = 0.07;
        }
        this.bar.height = 375 * this.progressNum;
    };
    GoldenEggView.prototype.close = function () {
        _super.prototype.closeView.call(this);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    return GoldenEggView;
}(BaseView_1.default));
exports.default = GoldenEggView;

},{"../mgrCommon/PlatformMgr":7,"./BaseView":21}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var ConfigData_1 = require("../models/ConfigData");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var SoundMgr_1 = require("../mgrCommon/SoundMgr");
var GameFighting_1 = require("./GameFighting");
var MainViewLandscape = /** @class */ (function (_super) {
    __extends(MainViewLandscape, _super);
    function MainViewLandscape() {
        return _super.call(this) || this;
    }
    MainViewLandscape.prototype.onAwake = function () {
        var _this = this;
        this.btnSound = this.owner.getChildByName("btnSound");
        this.soundOpen = this.btnSound.getChildByName("open");
        this.soundClose = this.btnSound.getChildByName("close");
        this.btnVirbort = this.owner.getChildByName("btnVirbort");
        this.virbortOpen = this.btnVirbort.getChildByName("open");
        this.virbortClose = this.btnVirbort.getChildByName("close");
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        this.btnInvite = this.owner.getChildByName("btnInvite");
        this.btnService = this.owner.getChildByName("btnService");
        this.btnRank = this.owner.getChildByName("btnRank");
        this.btnCollect = this.owner.getChildByName("btnCollect");
        this.btnStart = this.owner.getChildByName("btnStart");
        MyUtils_1.default.autoScreenSize([this.btnSound, this.btnVirbort]);
        Laya.Scene.load("GameFighting.scene", Laya.Handler.create(this, function (scene) {
            Laya.stage.addChild(scene);
            _this.gameFighting = scene;
            _this.gameFightingCom = scene.getComponent(GameFighting_1.default);
            scene.visible = false;
        }));
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    MainViewLandscape.prototype.addEvent = function () {
        this.btnSound.on(Laya.Event.CLICK, this, this.soundBtnClick);
        this.btnVirbort.on(Laya.Event.CLICK, this, this.virbortBtnClick);
        this.btnRank.on(Laya.Event.CLICK, this, this.rankClick);
        this.btnService.on(Laya.Event.CLICK, this, this.serviceClick);
        this.btnInvite.on(Laya.Event.CLICK, this, this.inviteClick);
        this.btnCollect.on(Laya.Event.CLICK, this, this.collectClick);
        this.btnStart.on(Laya.Event.CLICK, this, this.startClick);
    };
    MainViewLandscape.prototype.collectClick = function () {
        // this.gameFightingCom.openProvocationOther(SORTTYPE.ENDLESS);
        ViewMgr_1.default.instance.openView({
            viewName: "Resurgence.scene",
        });
        return;
        ViewMgr_1.default.instance.openView({
            viewName: "Collect.scene",
            closeAll: true,
        });
    };
    MainViewLandscape.prototype.virbortBtnClick = function () {
        ConfigData_1.default.isVirbort = !ConfigData_1.default.isVirbort;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        ConfigData_1.default.setVirbort(ConfigData_1.default.isVirbort ? "" : "1");
    };
    MainViewLandscape.prototype.soundBtnClick = function () {
        ConfigData_1.default.isSound = !ConfigData_1.default.isSound;
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        if (ConfigData_1.default.isSound) {
            ConfigData_1.default.setSound("1");
            SoundMgr_1.default.instance.playBGM();
        }
        else {
            ConfigData_1.default.setSound("");
            SoundMgr_1.default.instance.stopBGM();
        }
    };
    MainViewLandscape.prototype.inviteClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        var _d = {
            caller: this,
            callback: function (res) {
                if (!res.success) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "uiViews/TipView.scene",
                        closeAll: false,
                        data: "分享失败",
                    });
                }
            },
        };
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.shareAppMessage(_d, 1);
    };
    MainViewLandscape.prototype.serviceClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.openCustomerServiceConversation();
    };
    MainViewLandscape.prototype.rankClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        ViewMgr_1.default.instance.openView({
            viewName: "Rank.scene",
            closeAll: false,
        });
    };
    MainViewLandscape.prototype.startClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.destoryAuthorization();
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        EventMgr_1.default.instance.emit("gameStart");
        ViewMgr_1.default.instance.openView({
            viewName: "GameFighting.scene",
            closeAll: true,
        });
    };
    MainViewLandscape.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
    };
    return MainViewLandscape;
}(BaseView_1.default));
exports.default = MainViewLandscape;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../mgrCommon/SoundMgr":8,"../mgrCommon/ViewMgr":11,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21,"./GameFighting":24}],28:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var ConfigData_1 = require("../models/ConfigData");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var SoundMgr_1 = require("../mgrCommon/SoundMgr");
var MainViewVertical = /** @class */ (function (_super) {
    __extends(MainViewVertical, _super);
    function MainViewVertical() {
        return _super.call(this) || this;
    }
    MainViewVertical.prototype.onAwake = function () {
        this.btnSound = this.owner.getChildByName("btnSound");
        this.soundOpen = this.btnSound.getChildByName("open");
        this.soundClose = this.btnSound.getChildByName("close");
        this.btnVirbort = this.owner.getChildByName("btnVirbort");
        this.virbortOpen = this.btnVirbort.getChildByName("open");
        this.virbortClose = this.btnVirbort.getChildByName("close");
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        this.btnInvite = this.owner.getChildByName("btnInvite");
        this.btnService = this.owner.getChildByName("btnService");
        this.btnRank = this.owner.getChildByName("btnRank");
        this.btnStart = this.owner.getChildByName("btnStart");
        MyUtils_1.default.autoScreenSize([this.btnSound, this.btnVirbort]);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    MainViewVertical.prototype.addEvent = function () {
        this.btnSound.on(Laya.Event.CLICK, this, this.soundBtnClick);
        this.btnVirbort.on(Laya.Event.CLICK, this, this.virbortBtnClick);
        this.btnInvite.on(Laya.Event.CLICK, this, this.inviteClick);
        this.btnService.on(Laya.Event.CLICK, this, this.serviceClick);
        this.btnRank.on(Laya.Event.CLICK, this, this.rankClick);
        this.btnStart.on(Laya.Event.CLICK, this, this.startClick);
    };
    MainViewVertical.prototype.virbortBtnClick = function () {
        ConfigData_1.default.isVirbort = !ConfigData_1.default.isVirbort;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        ConfigData_1.default.setVirbort(ConfigData_1.default.isVirbort ? "" : "1");
    };
    MainViewVertical.prototype.soundBtnClick = function () {
        ConfigData_1.default.isSound = !ConfigData_1.default.isSound;
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        if (ConfigData_1.default.isSound) {
            ConfigData_1.default.setSound("1");
            SoundMgr_1.default.instance.playBGM();
        }
        else {
            ConfigData_1.default.setSound("");
            SoundMgr_1.default.instance.stopBGM();
        }
    };
    MainViewVertical.prototype.inviteClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        var _d = {
            caller: this,
            callback: function (res) {
                if (!res.success) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "uiViews/TipView.scene",
                        closeAll: false,
                        data: "分享失败",
                    });
                }
            },
        };
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.shareAppMessage(_d, 1);
    };
    MainViewVertical.prototype.serviceClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.openCustomerServiceConversation();
    };
    MainViewVertical.prototype.rankClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        ViewMgr_1.default.instance.openView({
            viewName: "Rank.scene",
            closeAll: false,
        });
    };
    MainViewVertical.prototype.startClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.destoryAuthorization();
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        EventMgr_1.default.instance.emit("gameStart");
    };
    MainViewVertical.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
    };
    return MainViewVertical;
}(BaseView_1.default));
exports.default = MainViewVertical;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../mgrCommon/SoundMgr":8,"../mgrCommon/ViewMgr":11,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21}],29:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var ConfigData_1 = require("../models/ConfigData");
var BaseView_1 = require("./BaseView");
var Resurgence = /** @class */ (function (_super) {
    __extends(Resurgence, _super);
    function Resurgence() {
        return _super.call(this) || this;
    }
    Resurgence.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.goingSurpassOther = this.owner.getChildByName("goingSurpassOther");
        this.goingSurpassOther.visible = false;
    };
    Resurgence.prototype.openView = function (data) {
        _super.prototype.openView.call(this, data);
        this.openGoingSurpassOther(ConfigData_1.SORTTYPE.ENDLESS);
    };
    Resurgence.prototype.openGoingSurpassOther = function (_type) {
        this.owner.visible = true;
        this.goingSurpassOther.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.goingSurpassOther);
        PlatformMgr_1.default.subDomain.openGoingSurpassOther(_type);
    };
    Resurgence.prototype.closeGoingSurpassOther = function () {
        PlatformMgr_1.default.subDomain.closeGoingSurpassOther();
    };
    Resurgence.prototype.onDisable = function () {
    };
    return Resurgence;
}(BaseView_1.default));
exports.default = Resurgence;

},{"../mgrCommon/PlatformMgr":7,"../models/ConfigData":12,"./BaseView":21}],30:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var TipView = /** @class */ (function (_super) {
    __extends(TipView, _super);
    function TipView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TipView.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.tipLbl = this.owner.getChildByName("image").getChildByName("Label");
    };
    TipView.prototype.addEvent = function () {
        var _this = this;
        this.owner.on(Laya.Event.CLICK, this, function () {
            _this.closeView();
        });
    };
    TipView.prototype.openView = function (str) {
        var _this = this;
        _super.prototype.openView.call(this, str);
        this.tipLbl.text = str;
        Laya.timer.once(2000, this, function () {
            _this.closeView();
        });
    };
    return TipView;
}(BaseView_1.default));
exports.default = TipView;

},{"./BaseView":21}],31:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../../tools/MyUtils");
var RankItem = /** @class */ (function (_super) {
    __extends(RankItem, _super);
    function RankItem() {
        return _super.call(this) || this;
    }
    RankItem.prototype.onAwake = function () {
        this.bgImg = this.owner.getChildByName("imgBg");
        this.rankImg = this.owner.getChildByName("rankImg");
        this.rankLab = this.owner.getChildByName("rankLab");
        this.avatarImg = this.owner.getChildByName("avatarImg");
        this.nameLab = this.owner.getChildByName("nameLab");
        this.scoreLab = this.owner.getChildByName("scoreLab");
    };
    RankItem.prototype.updateItem = function (itemData) {
        this.owner.active = true;
        this.rankImg.visible = false;
        this.rankLab.text = itemData.index || "未上榜";
        switch (itemData.index) {
            case 1:
            case 2:
            case 3:
                this.rankLab.text = "";
                this.rankImg.skin = "rank/" + itemData.index + ".png";
                this.rankImg.visible = true;
                break;
        }
        if (!MyUtils_1.default.isNull(itemData.headImage) && itemData.headImage != "youke") {
            var avatarUrl = itemData.headImage.replace("/132", "/46");
            this.avatarImg.skin = avatarUrl;
        }
        this.nameLab.text = itemData.nickname ? itemData.nickname : "神秘玩家";
        this.scoreLab.text = itemData.score;
    };
    RankItem.prototype.clean = function () {
        this.owner.active = false;
    };
    return RankItem;
}(Laya.Script));
exports.default = RankItem;

},{"../../tools/MyUtils":20}],32:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("../BaseView");
var PlatformMgr_1 = require("../../mgrCommon/PlatformMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var RankItem_1 = require("./RankItem");
var UserData_1 = require("../../models/UserData");
var RankView = /** @class */ (function (_super) {
    __extends(RankView, _super);
    function RankView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RankView.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.closeBtn = this.owner.getChildByName("btnClose");
        this.wxOpenDataView = this.owner.getChildByName("wxOpenDataView");
        var node = this.owner.getChildByName("content");
        this.friendBtn = node.getChildByName("friendBtn");
        this.worldBtn = node.getChildByName("worldBtn");
        this.selectFriendRank = node.getChildByName("selectFriendRank");
        this.normalFriendRank = node.getChildByName("normalFriendRank");
        this.selectWorldRank = node.getChildByName("selectWorldRank");
        this.normalWorldRank = node.getChildByName("normalWorldRank");
        var offset = { y: 0 };
        if (PlatformMgr_1.default.ptAPI)
            offset = PlatformMgr_1.default.ptAPI.getOffsetOpenDomain();
        this.wxOpenDataView.y = this.wxOpenDataView.y + offset.y / 2;
        PlatformMgr_1.default.subDomain.setOpenView(this.wxOpenDataView);
        this.worldRankList = node.getChildByName("worldRankList");
        this.worldRankList.array = [];
        this.worldRankList.renderHandler = new Laya.Handler(this, this.onRender);
        this.worldRankList.vScrollBarSkin = "";
        this.selfRankSprite = node.getChildByName("selfRankItem");
        this.selfRankITem = this.selfRankSprite.getComponent(RankItem_1.default);
        MyUtils_1.default.autoScreenSize([this.closeBtn]);
    };
    RankView.prototype.setMyRankInfo = function () {
        this.selfRankITem.updateItem(this.selfRankData);
    };
    RankView.prototype.onRender = function (cell, index) {
        var item = cell.getComponent(RankItem_1.default);
        item.updateItem(cell.dataSource);
    };
    RankView.prototype.addEvent = function () {
        this.closeBtn.on(Laya.Event.CLICK, this, this.closeView);
        this.worldBtn.on(Laya.Event.CLICK, this, this.worldRankClick);
        this.friendBtn.on(Laya.Event.CLICK, this, this.friendRankClick);
    };
    RankView.prototype.getWorldData = function () {
        var _this = this;
        HttpMgr_1.default.instance.getWorldRank({
            success: function (res) {
                _this.worldData = res.rank;
                _this.selfRankData = {
                    index: res.myIndex,
                    nickname: UserData_1.default.nickName,
                    headImage: UserData_1.default.avatarUrl,
                    score: UserData_1.default.score || 0
                };
                if (res.myIndex && res.myIndex <= _this.worldData.length) {
                    _this.selfRankData = _this.worldData[res.myIndex];
                }
                _this.setWorldRankDta();
            }
        });
    };
    RankView.prototype.setWorldRankDta = function () {
        this.setMyRankInfo();
        this.worldRankList.array = this.worldData;
        this.worldRankList.refresh();
    };
    RankView.prototype.worldRankClick = function () {
        // if (this.worldRankList.active)
        //     return;
        this.wxOpenDataView.visible = false;
        this.selectFriendRank.visible = false;
        this.normalFriendRank.visible = true;
        this.selectWorldRank.visible = true;
        this.normalWorldRank.visible = false;
        this.worldRankList.visible = true;
        this.selfRankSprite.visible = true;
        PlatformMgr_1.default.subDomain.closeFriendRank();
        if (this.worldData) {
            this.setWorldRankDta();
        }
        else {
            this.getWorldData();
        }
    };
    RankView.prototype.friendRankClick = function () {
        // if (!Laya.Browser.onMiniGame || this.wxOpenDataView.active)
        //     return;
        this.wxOpenDataView.visible = true;
        this.selectFriendRank.visible = true;
        this.normalFriendRank.visible = false;
        this.selectWorldRank.visible = false;
        this.normalWorldRank.visible = true;
        this.worldRankList.visible = false;
        this.selfRankSprite.visible = false;
        //打开子域排行榜 TODO
        PlatformMgr_1.default.subDomain.openFriendRank();
    };
    RankView.prototype.removeEvent = function () {
        this.closeBtn.off(Laya.Event.CLICK, this, this.closeView);
        this.worldBtn.off(Laya.Event.CLICK, this, this.worldRankClick);
        this.friendBtn.off(Laya.Event.CLICK, this, this.friendRankClick);
        _super.prototype.removeEvent.call(this);
    };
    RankView.prototype.openView = function () {
        _super.prototype.openView.call(this);
        this.worldRankClick();
    };
    RankView.prototype.closeView = function () {
        this.worldData = null;
        _super.prototype.closeView.call(this);
    };
    return RankView;
}(BaseView_1.default));
exports.default = RankView;

},{"../../mgrCommon/HttpMgr":6,"../../mgrCommon/PlatformMgr":7,"../../models/UserData":13,"../../tools/MyUtils":20,"../BaseView":21,"./RankItem":31}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvbXQvMXNxYnJxeTExX3M2bV9fZ3lqeDJfeWwwMDAwMGdwL1QvQXBwVHJhbnNsb2NhdGlvbi9DOTE2MTExNi04MzEyLTQ1MjgtQkQwRi01NDJFOEZBRjBCNjEvZC9MYXlhQWlySURFLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9Mb2dpbi50cyIsInNyYy9zY3JpcHQvTXlJbml0LnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vRXZlbnRNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9IdHRwTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vUGxhdGZvcm1NZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9Tb3VuZE1nci50cyIsInNyYy9zY3JpcHQvbWdyQ29tbW9uL1N0YXRpc3RpY3NNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9TdG9yYWdlTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vVmlld01nci50cyIsInNyYy9zY3JpcHQvbW9kZWxzL0NvbmZpZ0RhdGEudHMiLCJzcmMvc2NyaXB0L21vZGVscy9Vc2VyRGF0YS50cyIsInNyYy9zY3JpcHQvcGxhdGZvcm0vd3gvV1hBRE1nci50cyIsInNyYy9zY3JpcHQvcGxhdGZvcm0vd3gvV1hBUEkudHMiLCJzcmMvc2NyaXB0L3BsYXRmb3JtL3d4L1dYTGF1bmNoLnRzIiwic3JjL3NjcmlwdC9wbGF0Zm9ybS93eC9XWFN1YkRvbWFpbi50cyIsInNyYy9zY3JpcHQvdG9vbHMvSHR0cFV0aWxzLnRzIiwic3JjL3NjcmlwdC90b29scy9NeUxvZy50cyIsInNyYy9zY3JpcHQvdG9vbHMvTXlVdGlscy50cyIsInNyYy9zY3JpcHQvdmlld3MvQmFzZVZpZXcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0J1dHRvbkFuaW0udHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0NvbnZlcmdlQWRWaWV3LnRzIiwic3JjL3NjcmlwdC92aWV3cy9HYW1lRmlnaHRpbmcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0dhbWVPdmVyVmlldy50cyIsInNyYy9zY3JpcHQvdmlld3MvR29sZGVuRWdnVmlldy50cyIsInNyYy9zY3JpcHQvdmlld3MvTWFpblZpZXdMYW5kc2NhcGUudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL01haW5WaWV3VmVydGljYWwudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL1Jlc3VyZ2VuY2UudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL1RpcFZpZXcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL3JhbmsvUmFua0l0ZW0udHMiLCJzcmMvc2NyaXB0L3ZpZXdzL3JhbmsvV1hSYW5rVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsd0RBQWtEO0FBQ2xELGdFQUEwRDtBQUMxRCw0REFBc0Q7QUFDdEQsNERBQXNEO0FBQ3RELDhEQUF3RDtBQUN4RCwwREFBb0Q7QUFDcEQsc0VBQWdFO0FBQ2hFLG9FQUE4RDtBQUM5RCx5REFBbUQ7QUFDbkQsNkRBQXVEO0FBQ3ZELHdEQUFrRDtBQUNsRCxrREFBNEM7QUFDNUM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBQyxvQkFBVSxDQUFDLENBQUM7UUFDN0MsR0FBRyxDQUFDLGdDQUFnQyxFQUFDLHdCQUFjLENBQUMsQ0FBQztRQUNyRCxHQUFHLENBQUMsOEJBQThCLEVBQUMsc0JBQVksQ0FBQyxDQUFDO1FBQ2pELEdBQUcsQ0FBQyw4QkFBOEIsRUFBQyxzQkFBWSxD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LGNBQWMsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFTSw4QkFBVyxHQUFsQjtRQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pFLGlCQUFNLFdBQVcsV0FBRSxDQUFDO0lBQ3hCLENBQUM7SUFDTSwyQkFBUSxHQUFmO1FBQ0ksaUJBQU0sUUFBUSxXQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFTSw0QkFBUyxHQUFoQjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLGlCQUFNLFNBQVMsV0FBRSxDQUFDO0lBQ3RCLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0E5SUEsQUE4SUMsQ0E5SXFDLGtCQUFRLEdBOEk3QyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEJ1dHRvbkFuaW0gZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL0J1dHRvbkFuaW1cIlxuaW1wb3J0IENvbnZlcmdlQWRWaWV3IGZyb20gXCIuL3NjcmlwdC92aWV3cy9Db252ZXJnZUFkVmlld1wiXG5pbXBvcnQgR2FtZUZpZ2h0aW5nIGZyb20gXCIuL3NjcmlwdC92aWV3cy9HYW1lRmlnaHRpbmdcIlxuaW1wb3J0IEdhbWVPdmVyVmlldyBmcm9tIFwiLi9zY3JpcHQvdmlld3MvR2FtZU92ZXJWaWV3XCJcbmltcG9ydCBHb2xkZW5FZ2dWaWV3IGZyb20gXCIuL3NjcmlwdC92aWV3cy9Hb2xkZW5FZ2dWaWV3XCJcbmltcG9ydCBXWExhdW5jaCBmcm9tIFwiLi9zY3JpcHQvcGxhdGZvcm0vd3gvV1hMYXVuY2hcIlxuaW1wb3J0IE1haW5WaWV3TGFuZHNjYXBlIGZyb20gXCIuL3NjcmlwdC92aWV3cy9NYWluVmlld0xhbmRzY2FwZVwiXG5pbXBvcnQgTWFpblZpZXdWZXJ0aWNhbCBmcm9tIFwiLi9zY3JpcHQvdmlld3MvTWFpblZpZXdWZXJ0aWNhbFwiXG5pbXBvcnQgUmFua0l0ZW0gZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL3JhbmsvUmFua0l0ZW1cIlxuaW1wb3J0IFdYUmFua1ZpZXcgZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL3JhbmsvV1hSYW5rVmlld1wiXG5pbXBvcnQgUmVzdXJnZW5jZSBmcm9tIFwiLi9zY3JpcHQvdmlld3MvUmVzdXJnZW5jZVwiXG5pbXBvcnQgVGlwVmlldyBmcm9tIFwiLi9zY3JpcHQvdmlld3MvVGlwVmlld1wiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj03NTA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMzM0O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJ2ZXJ0aWNhbFwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJtaWRkbGVcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwiY2VudGVyXCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJMYXVuY2guc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9CdXR0b25BbmltLnRzXCIsQnV0dG9uQW5pbSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9Db252ZXJnZUFkVmlldy50c1wiLENvbnZlcmdlQWRWaWV3KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL0dhbWVGaWdodGluZy50c1wiLEdhbWVGaWdodGluZyk7XG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9HYW1lT3ZlclZpZXcudHNcIixHYW1lT3ZlclZpZXcpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvR29sZGVuRWdnVmlldy50c1wiLEdvbGRlbkVnZ1ZpZXcpO1xuICAgICAgICByZWcoXCJzY3JpcHQvcGxhdGZvcm0vd3gvV1hMYXVuY2gudHNcIixXWExhdW5jaCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9NYWluVmlld0xhbmRzY2FwZS50c1wiLE1haW5WaWV3TGFuZHNjYXBlKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL01haW5WaWV3VmVydGljYWwudHNcIixNYWluVmlld1ZlcnRpY2FsKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL3JhbmsvUmFua0l0ZW0udHNcIixSYW5rSXRlbSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9yYW5rL1dYUmFua1ZpZXcudHNcIixXWFJhbmtWaWV3KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL1Jlc3VyZ2VuY2UudHNcIixSZXN1cmdlbmNlKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL1RpcFZpZXcudHNcIixUaXBWaWV3KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBNeUluaXQgZnJvbSBcIi4vc2NyaXB0L015SW5pdFwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHJcblx0XHRMYXlhLmlzV1hQb3NNc2cgPSB0cnVlO1xyXG5cdFx0TGF5YS5pc1dYT3BlbkRhdGFDb250ZXh0ID0gZmFsc2U7XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cdFx0XHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblx0XHQvLyB3aW5kb3dbXCJkZXNcIl0oKTtcclxuXHRcdE15SW5pdC5pbml0KCk7XHJcblxyXG5cdFx0Ly8gZGVzXHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdC8vIExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0XHR0aGlzLm9uVmVyc2lvbkxvYWRlZCgpO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRsZXQgcmVzOiBBcnJheTxhbnk+ID0gW1xyXG5cdFx0XHR7IHVybDogXCJsb2FkaW5nL2xvYWRpbmcuYXRsYXNcIiwgdHlwZTogTGF5YS5Mb2FkZXIuQVRMQVMgfSxcclxuXHRcdF07XHJcblx0XHQvL3N0YXJ0U2NlbmUg5bqU6K+l6K6+572u5Li6bGF1bmNo6aG16Z2iXHJcblx0XHRMYXlhLmxvYWRlci5sb2FkKHJlcywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcblx0XHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHRcdH0pKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBIdHRwTWdyIGZyb20gXCIuL21nckNvbW1vbi9IdHRwTWdyXCI7XG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi9tZ3JDb21tb24vU3RvcmFnZU1nclwiO1xuaW1wb3J0IFN0YXRpc3RpY3NNZ3IgZnJvbSBcIi4vbWdyQ29tbW9uL1N0YXRpc3RpY3NNZ3JcIjtcbmltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi9tb2RlbHMvVXNlckRhdGFcIjtcbmltcG9ydCBFdmVudE1nciBmcm9tIFwiLi9tZ3JDb21tb24vRXZlbnRNZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW4gZXh0ZW5kcyBMYXlhLlNjcmlwdHtcblx0bG9naW4oKSB7XG5cdFx0SHR0cE1nci5pbnN0YW5jZS5nZXRTeXN0ZW1Db25maWcoKTtcblx0XHRIdHRwTWdyLmluc3RhbmNlLmdldFJlbW90ZUpzb24oKHJlcyk9Pntcblx0XHRcdENvbmZpZ0RhdGEuaW5pdENvbmZpZ0RhdGEocmVzLHRydWUpO1xuXHRcdH0pO1xuXHRcdHRoaXMubG9naW5GdW4oKTtcblx0fVxuXHRcblxuXHRsb2dpbkZ1bigpIHtcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0aWYgKENvbmZpZ0RhdGEucmVsZWFzZVBsYXRmb3JtKSB7XG5cdFx0XHRQbGF0Zm9ybU1nci5wdEFQSS5kb0xvZ2luKHtcblx0XHRcdFx0c3VjY2Vzczp0aGlzLmxvZ2luU3VjY2Vzcyxcblx0XHRcdFx0ZmFpbDp0aGlzLmxvZ2luRnVuXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIF9kOiBhbnkgPSB7fVxuXHRcdFx0X2QuY29kZSA9IFwiMTIzXCI7XG5cdFx0XHRfZC5pbnZpdGVJZCA9ICcnO1xuXHRcdFx0X2QuY2hhbm5lbElkID0gXCJcIjtcblx0XHRcdF9kLnN1Y2Nlc3MgPSB0aGlzLmxvZ2luU3VjY2Vzcztcblx0XHRcdEh0dHBNZ3IuaW5zdGFuY2UubG9naW4oX2QpXG5cdFx0fVxuXHR9XG5cblx0bG9naW5TdWNjZXNzKGRhdGEpIHtcblx0XHRpZiAoZGF0YSkge1xuXHRcdFx0VXNlckRhdGEuaXNMb2dpbiA9IHRydWU7XG5cdFx0XHRVc2VyRGF0YS51c2VySWQgPSBkYXRhLnVzZXJJZDtcblx0XHRcdFVzZXJEYXRhLm5pY2tOYW1lID0gZGF0YS5uaWtlbmFtZTtcblx0XHRcdFVzZXJEYXRhLmF2YXRhclVybCA9IGRhdGEuaGVhZEltYWdlO1xuXHRcdFx0VXNlckRhdGEuZGlhbW9uZCA9IGRhdGEudXNlck1vbmV5IHx8IDA7XG5cdFx0XHRVc2VyRGF0YS5jaGFubmVsSWQgPSBkYXRhLmNoYW5uZWxJZDtcblx0XHRcdFVzZXJEYXRhLmxldmVsID0gZGF0YS5sZXZlbCB8fCAwO1xuXHRcdFx0VXNlckRhdGEuc2NvcmUgPSBkYXRhLnNjb3JlIHx8IDA7XG5cdFx0XHRVc2VyRGF0YS5vcGVuSWQgPSBkYXRhLm9wZW5pZDtcblx0XHRcdFVzZXJEYXRhLmlzTmV3ID0gZGF0YS5pc05ld1VzZXI7XG5cdFx0XHRVc2VyRGF0YS5leHAgPSBkYXRhLm5vd0V4cCB8fCAwO1xuXHRcdFx0Ly/nvJPlrZjnlKjmiLfkv6Hmga/liLDmnKzlnLBcblx0XHRcdFN0b3JhZ2VNZ3Iuc2F2ZVVzZXJEYXRhKCk7XG5cdFx0XHRpZihQbGF0Zm9ybU1nci5wdEFQSSl7XG5cdFx0XHRcdC8v5LiK5Lyg5o6S6KGM5pWw5o2uXG5cdFx0XHRcdFBsYXRmb3JtTWdyLnB0QVBJLnVwbG9hZFJhbmtEYXRlKHtcblx0XHRcdFx0XHRsZXZlbDogZGF0YS5sZXZlbCB8fCAwLFxuXHRcdFx0XHRcdHNjb3JlOiBkYXRhLnNjb3JlIHx8IDAsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly/kuIrkvKDnu5/orqFcblx0XHRcdFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2UubG9naW5TdGF0aXN0aWNzUG9zdCgpO1xuXHRcdH1cblx0XHQvLyBFdmVudE1nci5pbnN0YW5jZS5lbWl0KFwibG9naW5TdWNjZXNzXCIpO1xuXHR9XG5cbn1cblxuIiwiaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xyXG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi9tZ3JDb21tb24vU3RvcmFnZU1nclwiO1xyXG5pbXBvcnQgV1hBZE1nciBmcm9tIFwiLi9wbGF0Zm9ybS93eC9XWEFETWdyXCI7XHJcbmltcG9ydCBMb2dpbiBmcm9tIFwiLi9Mb2dpblwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi9tZ3JDb21tb24vVmlld01nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlJbml0IHtcclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pbml0TG9jYWwoKTtcclxuICAgICAgICBTdG9yYWdlTWdyLmdldExvY2FsVXNlckRhdGEoKTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5pbml0UGxhdGZvcm0oKTtcclxuICAgICAgICBWaWV3TWdyLmluc3RhbmNlLmluaXQoKTtcclxuICAgICAgICBcclxuICAgICAgICBuZXcgTG9naW4oKS5sb2dpbigpO1xyXG4gICAgfVxyXG59IiwiLy/lhajlsYDkuovku7ZcbmltcG9ydCBFdmVudERpc3BhdGNoZXIgPSBsYXlhLmV2ZW50cy5FdmVudERpc3BhdGNoZXI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudE1nciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gICAgc3RhdGljIGV2ZW50RGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IEV2ZW50TWdyID0gbmV3IEV2ZW50TWdyKCk7O1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIC8v5rS+5Y+R5LqL5Lu2XG4gICAgcHVibGljIGVtaXQoSW5OYW1lLCBhZ3Y/OiBhbnkpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLmtL7lj5Hkuovku7ZcIiArIEluTmFtZSxhZ3YpO1xuICAgICAgICBFdmVudE1nci5ldmVudERpc3BhdGNoZXIuZXZlbnQoSW5OYW1lLCBhZ3YpO1xuICAgIH1cbiAgICAvL+S+puWQrOS6i+S7tlxuICAgIHB1YmxpYyBvbkV2ZW50KEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcjogRnVuY3Rpb24sIGFyZz86IGFueVtdKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5L6m5ZCs5LqL5Lu2XCIsSW5OYW1lKTtcbiAgICAgICAgRXZlbnRNZ3IuZXZlbnREaXNwYXRjaGVyLm9uKEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lciwgKGFyZyA9PSBudWxsKSA/IG51bGwgOiAoW2FyZ10pKTtcbiAgICB9XG5cbiAgICAvL+S+puWQrOS6i+S7tlxuICAgIHB1YmxpYyBvbk9uY2VFdmVudChJbk5hbWUsIGNhbGxlciwgbGlzdGVuZXI6IEZ1bmN0aW9uLCBhcmc/OiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuS+puWQrOS6i+S7tlwiLEluTmFtZSk7XG4gICAgICAgIEV2ZW50TWdyLmV2ZW50RGlzcGF0Y2hlci5vbmNlKEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lciwgKGFyZyA9PSBudWxsKSA/IG51bGwgOiAoW2FyZ10pKTtcbiAgICB9XG5cbiAgICAvL+enu+mZpOS6i+S7tlxuICAgIHB1YmxpYyBvbk9mZkV2ZW50KEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcjogRnVuY3Rpb24sIGFyZz86IGFueVtdKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5YWz6Zet5LqL5Lu2XCIsSW5OYW1lKTtcbiAgICAgICAgRXZlbnRNZ3IuZXZlbnREaXNwYXRjaGVyLm9mZihJbk5hbWUsIGNhbGxlciwgbGlzdGVuZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi9TdG9yYWdlTWdyXCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgSHR0cFV0aWxzIGZyb20gXCIuLi90b29scy9IdHRwVXRpbHNcIjtcclxuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9tb2RlbHMvVXNlckRhdGFcIjtcclxuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuL0V2ZW50TWdyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdHRwTWdyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IEh0dHBNZ3IgPSBuZXcgSHR0cE1ncigpO1xyXG4gICAgcHJpdmF0ZSBfaHR0cDpIdHRwVXRpbHMgPSBuZXcgSHR0cFV0aWxzKCk7XHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG4gICAgLy/nmbvpmYZcclxuICAgIHB1YmxpYyBsb2dpbihfZDphbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICB1cmw6ICd1c2VyTG9naW4uYWN0aW9uJywgZGF0YTogX2QsIGNhbGxiYWNrOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLnNlc3Npb25JZCA9IHJlcy5zZXNzaW9uSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1nci5zYXZlU2Vzc2lvbihVc2VyRGF0YS5zZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKF9kLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5zdWNjZXNzKHJlcylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXNzaW9uSWQg6L+H5pyfXHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1nci5zYXZlU2Vzc2lvbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5zZXNzaW9uSWQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKF9kLmZhaWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5mYWlsKHJlcylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy/mi7/nur/kuIrmuLjmiI/nmoRqc29u6YWN5Yi2XHJcblx0Z2V0UmVtb3RlSnNvbihfY2FsbGJhY2spIHtcclxuXHRcdHRoaXMuX2h0dHAuZ2V0UmVtb3RlSnNvbihfY2FsbGJhY2spO1xyXG5cdH1cclxuXHJcbiAgICAvL+W8gOWFs+mFjeWItlxyXG4gICAgcHVibGljIGdldFN5c3RlbUNvbmZpZygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3Qoe1xyXG5cdFx0XHR1cmw6ICdnZXRTeXN0ZW1QYXJhbUxpc3QuYWN0aW9uJywgZGF0YTogeyBub3dWZXJzaW9uOiBDb25maWdEYXRhLnZlcnNpb24gfSwgY2FsbGJhY2s6IChyZXMpID0+IHtcclxuXHRcdFx0XHRpZiAocmVzLmNvZGUgPT0gMCkge1xyXG5cdFx0XHRcdFx0Q29uZmlnRGF0YS5jdHJsSW5mbyA9IHtcclxuXHRcdFx0XHRcdFx0aXNDb252ZXJnZTogcmVzLmlzQ29udmVyZ2UsIC8v6IGa5ZCI5byA5YWzXHJcblx0XHRcdFx0XHRcdGlzU2hhcmU6IHJlcy5pc1NoYXJlLFxyXG5cdFx0XHRcdFx0XHRpc1ZpZGVvOiByZXMuaXNWaWRlbyxcclxuXHRcdFx0XHRcdFx0aXNXdWRpYW46cmVzLmlzV3VkaWFuLCAvL+ivr+eCueW8gOWFs1xyXG5cdFx0XHRcdFx0XHRzaGFyZUluZm86IHJlcy5zaGFyZUluZm8sXHJcblx0XHRcdFx0XHRcdGlzQmFubmVyOnJlcy5pc19iYW5uZXIsLy9iYW5uZXLlub/lkYrmjqfliLZcclxuXHRcdFx0XHRcdFx0YWRJbmZvOiByZXMuYWRJbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihyZXMuaXNfYmFubmVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnRGF0YS5tYWluQWRNeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cdFx0XHRcdH1cclxuICAgICAgICAgICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJnZXRTeXN0ZW1QYXJhbUxpc3RCYWNrXCIpO1xyXG5cdFx0XHR9LGZhaWw6KHJlcyk9PntcclxuICAgICAgICAgICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJnZXRTeXN0ZW1QYXJhbUxpc3RCYWNrXCIpO1xyXG4gICAgICAgICAgICB9XHJcblx0XHR9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlVXNlckluZm8oKXtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICB1cmw6ICd1cGRhdGVVc2VySW5mby5hY3Rpb24nLCBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTpVc2VyRGF0YS5uaWNrTmFtZSxcclxuICAgICAgICAgICAgICAgIGhlYWRpbWd1cmw6VXNlckRhdGEuYXZhdGFyVXJsLFxyXG4gICAgICAgICAgICAgICAgc2V4OlVzZXJEYXRhLmdlbmRlcixcclxuICAgICAgICAgICAgfX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aXN0aWNzUG9zdChfZCl7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0U3RhdGlzdGljcyhfZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpZGVvRXJyb3JDYWxsYmFjaygpe1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ3ZpZGVvQ2FsbGJhY2suYWN0aW9uJywgY2FsbGJhY2s6IChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5jb2RlID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLmFkQ291bnQgPSByZXMuYWRDb3VudDsgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXb3JsZFJhbmsoX2Qpe1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ2dldFdvcmxkUmFuay5hY3Rpb24nLGRhdGE6IHsgcGFnZTogMSwgdHlwZTogMSB9LCBjYWxsYmFjazogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzLmNvZGUgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX2Quc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLnN1Y2Nlc3MocmVzKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9fSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IFdYQVBJIGZyb20gXCIuLi9wbGF0Zm9ybS93eC9XWEFQSVwiO1xyXG5pbXBvcnQgRkJBUEkgZnJvbSBcIi4uL3BsYXRmb3JtL2ZiL0ZCQVBJXCI7XHJcbmltcG9ydCBXWEFkTWdyIGZyb20gXCIuLi9wbGF0Zm9ybS93eC9XWEFETWdyXCI7XHJcbmltcG9ydCBXWFN1YkRvbWFpbiBmcm9tIFwiLi4vcGxhdGZvcm0vd3gvV1hTdWJEb21haW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXRmb3JtTWdyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZTogUGxhdGZvcm1NZ3IgPSBuZXcgUGxhdGZvcm1NZ3IoKTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcHRBUEk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHB0QWRNZ3I7XHJcbiAgICBwdWJsaWMgc3RhdGljIHN1YkRvbWFpbjtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXRQbGF0Zm9ybSgpe1xyXG4gICAgICAgIHN3aXRjaChDb25maWdEYXRhLnJlbGVhc2VQbGF0Zm9ybSl7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3eFwiOlxyXG4gICAgICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkgPSBuZXcgV1hBUEkoKTtcclxuICAgICAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3IgPSBuZXcgV1hBZE1ncjtcclxuICAgICAgICAgICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbiA9IG5ldyBXWFN1YkRvbWFpbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmYlwiOlxyXG4gICAgICAgICAgICAgICAgLy9uZXcgZmLnmoTnrqHnkIbnsbtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMucHRBUEkgPSBuZXcgRkJBUEkoKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMucHRBZE1nciA9IG5ldyBGQkFkTWdyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdW5kTWdyIHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlOiBTb3VuZE1nciA9IG5ldyBTb3VuZE1ncigpO1xuICAgIHByaXZhdGUgYmdtOmFueTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5U291bmQobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICghQ29uZmlnRGF0YS5pc1NvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IFwicmVzL3NvdW5kL1wiICsgbmFtZSArIFwiLm1wM1wiO1xuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IGxheWEudXRpbHMuUG9vbC5nZXRJdGVtKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHNvdW5kID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzb3VuZCA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgICAgICAgc291bmQuc3JjID0gXCJyZXMvc291bmQvXCIgKyBuYW1lICsgXCIubXAzXCI7XG4gICAgICAgICAgICAgICAgc291bmQub25FbmRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxheWEudXRpbHMuUG9vbC5yZWNvdmVyKG5hbWUsIHNvdW5kKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKHVybCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheUJHTSgpe1xuICAgICAgICBpZiAoIUNvbmZpZ0RhdGEuaXNTb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB1cmwgPSBcInJlcy9zb3VuZC9iZ20ubXAzXCI7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgdGhpcy5iZ20gPSB3eC5jcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5iZ20uc3JjID0gdXJsO1xuICAgICAgICAgICAgdGhpcy5iZ20ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmJnbS5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5TXVzaWModXJsLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wQkdNKCl7XG4gICAgICAgIGxldCB1cmwgPSBcInJlcy9zb3VuZC9iZ20ubXAzXCI7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgaWYodGhpcy5iZ20pe1xuICAgICAgICAgICAgICAgIHRoaXMuYmdtLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wTXVzaWMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgSHR0cE1nciBmcm9tIFwiLi9IdHRwTWdyXCI7XHJcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vbW9kZWxzL1VzZXJEYXRhXCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGlzdGljc01nciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlOiBTdGF0aXN0aWNzTWdyID0gbmV3IFN0YXRpc3RpY3NNZ3IoKTtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcbiBcclxuICAgIC8v55m76ZmG57uf6K6hXHJcbiAgICBwdWJsaWMgbG9naW5TdGF0aXN0aWNzUG9zdCgpe1xyXG4gICAgICAgIHZhciBfZDphbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjpcIjEwMDVcIixcclxuICAgICAgICAgICAgZnJvbV9hcHBpZDpVc2VyRGF0YS5mcm9tQXBwaWQsXHJcbiAgICAgICAgICAgIGZyb21faW1naWQ6VXNlckRhdGEuZnJvbUltZ2lkLFxyXG4gICAgICAgICAgICBjb2RlOlVzZXJEYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzbmV3OlVzZXJEYXRhLmlzTmV3ID8gMSA6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye75o6I5p2D57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgYXV0aG9yU3RhdGlzdGljcygpIHtcclxuICAgICAgICB2YXIgX2Q6IGFueSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOiBcIjEwMDZcIixcclxuICAgICAgICAgICAgZnJvbV9hcHBpZDpVc2VyRGF0YS5mcm9tQXBwaWQsXHJcbiAgICAgICAgICAgIGZyb21faW1naWQ6VXNlckRhdGEuZnJvbUltZ2lkLFxyXG4gICAgICAgICAgICBjb2RlOlVzZXJEYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIGlzbmV3OlVzZXJEYXRhLmlzTmV3ID8gMSA6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL+W8gOWni+a4uOaIj+e7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIHN0YXJ0R2FtZVN0YXRpc3RpY3MoKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDA4XCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG4gICAgICAgXHJcbiAgICAvL+WIhuS6q+e7n+iuoeaOpeWPoyAg57G75Z6LOiAw5pmu6YCa5YiG5LqrLCAx5YiG5Lqr5aSN5rS7LCAy5YiG5Lqr6I635Y+W6YGT5YW3LCAz5YiG5Lqr6I635Y+W5oq95aWW5qyh5pWwXHJcbiAgICBwdWJsaWMgc2hhcmVTdGF0aXN0aWNzKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBhY3Rpb246IFwiMTAwOVwiLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+inhumikee7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIGNsaWNrVmlkZW9TdGF0aXN0aWNzKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBhY3Rpb246IFwiMTAxMFwiLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+eci+WujOinhumikee7n+iuoeaOpeWPo1xyXG4gICAgcHVibGljIHZpZGVvUGxheU92ZXJBZFN0YXRpc3RpY3ModHlwZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDExXCIsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye76Lez6L2s57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtU3RhdGlzdGljcyhfZCkge1xyXG4gICAgICAgIF9kLmFjdGlvbiA9IFwiMTAwN1wiO1xyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye76Lez6L2s5oiQ5Yqf5ZCO57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtQmFja1N0YXRpc3RpY3MoX2QpIHtcclxuICAgICAgICBfZC5hY3Rpb24gPSBcIjEwMTdcIjtcclxuICAgICAgICB0aGlzLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+e7n+iuoVxyXG4gICAgcHJpdmF0ZSBzdGF0aXN0aWNzUG9zdChfZGF0YTphbnkpe1xyXG4gICAgICAgIGxldCBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBjaGFubmVsOiBVc2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgIG15X2FwcGlkOiBDb25maWdEYXRhLm15QXBwaWQsXHJcbiAgICAgICAgICAgIG9wZW5pZDogVXNlckRhdGEub3BlbklkLFxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBfZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoX2RhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgX2Rba2V5XSA9IF9kYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgSHR0cE1nci5pbnN0YW5jZS5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uL21vZGVscy9Vc2VyRGF0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZU1nciB7XHJcbiAgICBcclxuICAgIHN0YXRpYyBzZXRTdG9yYWdlKF9kKSB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHd4LnNldFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICBrZXk6IF9kLmtleSxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoX2QudmFsKSxcclxuICAgICAgICAgICAgc3VjY2VzczogX2Quc3VjY2VzcyxcclxuICAgICAgICAgICAgZmFpbDogX2QuZmFpbCxcclxuICAgICAgICAgICAgY29tcGxldGU6IF9kLmNvbXBsZXRlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFN0b3JhZ2UoX2tleSk6IGFueSB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHd4LmdldFN0b3JhZ2VTeW5jKF9rZXkpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNhdmVTZXNzaW9uKF9zKXtcclxuICAgICAgICBTdG9yYWdlTWdyLnNldFN0b3JhZ2Uoe2tleTpcInNlc3Npb25JZFwiLHZhbDpfc30pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TG9jYWxWaXJib3J0KCl7XHJcbiAgICAgICAgcmV0dXJuIE15VXRpbHMuaXNOdWxsKFN0b3JhZ2VNZ3IuZ2V0U3RvcmFnZShcInZpcmJvcnRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9jYWxWaXJib3J0KHN0cjpzdHJpbmcpe1xyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7XHJcbiAgICAgICAgICAgIGtldDpcInZpcmJvcnRcIiwgXHJcbiAgICAgICAgICAgIHZhbDpzdHJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExvY2FsU291bmQoKXtcclxuICAgICAgICByZXR1cm4gTXlVdGlscy5pc051bGwoU3RvcmFnZU1nci5nZXRTdG9yYWdlKFwic291bmRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9jYWxTb3VuZChzdHI6c3RyaW5nKXtcclxuICAgICAgICBTdG9yYWdlTWdyLnNldFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICBrZXQ6XCJzb3VuZFwiLCBcclxuICAgICAgICAgICAgdmFsOnN0clxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2F2ZVVzZXJEYXRhKCl7XHJcbiAgICAgICAgbGV0IF9kID0ge1xyXG4gICAgICAgICAgICBzZXNzaW9uSWQ6VXNlckRhdGEuc2Vzc2lvbklkLFxyXG4gICAgICAgICAgICBvcGVuSWQ6VXNlckRhdGEub3BlbklkLFxyXG4gICAgICAgICAgICBzY29yZTpVc2VyRGF0YS5zY29yZSxcclxuICAgICAgICAgICAgZXhwOlVzZXJEYXRhLmV4cCxcclxuICAgICAgICAgICAgbGV2ZWw6VXNlckRhdGEubGV2ZWwsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7a2V5OlwidXNlckRhdGFcIix2YWw6X2R9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExvY2FsVXNlckRhdGEoKXtcclxuICAgICAgICBpZihVc2VyRGF0YS5pc0xvZ2luKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgX2QgPSBTdG9yYWdlTWdyLmdldFN0b3JhZ2UoXCJ1c2VyRGF0YVwiKTtcclxuICAgICAgICBpZighTXlVdGlscy5pc051bGwoX2QpKXtcclxuICAgICAgICAgICAgX2QgPSBKU09OLnBhcnNlKF9kKTtcclxuICAgICAgICAgICAgVXNlckRhdGEuc2Vzc2lvbklkID0gX2Quc2Vzc2lvbklkO1xyXG4gICAgICAgICAgICBVc2VyRGF0YS5vcGVuSWQgPSBfZC5vcGVuSWQ7XHJcbiAgICAgICAgICAgIFVzZXJEYXRhLnNjb3JlID0gX2Quc2NvcmUgfHwgMDtcclxuICAgICAgICAgICAgVXNlckRhdGEuZXhwID0gX2QuZXhwO1xyXG4gICAgICAgICAgICBVc2VyRGF0YS5sZXZlbCA9IF9kLmxldmVsIHx8IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcbmltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi4vdmlld3MvQmFzZVZpZXdcIjtcbmltcG9ydCBFdmVudE1nciBmcm9tIFwiLi9FdmVudE1nclwiO1xuaW1wb3J0IENvbmZpZ0RhdGEsIHsgTUFJTkJUTlNUWVBFIH0gZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdNZ3Ige1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IFZpZXdNZ3IgPSBuZXcgVmlld01ncigpO1xuICAgIHByaXZhdGUgdmlld0RpYzogYW55ID0ge307XG5cbiAgICBwcml2YXRlIGV2ZW50cyA9IFtcImdvSG9tZVwiXTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgaW5pdCgpe1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5ldmVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5vbkV2ZW50KHRoaXMuZXZlbnRzW2luZGV4XSx0aGlzLHRoaXNbdGhpcy5ldmVudHNbaW5kZXhdXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBnb0hvbWUocmVzKXtcbiAgICAgICAgbGV0IHZpZXdOYW1lID0gQ29uZmlnRGF0YS5tYWluQnRuc1R5cGUgPT0gTUFJTkJUTlNUWVBFLkxBTkRTQ0FQRSA/IFwiTWFpbkxhbmRzY2FwZS5zY2VuZVwiIDogXCJNYWluVmVydGljYWwuc2NlbmVcIjtcbiAgICAgICAgdGhpcy5vcGVuVmlldyh7XG4gICAgICAgICAgICB2aWV3TmFtZTogdmlld05hbWUsXG4gICAgICAgICAgICBjbG9zZUFsbDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW5WaWV3KF9kKTogdm9pZCB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IHVybCA9IF9kLnZpZXdOYW1lO1xuICAgICAgICBsZXQgY2xzID0gX2QuY2xzO1xuICAgICAgICBsZXQgY2xvc2VBbGwgPSBfZC5jbG9zZUFsbCB8fCBmYWxzZTtcbiAgICAgICAgaWYgKGNsb3NlQWxsKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdEaWMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTXlVdGlscy5pc051bGwodGhpcy52aWV3RGljW3VybF0pKSB7XG4gICAgICAgICAgICBMYXlhLlNjZW5lLm9wZW4odXJsLCBjbG9zZUFsbCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbiAob3duZXI6IGFueSkge1xuICAgICAgICAgICAgICAgIHNlbGYudmlld0RpY1t1cmxdID0gb3duZXI7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXMgPSBvd25lci5fY29tcG9uZW50cztcbiAgICAgICAgICAgICAgICBpZihjb21zKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY29tc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LmlzTXlCYXNlVmlldyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vcGVuVmlldyhfZC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBvd25lciA9IHRoaXMudmlld0RpY1t1cmxdO1xuICAgICAgICAgICAgbGV0IGNvbXMgPSBvd25lci5fY29tcG9uZW50cztcbiAgICAgICAgICAgIGlmKGNvbXMpe1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb21zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY29tc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNNeUJhc2VWaWV3KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub3BlblZpZXcoX2QuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVZpZXcodmlld05hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoTXlVdGlscy5pc051bGwodGhpcy52aWV3RGljW3ZpZXdOYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdEaWNbdmlld05hbWVdLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy52aWV3RGljW3ZpZXdOYW1lXSA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGhpZGVWaWV3KHZpZXdOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKE15VXRpbHMuaXNOdWxsKHRoaXMudmlld0RpY1t2aWV3TmFtZV0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgKHRoaXMudmlld0RpY1t2aWV3TmFtZV0gYXMgTGF5YS5WaWV3KS52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZpZXcodmlld05hbWU6IHN0cmluZyl7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy52aWV3RGljW3ZpZXdOYW1lXTtcbiAgICAgICAgaWYgKCFNeVV0aWxzLmlzTnVsbCh2aWV3KSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFN0b3JhZ2VNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XG5cbmV4cG9ydCBlbnVtIE1BSU5CVE5TVFlQRSB7XG4gICAgTEFORFNDQVBFID0gMCxcbiAgICBWRVJUSUNBTFxufVxuXG5leHBvcnQgZW51bSBTT1JUVFlQRSB7XG4gICAgTEVWRUwgPSAwLFxuICAgIEVORExFU1Ncbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlnRGF0YSB7XG4gICAgcHVibGljIHN0YXRpYyBtYWluQnRuc1R5cGU6bnVtYmVyID0gMDsgLy/kuLvpobXmjInpkq7mjpLliJfmlrnlvI/kvb/nlKjlk6rnp41cbiAgICBwdWJsaWMgc3RhdGljIG1haW5BZE15OmJvb2xlYW47ICAgICAvL+aYr+WQpuW8gOWQr+iHquW3seWBmueahOS4u+mhteeahOW5v+WRiuadoVxuXG4gICAgcHVibGljIHN0YXRpYyByZWxlYXNlUGxhdGZvcm0gPSBcIlwiOy8v5Y+R5biD5bmz5Y+wIHd4IGZiXG4gICAgcHVibGljIHN0YXRpYyBteUFwcGlkID0gXCJ3eGJlOWZlMDAyODE1MDUxNjlcIjtcbiAgICBwdWJsaWMgc3RhdGljIGNvbmZpZ3M6IGFueSA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBsYW5ndWFnZTpzdHJpbmcgPSBcImNuXCI7XG4gICAgcHVibGljIHN0YXRpYyBsYW5ndWFnZURhdGE6IGFueSA9IG51bGw7XG5cbiAgICBwdWJsaWMgc3RhdGljIHZlcnNpb24gPSBcIjEwMFwiO1xuICAgIHB1YmxpYyBzdGF0aWMganNvblZlcnNpb24gPSBcIjEwMFwiO1xuICAgIHB1YmxpYyBzdGF0aWMgc2VydmVyVXJsOiBzdHJpbmcgPSBcImh0dHBzOi8veGN4LmJpYW9jci5jb20vZnVubnlfZnJvZy9cIjtcbiAgICBwdWJsaWMgc3RhdGljIGpzb25WZXJzaW9uVXJsOiBzdHJpbmcgPSBcImh0dHBzOi8vcC5kb2d1YW5lLmNuLzIwMTkwNDA0L21fMDQxNzE5MjYzNTIzMjEuanNvblwiO1xuICAgIHB1YmxpYyBzdGF0aWMgc3RhdGlzdGljc1VybDpzdHJpbmcgPSBcImh0dHBzOi8vbG9nLnp1YW5jci5jb20vXCJcblxuICAgIHB1YmxpYyBzdGF0aWMgaXNDcmVhdGVBdXRob3JpemF0aW9uOmJvb2xlYW4gPSBmYWxzZTsgLy/mmK/lkKbliJvlu7rkuobmjojmnYPmjInpkq5cbiAgICBwdWJsaWMgc3RhdGljIHJlcGVhdEF1dGhvcml6YXRpb246Ym9vbGVhbiA9IGZhbHNlOyAvL+aYr+WQpuWIm+W7uuS6huaOiOadg+aMiemSrlxuICAgIHB1YmxpYyBzdGF0aWMgaXNMb2c6IGJvb2xlYW4gPSB0cnVlOyAvL+aYr+WQpuW8gOWQr+aXpeW/l1xuICAgIHB1YmxpYyBzdGF0aWMgaXNTb3VuZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgc3RhdGljIGlzVmlyYm9ydDogYm9vbGVhbjtcbiAgICBwdWJsaWMgc3RhdGljIGN0cmxJbmZvOiBhbnkgPSB7fTsvL+a4uOaIj+aOp+WItuS/oeaBr1xuICAgIHB1YmxpYyBzdGF0aWMgc3lzdGVtSW5mbzogYW55ID0ge307Ly/orr7lpIfns7vnu5/kv6Hmga9cblxuICAgIHB1YmxpYyBzdGF0aWMgYmFubmVyVmlkZW9JZDpzdHJpbmcgPSBcImFkdW5pdC03YzQ0NDlmOWY2ZmNhZmJiXCI7XG4gICAgcHVibGljIHN0YXRpYyByZXdhcmRlZFZpZGVvSWQ6c3RyaW5nID0gXCJhZHVuaXQtZGYwMzExMTE4ZTI0NTJjNlwiO1xuXG5cbiAgICBwdWJsaWMgc3RhdGljIGluaXRMb2NhbCgpe1xuICAgICAgICBDb25maWdEYXRhLmlzU291bmQgPSBTdG9yYWdlTWdyLmdldExvY2FsU291bmQoKTtcbiAgICAgICAgQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPSBTdG9yYWdlTWdyLmdldExvY2FsVmlyYm9ydCgpO1xuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZVBsYXRmb3JtID0gXCJ3eFwiO1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW1JbmZvID0gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdENvbmZpZ0RhdGEoX2Q6YW55LHJlbW90ZTpib29sZWFuID0gZmFsc2Upe1xuICAgICAgICBpZihyZW1vdGUpe1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5jb25maWdzID0gX2Q7XG4gICAgICAgIH1lbHNlIGlmKCFDb25maWdEYXRhLmNvbmZpZ3Mpe1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5jb25maWdzID0gX2Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldENvbmZpZ0RhdGEoY29uZmlnTmFtZTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3RybEluZm9bY29uZmlnTmFtZV07XG4gICAgfVxuXG4gICAgLyoq6K6+572u5aOw6Z+zICovXG4gICAgc3RhdGljIHNldFNvdW5kKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCBzdHIubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNTb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBTdG9yYWdlTWdyLnNldExvY2FsU291bmQoXCJcIilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFN0b3JhZ2VNZ3Iuc2V0TG9jYWxTb3VuZChcIjFcIik7XG4gICAgICAgICAgICBDb25maWdEYXRhLmlzU291bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaMr+WKqOiuvue9rlxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICovXG4gICAgc3RhdGljIHNldFZpcmJvcnQoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8IHN0ci5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPSB0cnVlO1xuICAgICAgICAgICAgU3RvcmFnZU1nci5zZXRMb2NhbFZpcmJvcnQoXCJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTdG9yYWdlTWdyLnNldExvY2FsVmlyYm9ydChcIjFcIik7XG4gICAgICAgICAgICBDb25maWdEYXRhLmlzVmlyYm9ydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRBRERhdGEoYWRJZCkge1xuICAgICAgICBsZXQgc3J0ID0gdGhpcy5nZXRDb25maWdEYXRhKFwiYWRJbmZvXCIpO1xuICAgICAgICBpZihNeVV0aWxzLmlzTnVsbChzcnQpKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYWRJbmZvcyA9IEpTT04ucGFyc2Uoc3J0KTtcbiAgICAgICAgbGV0IGFycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRJbmZvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFkSW5mbyA9IGFkSW5mb3NbaV07XG4gICAgICAgICAgICBpZiAoYWRJbmZvLnBvc2l0aW9uID09IGFkSWQpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKGFkSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFN0b3JhZ2VNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJEYXRhIHtcbiAgICBwdWJsaWMgc3RhdGljIGNvZGU6IHN0cmluZyA9IFwiXCI7Ly/lvq7kv6Fjb2RlXG4gICAgcHVibGljIHN0YXRpYyBvcGVuSWQ6IHN0cmluZyA9IFwiXCI7Ly/lvq7kv6FvcGVuaWRcbiAgICBwdWJsaWMgc3RhdGljIHNlc3Npb25JZDogc3RyaW5nID0gXCJcIjtcblxuICAgIHB1YmxpYyBzdGF0aWMgdXNlcklkOiBhbnk7XG4gICAgcHVibGljIHN0YXRpYyBuaWNrTmFtZTogc3RyaW5nID0gXCJcIjtcbiAgICBwdWJsaWMgc3RhdGljIGdlbmRlcjpudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBzdGF0aWMgYXZhdGFyVXJsOiBzdHJpbmcgPSBcIlwiO1xuICAgIHB1YmxpYyBzdGF0aWMgc2NvcmU6IG51bWJlciA9IDA7IC8v5YiG5pWwXG4gICAgcHVibGljIHN0YXRpYyBleHA6IG51bWJlciA9IDA7ICAgLy/nu4/pqoxcbiAgICBwdWJsaWMgc3RhdGljIGxldmVsOiBudW1iZXIgPSAxOyAvL+etiee6p1xuICAgIHB1YmxpYyBzdGF0aWMgaW5kZXg6IG51bWJlciA9IDA7IC8v5o6S6KGMXG5cbiAgICBwdWJsaWMgc3RhdGljIGRpYW1vbmQ6bnVtYmVyID0gMDtcbiAgICBwdWJsaWMgc3RhdGljIGdvbGQ6bnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBzdGF0aWMgaXNOZXc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgc3RhdGljIGlzTG9naW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgc3RhdGljIGNoYW5uZWxJZDogYW55O1xuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tSW1naWQ6YW55O1xuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUFwcGlkOmFueTtcblxuICAgIHB1YmxpYyBzdGF0aWMgYWRDb3VudDogbnVtYmVyOy8v6KeG6aKR5bm/5ZGK5qyh5pWwXG5cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Db25maWdEYXRhXCI7XG5pbXBvcnQgSHR0cE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL0h0dHBNZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV1hBZE1ncntcbiAgICBwcml2YXRlIGJhbm5lckhvbWU6IGFueTtcbiAgICBwcml2YXRlIGJhbm5lck90aGVyOiBhbnk7XG4gICAgcHJpdmF0ZSBiYW5uZXJDbGFzc2ljRW5kOiBhbnk7XG5cbiAgICBwcml2YXRlIGJhbm5lckhvbWVJc0hpZGU6Ym9vbGVhbiA9IHRydWU7XG4gICAgcHJpdmF0ZSBiYW5uZXJPdGhlcklzSGlkZTpib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIGJhbm5lckNsYXNzaWNFbmRJc0hpZGU6Ym9vbGVhbiA9IHRydWU7XG5cblxuICAgIHByaXZhdGUgaXNJbml0ZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIHJld2FyZGVkVmlkZW9BZDogYW55O1xuICAgIHByaXZhdGUgaGFzQWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgY2FsbGVyOiBhbnk7XG4gICAgcHJpdmF0ZSBjYWxsQmFja1N1YzogRnVuY3Rpb247XG4gICAgcHJpdmF0ZSBjYWxsQmFja0ZhaWw6IEZ1bmN0aW9uO1xuXG4gICAgcHVibGljIHZpZGVvUGxheWVkVGltZXM6IG51bWJlcjtcblxuXG4gICAgcHJpdmF0ZSBwcmVCYW5uZXJUaW1lX0hvbWU6IGFueTtcbiAgICBwcml2YXRlIHByZUJhbm5lclRpbWVfT3RoZXI6IGFueTtcbiAgICBwcml2YXRlIHByZUJhbm5lclRpbWVfQ2xhc3NpY0VuZDogYW55O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb25maWdEYXRhLnN5c3RlbUluZm8uU0RLVmVyc2lvbiAmJiBNeVV0aWxzLmNvbXBhcmVWZXJzaW9uKENvbmZpZ0RhdGEuc3lzdGVtSW5mby5TREtWZXJzaW9uLCBcIjIuMC40XCIpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbml0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pbml0VmVkaW9Db20oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfSG9tZSA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfT3RoZXIgPSBMYXlhLnRpbWVyLmN1cnJUaW1lcjtcbiAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX0NsYXNzaWNFbmQgPSBMYXlhLnRpbWVyLmN1cnJUaW1lcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdFZlZGlvQ29tKCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJld2FyZGVkVmlkZW9BZCA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7IGFkVW5pdElkOiBDb25maWdEYXRhLnJld2FyZGVkVmlkZW9JZCB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJld2FyZGVkVmlkZW9BZCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2FyZGVkVmlkZW9BZC5vbkxvYWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV3YXJkZWRWaWRlbyBvbmxvYWRcIik7XG4gICAgICAgICAgICAgICAgc2VsZi5oYXNBZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLm9uRXJyb3IoZXJyID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgSHR0cE1nci5pbnN0YW5jZS52aWRlb0Vycm9yQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYWxsQmFja1N1YyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbEJhY2tTdWMoc2VsZi5jYWxsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXdhcmRlZFZpZGVvQWQub25DbG9zZShyZXMgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOeUqOaIt+eCueWHu+S6huOAkOWFs+mXreW5v+WRiuOAkeaMiemSrlxuICAgICAgICAgICAgICAgIC8vIOWwj+S6jiAyLjEuMCDnmoTln7rnoYDlupPniYjmnKzvvIxyZXMg5piv5LiA5LiqIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmlzRW5kZWQgfHwgcmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5q2j5bi45pKt5pS+57uT5p2f77yM5Y+v5Lul5LiL5Y+R5ri45oiP5aWW5YqxXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudmlkZW9QbGF5ZWRUaW1lcyArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYWxsQmFja1N1YyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxCYWNrU3VjKHNlbGYuY2FsbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5pKt5pS+5Lit6YCU6YCA5Ye677yM5LiN5LiL5Y+R5ri45oiP5aWW5YqxXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhbGxCYWNrRmFpbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxCYWNrRmFpbChzZWxmLmNhbGxlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHVibGljIHNob3dWaWRlbyhjYWxsZXI6IGFueSwgY2FsbEJhY2tTdWM6IEZ1bmN0aW9uLCBjYWxsQmFja0ZhaWw6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0luaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5jYWxsZXIgPSBjYWxsZXI7XG4gICAgICAgIHRoaXMuY2FsbEJhY2tTdWMgPSBjYWxsQmFja1N1YztcbiAgICAgICAgdGhpcy5jYWxsQmFja0ZhaWwgPSBjYWxsQmFja0ZhaWw7XG4gICAgICAgIGlmICh0aGlzLmhhc0FkKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0FkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJld2FyZGVkVmlkZW9BZC5zaG93KCk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLmxvYWQoKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXdhcmRlZFZpZGVvQWQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc0FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkQmFubmVyQWRIb21lKCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lfHwhdGhpcy5pc0luaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvd0Jhbm5lckFkSG9tZSh0cnVlKVxuICAgIH1cblxuICAgIHB1YmxpYyBzaG93QmFubmVyQWRIb21lKG9ubHlMb2FkPzpib29sZWFuKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBMYXlhLnN0YWdlLndpZHRoIC8gMiAtIDE0MDtcbiAgICAgICAgbGV0IHNjcmVlbkggPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93SGVpZ2h0O1xuICAgICAgICB0aGlzLmJhbm5lckhvbWVJc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgaWYoTGF5YS50aW1lci5jdXJyVGltZXIgLSB0aGlzLnByZUJhbm5lclRpbWVfSG9tZSA+IDMwMDAwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuYmFubmVySG9tZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYW5uZXJIb21lKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZEhvbWUoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZSA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDogQ29uZmlnRGF0YS5iYW5uZXJWaWRlb0lkLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogc2NyZWVuSCAtIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF93aWR0aCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5vblJlc2l6ZShyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuc3R5bGUubGVmdCA9IChzY3JlZW5XIC0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnJlYWxXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zdHlsZS50b3AgPSBzY3JlZW5IIC0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbkggLyBzY3JlZW5XID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuc3R5bGUudG9wID0gdGhpcy5iYW5uZXJIb21lLnN0eWxlLnRvcCAtIDEwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyB0aGlzLmJhbm5lckhvbWUub25Mb2FkKCgpPT57XG4gICAgICAgICAgICAvLyAgICAgaWYodGhpcy5iYW5uZXJIb21lSXNIaWRlKXtcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5iYW5uZXJIb21lLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICB0aGlzLmJhbm5lckhvbWUuc2hvdygpO1xuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYob25seUxvYWQpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckhvbWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dCYW5uZXJBZE90aGVyKCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lfHwhdGhpcy5pc0luaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdG9yeUFsbEJhbm5lckFkKCk7XG4gICAgICAgIGxldCBzY3JlZW5XID0gQ29uZmlnRGF0YS5zeXN0ZW1JbmZvLndpbmRvd1dpZHRoO1xuICAgICAgICBsZXQgX3dpZHRoID0gc2NyZWVuVztcbiAgICAgICAgbGV0IHNjcmVlbkggPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93SGVpZ2h0O1xuICAgICAgICB0aGlzLmJhbm5lck90aGVySXNIaWRlID0gZmFsc2U7XG4gICAgICAgIGlmKExheWEudGltZXIuY3VyclRpbWVyIC0gdGhpcy5wcmVCYW5uZXJUaW1lX090aGVyID4gMzAwMDApe1xuICAgICAgICAgICAgaWYodGhpcy5iYW5uZXJPdGhlcil7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICBcbiAgICAgICAgaWYgKCF0aGlzLmJhbm5lck90aGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZE90aGVyKCk7XG4gICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyID0gd2luZG93W1wid3hcIl0uY3JlYXRlQmFubmVyQWQoe1xuICAgICAgICAgICAgICAgIGFkVW5pdElkOiBDb25maWdEYXRhLmJhbm5lclZpZGVvSWQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBzY3JlZW5IIC0gMTAwLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dpZHRoLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLm9uUmVzaXplKHIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUubGVmdCA9IChzY3JlZW5XIC0gdGhpcy5iYW5uZXJPdGhlci5zdHlsZS5yZWFsV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnRvcCA9IHNjcmVlbkggLSB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnJlYWxIZWlnaHQgLSAxMDtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuSCAvIHNjcmVlblcgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUudG9wID0gdGhpcy5iYW5uZXJPdGhlci5zdHlsZS50b3AgLSAyNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLm9uRXJyb3IoKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bm/5ZGK5Yqg6L296ZSZ6K+vOlwiLCByZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhbm5lck90aGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIHNob3dCYW5uZXJBZENsYXNzaWNFbmQoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBzY3JlZW5XO1xuICAgICAgICBsZXQgc2NyZWVuSCA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dIZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZElzSGlkZSA9IGZhbHNlO1xuICAgICAgICBpZihMYXlhLnRpbWVyLmN1cnJUaW1lciAtIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA+IDMwMDAwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuYmFubmVyQ2xhc3NpY0VuZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYW5uZXJDbGFzc2ljRW5kKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZENsYXNzaWNFbmQoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZCA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZUJhbm5lckFkKHtcbiAgICAgICAgICAgICAgICBhZFVuaXRJZDogJ2FkdW5pdC1kY2FjZjdmZDZlNjU0YjRkJyxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHNjcmVlbkggLSAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd2lkdGgsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQub25SZXNpemUociA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLmxlZnQgPSAoc2NyZWVuVyAtIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS5yZWFsV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUudG9wID0gc2NyZWVuSCAtIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS5yZWFsSGVpZ2h0IC0gMTA7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbkggLyBzY3JlZW5XID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUudG9wID0gdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLnRvcCAtIDI1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfT3RoZXIgPSBMYXlhLnRpbWVyLmN1cnJUaW1lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYW5uZXJDbGFzc2ljRW5kICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95QmFubmVyQWRIb21lKCkge1xuICAgICAgICB0aGlzLmJhbm5lckhvbWVJc0hpZGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5iYW5uZXJIb21lKSB7XG4gICAgICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfSG9tZSA9IDA7XG4gICAgICAgICAgICBpZihDb25maWdEYXRhLmN0cmxJbmZvLmlzX2Jhbm5lciA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZSA9IG51bGw7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3lCYW5uZXJBZE90aGVyKCkge1xuICAgICAgICB0aGlzLmJhbm5lck90aGVySXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyT3RoZXIpIHtcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IDA7XG4gICAgICAgICAgICBpZihDb25maWdEYXRhLmN0cmxJbmZvLmlzX2Jhbm5lciA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZGVzdHJveUJhbm5lckFkQ2xhc3NpY0VuZCgpIHtcbiAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kSXNIaWRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYmFubmVyQ2xhc3NpY0VuZCkge1xuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX0NsYXNzaWNFbmQgPSAwO1xuICAgICAgICAgICAgaWYoQ29uZmlnRGF0YS5jdHJsSW5mby5pc19iYW5uZXIgPT0gMSl7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQgPSBudWxsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0b3J5QWxsQmFubmVyQWQoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkSG9tZSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lCYW5uZXJBZE90aGVyKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkQ2xhc3NpY0VuZCgpO1xuICAgIH1cblxuXG5cbn0iLCJpbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyRGF0YVwiO1xuaW1wb3J0IEh0dHBNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9IdHRwTWdyXCI7XG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Db25maWdEYXRhXCI7XG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9FdmVudE1nclwiO1xuaW1wb3J0IFN0YXRpc3RpY3NNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9TdGF0aXN0aWNzTWdyXCI7XG5pbXBvcnQgTXlMb2cgZnJvbSBcIi4uLy4uL3Rvb2xzL015TG9nXCI7XG5pbXBvcnQgU291bmRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9Tb3VuZE1nclwiO1xuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9WaWV3TWdyXCI7XG5pbXBvcnQgQ29udmVyZ2VBZFZpZXcgZnJvbSBcIi4uLy4uL3ZpZXdzL0NvbnZlcmdlQWRWaWV3XCI7XG5pbXBvcnQgV1hTdWJEb21haW4gZnJvbSBcIi4vV1hTdWJEb21haW5cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV1hBUEkge1xuICAgIHB1YmxpYyBfbGF1bmNoOmFueSA9IHt9O1xuICAgIHByaXZhdGUgYnRucyA9IFtdO1xuICAgIHByaXZhdGUgb2Zmc2V0T3BlbkRvbWFpbjogTGF5YS5WZWN0b3IyO1xuICAgIHByaXZhdGUgc3RpbWUgPSAwO1xuICAgIHByaXZhdGUgc2hhcmVCYWNrQXJncyA9IHt9O1xuICAgIHByaXZhdGUgY2FsbGVyID0gbnVsbDtcbiAgICBwcml2YXRlIHNoYXJlQmFjaztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9sYXVuY2ggPSB3aW5kb3dbXCJ3eFwiXS5nZXRMYXVuY2hPcHRpb25zU3luYygpO1xuICAgICAgICBcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2Uub25jZShcImdldFN5c3RlbVBhcmFtTGlzdEJhY2tcIix0aGlzLCgpPT57XG4gICAgICAgICAgICB0aGlzLnNob3dTaGFyZU1lbnUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0T3BlbkRvbWFpbk9mZnNldCgpO1xuXG4gICAgICAgIHdpbmRvd1tcInd4XCJdLm9uU2hvdygocmVzKSA9PiB7XG4gICAgICAgICAgICB2YXIgc2hhcmVUaWNrZXQgPSByZXMuc2hhcmVUaWNrZXQ7XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSByZXMucXVlcnkgfHwge307XG4gICAgICAgICAgICBpZiAoc2hhcmVUaWNrZXQgIT0gdW5kZWZpbmVkICYmIHF1ZXJ5LmF2YXRhclVybEdyb3VwXG4gICAgICAgICAgICAgICAgJiYgcXVlcnkubmlja05hbWVHcm91cCkge1xuICAgICAgICAgICAgICAgIC8v5Zyo6L+Z5YGa576k5o6S6KGM55qEXGLlvLnmoYZcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy/liIbkuqvlm57osINcbiAgICAgICAgICAgICAgICB2YXIgX2Q6IGFueSA9IHRoaXMuc2hhcmVCYWNrQXJncyB8fCB7fTtcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBMYXlhLkJyb3dzZXIubm93KCkgLSB0aGlzLnN0aW1lO1xuICAgICAgICAgICAgICAgIGlmIChMYXlhLkJyb3dzZXIubm93KCkgLSB0aGlzLnN0aW1lID4gMjAwMCkge1xuICAgICAgICAgICAgICAgICAgICBfZC5zdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhcmVCYWNrICYmIHRoaXMuY2FsbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQmFjay5jYWxsKHRoaXMuY2FsbGVyLCBfZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFyZUJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9kLnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhcmVCYWNrICYmIHRoaXMuY2FsbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQmFjay5jYWxsKHRoaXMuY2FsbGVyLCBfZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGFyZUJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5pKt5pS+6Z+z5LmQIOWIh+WIsOWQjuWPsOiDjOaZr+mfs+S5kOa2iOWksemcgOimgemHjeaWsOaSreaUvlxuICAgICAgICAgICAgU291bmRNZ3IuaW5zdGFuY2UucGxheUJHTSgpO1xuXG4gICAgICAgICAgICAvL+iBmuWQiOW5v+WRiumhtemdolxuICAgICAgICAgICAgLy/mjqfliLbnu5PmnZ/pobXpnaLnmoTliIbkuqvvvIzkuI3mmL7npLrogZrlkIjlub/lkYrpobXpnaJcbiAgICAgICAgICAgIGxldCBub3RTaG93QWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKHRoaXMuc2hhcmVCYWNrQXJncyl7XG4gICAgICAgICAgICAgICAgbm90U2hvd0FkID0gdGhpcy5zaGFyZUJhY2tBcmdzW1wibm90U2hvd0FkXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoMSx0aGlzLCgpPT57XG4gICAgICAgICAgICAgICAgLy/lj6rlnKjnu5PmnZ/nlYzpnaLmmL7npLrogZrlkIjlub/lkYrpobXpnaJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZU92ZXJWaWV3ID0gVmlld01nci5pbnN0YW5jZS5nZXRWaWV3KFwiR2FtZU92ZXIuc2NlbmVcIik7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnZlcmdlQWRWaWV3ID0gVmlld01nci5pbnN0YW5jZS5nZXRWaWV3KFwiQ29udmVyZ2VBZC5zY2VuZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vdFNob3dBZCAmJiBDb25maWdEYXRhLmN0cmxJbmZvLmlzQ29udmVyZ2UgPT0gMSAmJiBnYW1lT3ZlclZpZXcgJiYgIWNvbnZlcmdlQWRWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld05hbWU6IFwiQ29udmVyZ2VBZC5zY2VuZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhczogQ29udmVyZ2VBZFZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnNoYXJlQmFja0FyZ3MgPSB7fTtcbiAgICAgICAgfSlcbiAgICAgICAgd2luZG93W1wid3hcIl0ub25IaWRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RpbWUgPSBMYXlhLkJyb3dzZXIubm93KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgb25Hb1NoYXJlKHJlcykge1xuICAgICAgICB0aGlzLmNhbGxlciA9IHJlcy5jYWxsZXI7XG4gICAgICAgIHRoaXMuc2hhcmVCYWNrID0gcmVzLmNhbGxiYWNrO1xuICAgICAgICB0aGlzLnNoYXJlQmFja0FyZ3MgPSByZXMuYXJncyB8fCB7fTtcbiAgICB9XG4gICAgIC8qXG4gICAgICAgIHN1Y2Nlc3Mg5oiQ5Yqf5Zue6LCDXG4gICAgICAgIGZhaWwg5aSx6LSl5Zue6LCDXG4gICAgKi9cbiAgIHB1YmxpYyBkb0xvZ2luKF9kYXRhKXtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvd1tcInd4XCJdLmxvZ2luKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBVc2VyRGF0YS5jb2RlID0gcmVzLmNvZGU7XG4gICAgICAgICAgICAgICAgLy/nmbvlvZXmjqXlj6NcbiAgICAgICAgICAgICAgICB2YXIgbGF1bmNoID0gdGhpcy5nZXRMYXVuY2hEYXRhKCk7XG4gICAgICAgICAgICAgICAgdmFyIF9kOiBhbnkgPSB7fVxuICAgICAgICAgICAgICAgIF9kLmNvZGUgPSByZXMuY29kZTtcbiAgICAgICAgICAgICAgICBpZihsYXVuY2gucXVlcnkpe1xuICAgICAgICAgICAgICAgICAgICBfZC5pbnZpdGVJZCA9IGxhdW5jaC5xdWVyeS5pbnZpdGVfdWlkIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBfZC5jaGFubmVsSWQgPSBsYXVuY2gucXVlcnkuY2hhbm5lbCB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5mcm9tQXBwaWQgPSBsYXVuY2gucXVlcnkuY3VyX3NoYXJlX2lkfHxcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihsYXVuY2gucmVmZXJyZXJJbmZvKXtcbiAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuZnJvbUltZ2lkID0gbGF1bmNoLnJlZmVycmVySW5mby5hcHBJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2Quc3VjY2VzcyA9IF9kYXRhLnN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgX2QuZmFpbCA9IF9kYXRhLmZhaWw7XG4gICAgICAgICAgICAgICAgSHR0cE1nci5pbnN0YW5jZS5sb2dpbihfZClcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0T2Zmc2V0T3BlbkRvbWFpbigpOmFueXtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0T3BlbkRvbWFpbjtcbiAgICB9XG5cbiAgICBnZXRMYXVuY2hEYXRhKCk6YW55e1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoO1xuICAgIH1cblxuICAgIGdldFF1ZXJ5KCk6YW55e1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoLnF1ZXJ5O1xuICAgIH1cblxuICAgIGdldFJlZmVycmVySW5mbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF1bmNoLnJlZmVycmVySW5mbztcbiAgICB9XG5cblxuICAgIHB1YmxpYyAgdXBsb2FkUmFua0RhdGUoX2RhdGEpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkID0gW107XG4gICAgICAgIGlmICghTXlVdGlscy5pc051bGwoX2RhdGEubGV2ZWwpKSB7XG4gICAgICAgICAgICBkLnB1c2goeyBrZXk6IFwibGV2ZWxcIiwgdmFsdWU6IF9kYXRhLmxldmVsICsgXCJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIU15VXRpbHMuaXNOdWxsKF9kYXRhLnNjb3JlKSkge1xuICAgICAgICAgICAgZC5wdXNoKHsga2V5OiBcInNjb3JlXCIsIHZhbHVlOiBfZGF0YS5zY29yZSArIFwiXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0uc2V0VXNlckNsb3VkU3RvcmFnZSh7XG4gICAgICAgICAgICBLVkRhdGFMaXN0OiBkLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5LiK5Lyg5pWw5o2u5Yiw5b6u5L+h5pyN5Yqh5ZmoOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93U2hhcmVNZW51KCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0uc2hvd1NoYXJlTWVudSh7IHdpdGhTaGFyZVRpY2tldDogdHJ1ZSB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBzaGFyZUluZm8gPSB0aGlzLmNyZWF0ZVNoYXJlSW5mbygpO1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5vblNoYXJlQXBwTWVzc2FnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVJbmZvO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVNoYXJlSW5mbyhfZD86YW55KTphbnl7XG4gICAgICAgIHZhciBzZCA9IEpTT04ucGFyc2UoQ29uZmlnRGF0YS5nZXRDb25maWdEYXRhKFwic2hhcmVJbmZvXCIpKTtcbiAgICAgICAgaWYoIXNkKXtyZXR1cm4gbnVsbH1cbiAgICAgICAgdmFyIHJhbmRfdCA9IE15VXRpbHMucmFuZG9tKDAsIHNkLmxlbmd0aCAtIDEpO1xuICAgICAgICB2YXIgdGl0bGUgPSBzZFtyYW5kX3RdLnRpdGxlO1xuICAgICAgICB2YXIgaW1hZ2VVcmwgPSBzZFtyYW5kX3RdLmltZztcbiAgICAgICAgdmFyIHF1ZXJ5ID0gXCJpbnZpdGVfdWlkPVwiICsgKFVzZXJEYXRhLnVzZXJJZCA/IFVzZXJEYXRhLnVzZXJJZCA6IFwiXCIpO1xuICAgICAgICBxdWVyeSArPSBcIiZjdXJfc2hhcmVfaWQ9XCIgKyBzZFtyYW5kX3RdLmlkO1xuICAgICAgICBxdWVyeSArPSBcIiZhdmF0YXJVcmxHcm91cD1cIiArIChVc2VyRGF0YS5hdmF0YXJVcmwgPyBVc2VyRGF0YS5hdmF0YXJVcmwgOiBcIlwiKTtcbiAgICAgICAgcXVlcnkgKz0gXCImbmlja05hbWVHcm91cD1cIiArIChVc2VyRGF0YS5uaWNrTmFtZSA/IFVzZXJEYXRhLm5pY2tOYW1lIDogXCJcIik7XG4gICAgICAgIHF1ZXJ5ICs9IFwiJmNoYW5uZWw9XCIgKyAoVXNlckRhdGEuY2hhbm5lbElkID8gVXNlckRhdGEuY2hhbm5lbElkIDogXCJcIik7XG4gICAgICAgIGlmIChfZCkge1xuICAgICAgICAgICAgaWYgKF9kLmlkKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gXCImc2NlbmU9XCIgKyBfZC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfZC5pdGVtSWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBcIiZpdGVtSWQ9XCIgKyBfZC5pdGVtSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2QudHlwZSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IFwiJnR5cGU9XCIgKyBfZC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9kLnNoYXJlX3RpdGxlKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfZC5zaGFyZV90aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfZC5zaGFyZV9pbWcpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IF9kLnNoYXJlX2ltZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIH0gXG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzaGFyZUFwcE1lc3NhZ2UoX2QsIHR5cGU6IG51bWJlcikge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uR29TaGFyZShfZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFDb25maWdEYXRhLmdldENvbmZpZ0RhdGEoXCJzaGFyZUluZm9cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTdGF0aXN0aWNzTWdyLmluc3RhbmNlLnNoYXJlU3RhdGlzdGljcyh0eXBlKTtcbiAgICAgICAgbGV0IHNoYXJlSW5mbyA9IHRoaXMuY3JlYXRlU2hhcmVJbmZvKF9kKTtcbiAgICAgICAgd2luZG93W1wid3hcIl0uc2hhcmVBcHBNZXNzYWdlKHNoYXJlSW5mbyk7XG4gICAgfVxuXG4gICAgcHVibGljIG5hdmlnYXRlVG9NaW5pUHJvZ3JhbShfZCkge1xuICAgICAgICBpZiAoIV9kIHx8ICFfZC5hcHBJZCB8fCAhTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTdGF0aXN0aWNzTWdyLmluc3RhbmNlLm5hdmlnYXRlVG9NaW5pUHJvZ3JhbVN0YXRpc3RpY3MoX2QpO1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5uYXZpZ2F0ZVRvTWluaVByb2dyYW0oe1xuICAgICAgICAgICAgYXBwSWQ6IF9kLmFwcGlkLFxuICAgICAgICAgICAgcGF0aDogX2QucGF0aCxcbiAgICAgICAgICAgIGV4dHJhRGF0YToge1xuICAgICAgICAgICAgICAgIGZvbzogJ2JhcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZW52VmVyc2lvbjogJ2RldmVsb3AnLFxuICAgICAgICAgICAgY29tcGxldGU6KHJlcyk9PiB7XG4gICAgICAgICAgICAgICAgaWYoX2QuY29tcGxldGUpe1xuICAgICAgICAgICAgICAgICAgICBfZC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZC5jb21wbGV0ZSA9IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDoocmVzKT0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zaG93VG9hc3Qoe3RpdGxlOlwi6Lez6L2s5aSx6LSlXCJ9KTtcbiAgICAgICAgICAgICAgICBpZihfZC5mYWlsKXtcbiAgICAgICAgICAgICAgICAgICAgX2QuZmFpbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZC5mYWlsID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOihyZXMpPT4ge1xuICAgICAgICAgICAgICAgIFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2UubmF2aWdhdGVUb01pbmlQcm9ncmFtQmFja1N0YXRpc3RpY3MoX2QpO1xuICAgICAgICAgICAgICAgIGlmIChfZC5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBfZC5jYWxsYmFjayhcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9kLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAgLyoqXG4gICAgICog6K6+572u5a2Q5Z+f55WM6Z2i5YGP56e777yM6YCC6YWN5LiN5ZCM55qE5bGP5bmV55WM6Z2iXG4gICAgICovXG4gICAgcHVibGljIHNldE9wZW5Eb21haW5PZmZzZXQoKSB7XG4gICAgICAgIGxldCBvZmZzZXRYID0gTGF5YS5zdGFnZS53aWR0aCAtIDc1MDtcbiAgICAgICAgaWYgKG9mZnNldFggPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXRYID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2Zmc2V0WSA9IExheWEuc3RhZ2UuaGVpZ2h0IC0gMTMzNDtcbiAgICAgICAgaWYgKG9mZnNldFkgPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXRZID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9mZnNldE9wZW5Eb21haW4gPSBuZXcgTGF5YS5WZWN0b3IyKG9mZnNldFgsIG9mZnNldFkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVBdXRob3JpemF0aW9uQnV0dG9uKF9kYXRhKSB7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgd3guZ2V0U2V0dGluZyh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmF1dGhTZXR0aW5nICYmIHJlcy5hdXRoU2V0dGluZ1tcInNjb3BlLnVzZXJJbmZvXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNeUxvZy5sb2coXCLlt7Lnu4/mjojmnYNcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc1dpZHRoID0gTGF5YS5zdGFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzSGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeGIgPSAoTGF5YS5Ccm93c2VyLndpZHRoIC8gTGF5YS5Ccm93c2VyLnBpeGVsUmF0aW8pIC8gc1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHliID0gKExheWEuQnJvd3Nlci5oZWlnaHQgLyBMYXlhLkJyb3dzZXIucGl4ZWxSYXRpbykgLyBzSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnQgPSAoX2RhdGEueCAtIF9kYXRhLndpZHRoIC8gMikgKiB4YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3AgPSAoX2RhdGEueSArIHRoaXMub2Zmc2V0T3BlbkRvbWFpbi55IC0gX2RhdGEuaGVpZ2h0IC8gMikgKiB5YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IF9kYXRhLndpZHRoICogeGI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gKF9kYXRhLmhlaWdodCkgKiB5YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YS5pc0Z1bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSAoX2RhdGEueSArIHRoaXMub2Zmc2V0T3BlbkRvbWFpbi55IC8gMikgKiB5YjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZjA3MDNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidXR0b24gPSB3aW5kb3dbXCJ3eFwiXS5jcmVhdGVVc2VySW5mb0J1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idG5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5zLnB1c2goeyBcImJ1dHRvblwiOiBidXR0b24sIFwiaXNGdWxsXCI6IF9kYXRhLmlzRnVsbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5vblRhcCgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMudXNlckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEubmlja05hbWUgPSByZXMudXNlckluZm8ubmlja05hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLmdlbmRlciA9IHJlcy51c2VySW5mby5nZW5kZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLmF2YXRhclVybCA9IHJlcy51c2VySW5mby5hdmF0YXJVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0aXN0aWNzTWdyLmluc3RhbmNlLmF1dGhvclN0YXRpc3RpY3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1nci5pbnN0YW5jZS51cGRhdGVVc2VySW5mbygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ0bnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYnV0dG9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bnMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGEuc3VjY2Vzc0JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhLnN1Y2Nlc3NCYWNrLm1ldGhvZC5jYWxsKF9kYXRhLnN1Y2Nlc3NCYWNrLmNhbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3RvcnlBdXRob3JpemF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YS5mYWlsQmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEuZmFpbEJhY2subWV0aG9kLmNhbGwoX2RhdGEuZmFpbEJhY2suY2FsbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0b3J5QXV0aG9yaXphdGlvbigpe1xuICAgICAgICBpZighQ29uZmlnRGF0YS5yZXBlYXRBdXRob3JpemF0aW9uKXsgLy/lpoLmnpzkuI3pnIDopoHph43lpI3lvLnmjojmnYNcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNDcmVhdGVBdXRob3JpemF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmKHRoaXMuYnRucyl7XG4gICAgICAgICAgICAgICAgdGhpcy5idG5zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmJ1dHRvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnNldEF1dGhvcml6YXRpb25DaGVjayhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0QXV0aG9yaXphdGlvbkNoZWNrKGZsYWcpIHtcbiAgICAgICAgaWYgKHRoaXMuYnRucykge1xuICAgICAgICAgICAgdGhpcy5idG5zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYnV0dG9uLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYnV0dG9uLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHZpYnJhdGVTaG9ydCgpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb25maWdEYXRhLmlzVmlyYm9ydCkge1xuICAgICAgICAgICAgd2luZG93W1wid3hcIl0udmlicmF0ZVNob3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdmlicmF0ZUxvbmcoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29uZmlnRGF0YS5pc1ZpcmJvcnQpIHtcbiAgICAgICAgICAgIHdpbmRvd1tcInd4XCJdLnZpYnJhdGVMb25nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb3BlbkN1c3RvbWVyU2VydmljZUNvbnZlcnNhdGlvbigpe1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5vcGVuQ3VzdG9tZXJTZXJ2aWNlQ29udmVyc2F0aW9uKCk7XG4gICAgfVxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi8uLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgU291bmRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9Tb3VuZE1nclwiO1xyXG5pbXBvcnQgR2FtZU1nciBmcm9tIFwiLi4vLi4vbWdyM2QvR2FtZU1nclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uLy4uL3Rvb2xzL015VXRpbHNcIjtcclxuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuLi8uLi9tZ3JDb21tb24vRXZlbnRNZ3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdYTGF1bmNoIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgcHJpdmF0ZSB0b1Byb2Nlc3M6IG51bWJlciA9IDE7XHJcbiAgICBwcml2YXRlIHByb2dyZXNzOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBwcm9MYWJlbDogTGF5YS5MYWJlbDtcclxuICAgIHByaXZhdGUgdGlwTGFibGU6IExheWEuTGFiZWw7XHJcbiAgICBwcml2YXRlIHBybzogTGF5YS5JbWFnZTtcclxuICAgIHByaXZhdGUgc2NlbmUzZFVybDpzdHJpbmcgPSBcInJlczNkL0NvbnZlbnRpb25hbC9FYXRpdHVwLmxzXCJcclxuXHJcbiAgICBnZXRMYXVuY2hUaXBNc2coKSB7XHJcbiAgICAgICAgbGV0IHRpcHMgPSBbXHJcbiAgICAgICAgICAgIFwi5oyJ5L2P5bGP5bmV6IiM5aS05Lya5Ly46ZW/5ZOmXCIsXHJcbiAgICAgICAgICAgIFwi5pWy5aW9546p77yM5YC85b6X562J5b6F77yM5ZGxflwiXHJcbiAgICAgICAgXVxyXG4gICAgICAgIHJldHVybiB0aXBzW015VXRpbHMucmFuZG9tKDAsIHRpcHMubGVuZ3RoIC0gMSldO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBncm91cDogTGF5YS5Ob2RlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInByb2dyZXNzR3JvdXBcIik7XHJcbiAgICAgICAgdGhpcy5wcm8gPSBncm91cC5nZXRDaGlsZEJ5TmFtZShcInByb2dyZXNzXCIpIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgdGhpcy5wcm9MYWJlbCA9IGdyb3VwLmdldENoaWxkQnlOYW1lKFwicHJvTGFiXCIpIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgdGhpcy50aXBMYWJsZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBCZ1wiKS5nZXRDaGlsZEJ5TmFtZShcInRpcExhYlwiKSBhcyBMYXlhLkxhYmVsO1xyXG4gICAgICAgIHRoaXMudGlwTGFibGUudGV4dCA9IHRoaXMuZ2V0TGF1bmNoVGlwTXNnKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkUmVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUmVzKCkge1xyXG4gICAgICAgIHZhciByZXNvdXJjZTogQXJyYXk8YW55PiA9IFtcclxuICAgICAgICAgICAgeyB1cmw6IFwicmVzL2F0bGFzL3JhbmsuYXRsYXNcIiwgdHlwZTogTGF5YS5Mb2FkZXIuQVRMQVMgfSxcclxuICAgICAgICAgICAgeyB1cmw6IFwicmVzL2pzb24vY29uZmlnLmpzb25cIiwgdHlwZTogTGF5YS5Mb2FkZXIuSlNPTiB9LFxyXG4gICAgICAgICAgICB7IHVybDogXCJyZXMvbGFuZ3VhZ2UvXCIgKyBDb25maWdEYXRhLmxhbmd1YWdlICsgXCIuanNvblwiLCB0eXBlOiBMYXlhLkxvYWRlci5KU09OIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2FkVGFzazogYW55ID0gd2luZG93W1wid3hcIl0ubG9hZFN1YnBhY2thZ2Uoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3JlczNkJywgLy8gbmFtZSDlj6/ku6XloasgbmFtZSDmiJbogIUgcm9vdFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIhuWMheWKoOi9veaIkOWKn+WQjumAmui/hyBzdWNjZXNzIOWbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2FkVGFzazE6IGFueSA9IHdpbmRvd1tcInd4XCJdLmxvYWRTdWJwYWNrYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3JlcycsIC8vIG5hbWUg5Y+v5Lul5aGrIG5hbWUg5oiW6ICFIHJvb3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295oiQ5Yqf5ZCO6YCa6L+HIHN1Y2Nlc3Mg5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHJlc291cmNlLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKDAuOTkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlc0NvbXBsZXRlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKDAuNiArIHJlcyAqIDAuNClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295aSx6LSl6YCa6L+HIGZhaWwg5Zue6LCD5pe25by66KGM6YeN5paw5Yqg6L296LWE5rqQ77yM6L+Z5qC35omN6IO96L+b5ri45oiPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUYXNrMS5vblByb2dyZXNzVXBkYXRlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMC4zICsgcmVzLnByb2dyZXNzICogMC4wMDMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIhuWMheWKoOi9veWksei0pemAmui/hyBmYWlsIOWbnuiwg1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxvYWRUYXNrLm9uUHJvZ3Jlc3NVcGRhdGUocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MocmVzLnByb2dyZXNzICogMC4wMDMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQocmVzb3VyY2UsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcygwLjk5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlc0NvbXBsZXRlKClcclxuICAgICAgICAgICAgfSksIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyhyZXMpXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkUmVzQ29tcGxldGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/mnKzlnLDmuLjmiI/mlbDmja7phY3nva5cclxuICAgICAgICBDb25maWdEYXRhLmluaXRDb25maWdEYXRhKFxyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5nZXRSZXMoXCJyZXMvanNvbi9jb25maWcuanNvblwiKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIC8v6K+t6KiA5paH5Lu2XHJcbiAgICAgICAgQ29uZmlnRGF0YS5sYW5ndWFnZURhdGEgPSBMYXlhLkxvYWRlci5nZXRSZXMoXCJyZXMvanNvbi9cIiArIENvbmZpZ0RhdGEubGFuZ3VhZ2UgKyBcIi5qc29uXCIpO1xyXG4gICAgICAgIC8vIExheWEuU2NlbmUzRC5sb2FkKHRoaXMuc2NlbmUzZFVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLk9uM0RSZXNMb2FkQ29tcGxldGUpKTtcclxuICAgICAgICB0aGlzLk9uM0RSZXNMb2FkQ29tcGxldGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIE9uM0RSZXNMb2FkQ29tcGxldGUoc2NlbmU/OiBMYXlhLlNjZW5lM0QpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xyXG4gICAgICAgICAgICBMYXlhLk1pbmlBZHB0ZXIuc2VuZEF0bGFzVG9PcGVuRGF0YUNvbnRleHQoXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiKTsgLy/kvb/nlKjmjqXlj6PlsIblm77pm4bpgI/kvKDliLDlrZDln59cclxuICAgICAgICB9XHJcbiAgICAgICAgU291bmRNZ3IuaW5zdGFuY2UucGxheUJHTSgpO1xyXG5cclxuICAgICAgICAvLyBzY2VuZS5hZGRDb21wb25lbnQoR2FtZU1ncik7XHJcbiAgICAgICAgLy8gTGF5YS5zdGFnZS5hZGRDaGlsZEF0KHNjZW5lLDApO1xyXG4gICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJnb0hvbWVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcblx0XHQgKiDmm7TmlrDotYTmupDliqDovb3ov5vluqZcclxuXHRcdCAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVByb2dyZXNzKHByb2dyZXNzKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHByb2dyZXNzO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPiB0aGlzLnRvUHJvY2VzcyA/IHRoaXMudG9Qcm9jZXNzIDogdGhpcy5wcm9ncmVzcztcclxuICAgICAgICAvL+acgOmrmDEwMCXov5vluqZcclxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA+PSAxKSB7XHJcbiAgICAgICAgICAgIC8vIExheWEuVHdlZW4uY2xlYXJBbGwodGhpcy5wcm8pO1xyXG4gICAgICAgICAgICB0aGlzLnByb0xhYmVsLnRleHQgPSBcIua4uOaIj+WKoOi9veWujOavle+8jOWNs+Wwhui/m+WFpea4uOaIjy4uLlwiXHJcbiAgICAgICAgICAgIHRoaXMucHJvLndpZHRoID0gNTAwO1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgyLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIExheWEubG9hZGVyLmNsZWFyUmVzKFwibG9hZGluZy9sb2FkaW5nLmF0bGFzXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvLndpZHRoID0gNTAwICogdGhpcy5wcm9ncmVzcztcclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi5jbGVhckFsbCh0aGlzLnBybyk7XHJcbiAgICAgICAgICAgIC8vIExheWEuVHdlZW4udG8odGhpcy5wcm8se3dpZHRoOjUwMCAqIHRoaXMucHJvZ3Jlc3N9LDEwMCxMYXlhLkVhc2UubGluZWFyTm9uZSlcclxuICAgICAgICAgICAgLy/ov5vluqblop7liqBcclxuICAgICAgICAgICAgdGhpcy5wcm9MYWJlbC50ZXh0ID0gXCLotYTmupDliqDovb3kuK0uLi5cIiArIE1hdGguZmxvb3IodGhpcy5wcm9ncmVzcyAqIDEwMCkgKyBcIiVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXWFN1YkRvbWFpbiB7XHJcbiAgICBwcml2YXRlIHd4T3BlbkRhdGFWaWV3OiBMYXlhLldYT3BlbkRhdGFWaWV3ZXI7XHJcbiAgICBcclxuICAgIHNldE9wZW5WaWV3KF92KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldyA9IF92O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlRnJpZW5kUmFuaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJjbG9zZUZyaWVuZFJhbmtcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuRnJpZW5kUmFuaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTGF5YS50aW1lci5mcmFtZU9uY2UoMSwgdGhpcywgKCk9PiB7XHJcbiAgICAgICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwib3BlbkZyaWVuZFJhbmtcIiB9KTtcclxuICAgICAgICAvLyB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5HYW1lT3ZlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJvcGVuR2FtZU92ZXJcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUdhbWVPdmVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnBvc3RNc2coeyB0eXBlOiBcImNsb3NlR2FtZU92ZXJcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuU3VycGFzc090aGVyKF9kKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCAhdGhpcy53eE9wZW5EYXRhVmlldykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwib3BlblN1cnBhc3NPdGhlclwiICxkYXRhOl9kfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VTdXJwYXNzT3RoZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCAhdGhpcy53eE9wZW5EYXRhVmlldykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwiY2xvc2VTdXJwYXNzT3RoZXJcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuR29pbmdTdXJwYXNzT3RoZXIoX2QpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJvcGVuR29pbmdTdXJwYXNzT3RoZXJcIiAsZGF0YTpfZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlR29pbmdTdXJwYXNzT3RoZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCAhdGhpcy53eE9wZW5EYXRhVmlldykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwiY2xvc2VHb2luZ1N1cnBhc3NPdGhlclwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Qcm92b2NhdGlvbk90aGVyKF9kKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCAhdGhpcy53eE9wZW5EYXRhVmlldykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwib3BlblByb3ZvY2F0aW9uT3RoZXJcIiAsZGF0YTpfZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlUHJvdm9jYXRpb25PdGhlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJjbG9zZVByb3ZvY2F0aW9uT3RoZXJcIiB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vbW9kZWxzL1VzZXJEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh0dHBVdGlscyB7XG4gICAgcHVibGljIHJlcXVlc3QoX2QpIHtcbiAgICAgICAgdmFyIG1ldGggPSBfZC5tZXRoIHx8IFwicG9zdFwiXG4gICAgICAgIHZhciBkYXRhID0gX2QuZGF0YSB8fCB7fTtcbiAgICAgICAgdmFyIHVybCA9IFwiXCI7XG4gICAgICAgIGlmIChfZC51cmwuaW5kZXhPZihcImh0dHBzOi8vXCIpID4gLTEgfHxcbiAgICAgICAgICAgIF9kLnVybC5pbmRleE9mKFwiaHR0cDovL1wiKSA+IC0xKSB7XG4gICAgICAgICAgICB1cmwgPSBfZC51cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSBDb25maWdEYXRhLnNlcnZlclVybCArIF9kLnVybDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tcGxldGVGdW5jID0gKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKF9kLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ1cmw6XCIgKyB1cmwgK1wiIHJlczpcIiArIEpTT04uc3RyaW5naWZ5KHJlcykpO1xuICAgICAgICAgICAgICAgIF9kLmNhbGxiYWNrKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZC5jYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICBfZCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBlcnJvckZ1bmMgPSAocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoX2QuZmFpbCkgIHtcbiAgICAgICAgICAgICAgICBfZC5mYWlsKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZC5mYWlsID0gbnVsbDtcbiAgICAgICAgICAgIF9kID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgaWYoVXNlckRhdGEuc2Vzc2lvbklkKXtcbiAgICAgICAgICAgIGRhdGEuc2Vzc2lvbklkID0gVXNlckRhdGEuc2Vzc2lvbklkO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzZXNzaW9uSWTvvJpcIiArIFVzZXJEYXRhLnNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhocjogTGF5YS5IdHRwUmVxdWVzdCA9IG5ldyBMYXlhLkh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbmNlKExheWEuRXZlbnQuQ09NUExFVEUsIHRoaXMsIGNvbXBsZXRlRnVuYyk7XG4gICAgICAgIHhoci5vbmNlKExheWEuRXZlbnQuRVJST1IsIHRoaXMsIGVycm9yRnVuYyk7XG4gICAgICAgIHhoci5zZW5kKHVybCwgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG1ldGgsIFwianNvblwiLCBbXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIl0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXF1ZXN0U3RhdGlzdGljcyhfZCkge1xuICAgICAgICB2YXIgbWV0aCA9IF9kLm1ldGggfHwgXCJwb3N0XCJcbiAgICAgICAgdmFyIGRhdGEgPSBfZC5kYXRhIHx8IHt9O1xuICAgICAgICBfZC51cmwgPSBfZC51cmwgfHwgXCJcIlxuICAgICAgICB2YXIgdXJsID0gQ29uZmlnRGF0YS5zdGF0aXN0aWNzVXJsICsgX2QudXJsO1xuICAgICAgICAvLyB2YXIgY29tcGxldGVEZWwgPSAocmVzKSA9PiB7XG4gICAgICAgIC8vICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVybDpcIiArIHVybCArXCIgcmVzOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgIC8vICAgICAgICAgX2QuY2FsbGJhY2socmVzKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfTtcbiAgICAgICAgLy8gdmFyIGVycm9yRGVsID0gKHJlcykgPT4ge1xuICAgICAgICAvLyAgICAgaWYgKF9kLmZhaWwpICB7XG4gICAgICAgIC8vICAgICAgICAgX2QuZmFpbChyZXMpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9O1xuICAgICAgICBpZihVc2VyRGF0YS5zZXNzaW9uSWQpe1xuICAgICAgICAgICAgZGF0YS5zZXNzaW9uSWQgPSBVc2VyRGF0YS5zZXNzaW9uSWQ7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNlc3Npb25JZO+8mlwiICsgVXNlckRhdGEuc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyOiBMYXlhLkh0dHBSZXF1ZXN0ID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgLy8geGhyLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSwgdGhpcywgY29tcGxldGVEZWwpO1xuICAgICAgICAvLyB4aHIub25jZShMYXlhLkV2ZW50LkVSUk9SLCB0aGlzLCBlcnJvckRlbCk7XG4gICAgICAgIHhoci5zZW5kKHVybCwgXCJwYXJhbT1cIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpLCBtZXRoLCBcImpzb25cIiwgW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJdKTtcbiAgICB9XG5cbiAgICAvL+aLv+e6v+S4iua4uOaIj+eahGpzb27phY3liLZcblx0Z2V0UmVtb3RlSnNvbihfY2FsbGJhY2spIHtcblx0XHR2YXIgeGhyOiBMYXlhLkh0dHBSZXF1ZXN0ID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcblx0XHR4aHIub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCAoZGF0YSk9Pntcblx0XHRcdGlmKGRhdGEgJiYgdHlwZW9mIGRhdGEgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiKXtcblx0XHRcdFx0aWYoQ29uZmlnRGF0YS5qc29uVmVyc2lvbiAhPSBkYXRhLnZpc2lvbil7XG5cdFx0XHRcdFx0eGhyID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0XHR4aHIub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCAocmVzKT0+e1xuXHRcdFx0XHRcdFx0aWYocmVzICYmIHR5cGVvZiByZXMgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcmVzID09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF9jYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayhyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR4aHIuc2VuZChkYXRhLnBhdGgsbnVsbCxcImdldFwiLFwianNvblwiLFtcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIl0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0eGhyLnNlbmQoQ29uZmlnRGF0YS5qc29uVmVyc2lvblVybCxudWxsLFwiZ2V0XCIsXCJqc29uXCIsW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiXSk7XG5cblx0fVxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlMb2cge1xyXG4gICBcclxuICAgIHB1YmxpYyBzdGF0aWMgbG9nKGFyZzE/OiBhbnksYXJnMj86YW55KSB7XHJcbiAgICAgICAgaWYgKENvbmZpZ0RhdGEuaXNMb2cpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJnMSxhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlVdGlscyB7XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzTnVsbChvYmo6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAob2JqICE9IDAgJiYgKG9iaiA9PSBudWxsIHx8IG9iaiA9PSBcIlwiIHx8IG9iaiA9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgc3RhdGljIHJhbmRvbShtaW4sIG1heCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIG51bSA9IG1pbiArIE1hdGgucm91bmQocmFuZCAqIHJhbmdlKTsgLy/lm5voiI3kupTlhaVcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG5cbiAgICBcdFx0LyoqXG5cdFx0ICog5q+U6L6D54mI5pys5Y+377yM5qC85byPeHgueHgueHhcblx0XHQgKiBAcGFyYW0gdjEg5b2T5YmN54mI5pys5Y+3XG5cdFx0ICogQHBhcmFtIHYyIOebruagh+eJiOacrOWPt1xuICAgICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY29tcGFyZVZlcnNpb24odjEsIHYyKTogbnVtYmVyIHtcbiAgICAgICAgdjEgPSB2MS5zcGxpdCgnLicpXG4gICAgICAgIHYyID0gdjIuc3BsaXQoJy4nKVxuICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCh2MS5sZW5ndGgsIHYyLmxlbmd0aClcblxuICAgICAgICB3aGlsZSAodjEubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgICB2MS5wdXNoKCcwJylcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodjIubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgICB2Mi5wdXNoKCcwJylcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTEgPSBwYXJzZUludCh2MVtpXSlcbiAgICAgICAgICAgIGNvbnN0IG51bTIgPSBwYXJzZUludCh2MltpXSlcblxuICAgICAgICAgICAgaWYgKG51bTEgPiBudW0yKSB7XG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgfSBlbHNlIGlmIChudW0xIDwgbnVtMikge1xuICAgICAgICAgICAgcmV0dXJuIC0xXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIC8v6aG26YOo5oyJ6ZKu5a+56b2Q77yM5aSn5L2T6YCC6YWN5pivb2vnmoRcbiAgICBwdWJsaWMgc3RhdGljIGF1dG9TY3JlZW5TaXplKG5vZGU6IGFueVtdKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGxldCBpbmZvID0gQ29uZmlnRGF0YS5zeXN0ZW1JbmZvO1xuICAgICAgICBsZXQgWSA9IDYwO1xuICAgICAgICBpZiAoaW5mby5zdGF0dXNCYXJIZWlnaHQgPCAyMCkgeyAvLzE4XG4gICAgICAgICAgICBZICs9IDEwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZm8uc3RhdHVzQmFySGVpZ2h0ID49IDMwKSB7IC8vNDRcbiAgICAgICAgICAgIFkgKz0gNjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5mby5zdGF0dXNCYXJIZWlnaHQgPiAyMCAmJiBpbmZvLnN0YXR1c0JhckhlaWdodCA8IDMwKSB7IC8vMjdcbiAgICAgICAgICAgIFkgKz0gNzQ7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5mb3JFYWNoKGUgPT4geyAvLyAyMCAgXG4gICAgICAgICAgICBlLnkgPSBZO1xuICAgICAgICB9KVxuICAgIH1cblxuXG59IiwiaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuLi9tZ3JDb21tb24vVmlld01nclwiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVZpZXcgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgcHVibGljIGlzTXlCYXNlVmlldzpib29sZWFuID0gdHJ1ZVxuICAgIHByb3RlY3RlZCBfZGF0YTtcbiAgICBwcm90ZWN0ZWQgX2lzQ2xpY2s7XG4gICAgcHJvdGVjdGVkIHNoYXJlQnRuOiBMYXlhLkltYWdlO1xuICAgIHByb3RlY3RlZCBob21lQnRuOiBMYXlhLkltYWdlO1xuICAgIHByb3RlY3RlZCBva0J0bjogTGF5YS5JbWFnZTtcbiAgICBwcm90ZWN0ZWQgY2xvc2VCdG46IExheWEuSW1hZ2U7XG5cbiAgICBvbkF3YWtlKCk6IHZvaWQge1xuICAgICAgICAvL+WIoOmZpOaXtuiHquWKqOmHiuaUvlxuICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlZpZXcpLmF1dG9EZXN0cm95QXRDbG9zZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmFkZEV2ZW50KCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50KCk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBvcGVuVmlldyhkYXRhPzogYW55KTogdm9pZCB7XG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuVmlldykudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuVmlldykuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhIHx8IHt9O1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRFdmVudCgpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSBudWxsO1xuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyQWxsKHRoaXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVZpZXcoX2Q/OmFueSkge1xuICAgICAgICB2YXIgX3ZpZXdOYW1lOnN0cmluZyA9ICh0aGlzLm93bmVyIGFzIExheWEuVmlldykudXJsO1xuICAgICAgICBpZihfZCAmJiBfZC5ub3REZXN0cm95KXtcbiAgICAgICAgICAgIFZpZXdNZ3IuaW5zdGFuY2UuaGlkZVZpZXcoX3ZpZXdOYW1lKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBWaWV3TWdyLmluc3RhbmNlLmNsb3NlVmlldyhfdmlld05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmKF92aWV3TmFtZSA9PSBcIlJhbmsuc2NlbmVcIil7XG4gICAgICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcbiAgICAgICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFQSS5zZXRBdXRob3JpemF0aW9uQ2hlY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEgJiYgdGhpcy5fZGF0YS5jYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5fZGF0YS5jYWxsYmFjayhfZClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICBcblxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbkFuaW0gZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cblxuICAgIG9uQXdha2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMub3duZXIub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm9uRG93bik7XG4gICAgICAgIHRoaXMub3duZXIub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy5vblVwKTtcbiAgICAgICAgdGhpcy5vd25lci5vbihMYXlhLkV2ZW50Lk1PVVNFX09VVCwgdGhpcywgdGhpcy5vblVwKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMub3duZXIub2ZmQWxsKCk7XG4gICAgICAgIExheWEuVHdlZW4uY2xlYXJBbGwodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uRG93bigpOiB2b2lkIHtcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLm93bmVyLCB7IHNjYWxlWDogMC44LCBzY2FsZVk6IDAuOCB9LCAxMDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25VcCgpOiB2b2lkIHtcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLm93bmVyLCB7IHNjYWxlWDogMSwgc2NhbGVZOiAxIH0sIDEwMCk7XG4gICAgfVxufSIsImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi9CYXNlVmlld1wiO1xuaW1wb3J0IFRpcFZpZXcgZnJvbSBcIi4vVGlwVmlld1wiO1xuaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcbmltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSwgeyBNQUlOQlROU1RZUEUgfSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuLi9tZ3JDb21tb24vVmlld01nclwiO1xuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuLi9tZ3JDb21tb24vRXZlbnRNZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udmVyZ2VBZFZpZXcgZXh0ZW5kcyBCYXNlVmlldyB7XG4gICAgcHJpdmF0ZSBhcHBpZCA9IFwiXCI7Ly/pnIDopoHosIPovaznmoRBUFBJRFxuICAgIHByaXZhdGUgYWRMaXN0OiBMYXlhLkxpc3Q7XG5cbiAgICBvbkF3YWtlKCl7XG4gICAgICAgIHRoaXMuaG9tZUJ0biA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fY2xvc2VcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgTXlVdGlscy5hdXRvU2NyZWVuU2l6ZShbdGhpcy5ob21lQnRuXSk7XG5cbiAgICAgICAgdGhpcy5zaGFyZUJ0biA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJzaGFyZUJ0blwiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLm9rQnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bl9hZ2FpblwiKSBhcyBMYXlhLkltYWdlO1xuXG5cbiAgICAgICAgdGhpcy5hZExpc3QgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibGlzdFwiKSBhcyBMYXlhLkxpc3Q7XG4gICAgICAgIHRoaXMuYWRMaXN0LnZTY3JvbGxCYXJTa2luID0gJyc7XG4gICAgICAgIHRoaXMuYWRMaXN0LnNlbGVjdEVuYWJsZSA9IHRydWU7XG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXG4gICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFkTWdyLnNob3dCYW5uZXJBZE90aGVyKCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCl7XG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXG4gICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFkTWdyLmRlc3RvcnlBbGxCYW5uZXJBZCgpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYWRkRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuYWRMaXN0LnJlbmRlckhhbmRsZXIgPSBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIHRoaXMub25SZW5kZXIpO1xuICAgICAgICB0aGlzLmFkTGlzdC5tb3VzZUhhbmRsZXIgPSBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIHRoaXMub25DbGlja0l0ZW0pO1xuICAgICAgICB0aGlzLm9rQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25DbGlja0hvbWUpO1xuICAgICAgICB0aGlzLmhvbWVCdG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkNsaWNrSG9tZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUV2ZW50KCkge1xuICAgICAgICBzdXBlci5yZW1vdmVFdmVudCgpO1xuICAgICAgICB0aGlzLmFkTGlzdC5yZW5kZXJIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hZExpc3QubW91c2VIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5va0J0bi5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkNsaWNrSG9tZSk7XG4gICAgICAgIHRoaXMuaG9tZUJ0bi5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkNsaWNrSG9tZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW5WaWV3KGRhdGE/OiBhbnkpIHtcbiAgICAgICAgc3VwZXIub3BlblZpZXcoZGF0YSk7XG4gICAgICAgIHRoaXMuaG9tZUJ0bi52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGxldCBhbGxsbCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5hZExpc3QuYXJyYXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgYWxsbGwgPSBDb25maWdEYXRhLmdldEFERGF0YSgxMDA0KTtcbiAgICAgICAgICAgIHRoaXMuYWRMaXN0LmFycmF5ID0gYWxsbGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZExpc3QucmVmcmVzaCgpOy8v5Yi35paw5pWw5o2u5rqQXG4gICAgICAgIHRoaXMuYWRMaXN0LnNjcm9sbFRvKDApOyAvL+esrOS4gOS4quaYvuekuueahCDkvY3nva5cbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsIHRoaXMsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzICYmIHRoaXMuaG9tZUJ0bikge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9tZUJ0bi52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DbGlja0hvbWUoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VWaWV3KCk7XG4gICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJnb0hvbWVcIik7XG4gICAgfVxuXG4gICAgcHVibGljIG9rQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuY2xvc2VWaWV3KCk7XG4gICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJnYW1lU3RhcnRcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiDljZXkuKogYm94IOeCueWHu+S6i+S7tlxuICAgICovXG4gICAgcHJpdmF0ZSBvbkNsaWNrSXRlbShlOiBMYXlhLkV2ZW50LCBpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChlLnR5cGUgPT0gTGF5YS5FdmVudC5DTElDSykge1xuICAgICAgICAgICAgaWYgKChlLnRhcmdldCkgaW5zdGFuY2VvZiBMYXlhLkJveCkge1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHRoaXMuYWRMaXN0LmFycmF5W2luZGV4XS50b0xpbmtzLFxuICAgICAgICAgICAgICAgICAgICBhcHBpZDogdGhpcy5hZExpc3QuYXJyYXlbaW5kZXhdLmFwcGlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLm5hdmlnYXRlVG9NaW5pUHJvZ3JhbShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgb25SZW5kZXIoY2VsbDogTGF5YS5Cb3gsIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5hZExpc3QuYXJyYXkubGVuZ3RoICYmIHRoaXMuYWRMaXN0LmFycmF5Lmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmFkTGlzdC5hcnJheVtpbmRleF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGltZyA9IGNlbGwuZ2V0Q2hpbGRCeU5hbWUoXCJpbWdcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgICAgIGltZy5za2luID0gdGhpcy5hZExpc3QuYXJyYXlbaW5kZXhdLnBhcmFtO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XHJcbmltcG9ydCBXWFN1YkRvbWFpbiBmcm9tIFwiLi4vcGxhdGZvcm0vd3gvV1hTdWJEb21haW5cIjtcclxuaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRmlnaHRpbmcgZXh0ZW5kcyBCYXNlVmlldyB7XHJcbiAgICBwcml2YXRlIHN1cnBhc3NPdGhlcjtcclxuICAgIHByaXZhdGUgcHJvdm9jYXRpb25PdGhlcjtcclxuICAgIFxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHN1cGVyLm9uQXdha2UoKTtcclxuICAgICAgICB0aGlzLnN1cnBhc3NPdGhlciA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJzdXJwYXNzT3RoZXJcIik7XHJcbiAgICAgICAgdGhpcy5wcm92b2NhdGlvbk90aGVyID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInByb3ZvY2F0aW9uT3RoZXJcIik7XHJcbiAgICAgICAgdGhpcy5wcm92b2NhdGlvbk90aGVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN1cnBhc3NPdGhlci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZEF0KHRoaXMub3duZXIsMSlcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIG9wZW5Qcm92b2NhdGlvbk90aGVyKF90eXBlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcm92b2NhdGlvbk90aGVyLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU2NlbmUpLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5zZXRPcGVuVmlldyh0aGlzLnByb3ZvY2F0aW9uT3RoZXIpO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5vcGVuUHJvdm9jYXRpb25PdGhlcihfdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VQcm92b2NhdGlvbk90aGVyKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnByb3ZvY2F0aW9uT3RoZXIudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5jbG9zZVByb3ZvY2F0aW9uT3RoZXIoKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBvcGVuU3VycGFzc090aGVyKF90eXBlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdXJwYXNzT3RoZXIudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TY2VuZSkudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLnNldE9wZW5WaWV3KHRoaXMuc3VycGFzc090aGVyKTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4ub3BlblN1cnBhc3NPdGhlcih7XHJcbiAgICAgICAgICAgIF90eXBlOl90eXBlLFxyXG4gICAgICAgICAgICB2YWw6LTF9KTtcclxuICAgIH1cclxuICAgICAgICBcclxuICAgIGNsb3NlU3VycGFzc090aGVyKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnN1cnBhc3NPdGhlci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLmNsb3NlU3VycGFzc090aGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU92ZXJWaWV3IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBcclxufSIsImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi9CYXNlVmlld1wiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29sZGVuRWdnVmlldyBleHRlbmRzIEJhc2VWaWV3e1xuXHRwcml2YXRlIGNsaWNrQ291bnQ6bnVtYmVyID0gMDtcblx0cHJpdmF0ZSBwcm9ncmVzc051bTpudW1iZXI7XG5cdHByaXZhdGUgYmFyO1xuXHRwcml2YXRlIGhhbW1lckFuaW07XG5cblx0b25Bd2FrZSgpe1xuXHRcdHRoaXMuY2xpY2tDb3VudCA9IDA7XG5cdFx0dGhpcy5wcm9ncmVzc051bSA9IDA7XG5cdFx0XG5cdFx0TGF5YS50aW1lci5mcmFtZUxvb3AoMjUsIHRoaXMsICgpPT57XG5cdFx0XHRpZih0aGlzIT1udWxsJiZ0aGlzIT11bmRlZmluZWQpe1xuXHRcdFx0XHR0aGlzLnByb2dyZXNzTnVtIC09IDAuMDY7XG5cdFx0XHRcdHRoaXMudXBkYXRhUHJvZ3Jlc3MoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRcblx0XHRsZXQgYW5jaG9yUyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJhbmNob3JTXCIpIGFzIExheWEuSW1hZ2U7XG5cdFx0bGV0IG9mZnNldFk6bnVtYmVyID0gMDtcblx0XHRpZihQbGF0Zm9ybU1nci5wdEFQSSlcblx0XHRcdG9mZnNldFkgPSBQbGF0Zm9ybU1nci5wdEFQSS5nZXRPZmZzZXRPcGVuRG9tYWluKCk7XG5cdFx0YW5jaG9yUy55ID0gYW5jaG9yUy55ICsgb2Zmc2V0WTtcblx0XHR0aGlzLm9rQnRuID0gYW5jaG9yUy5nZXRDaGlsZEJ5TmFtZShcIm9rQnRuXCIpIGFzIExheWEuSW1hZ2U7XG5cblx0XHR0aGlzLmNsb3NlQnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImNsb3NlQnRuXCIpIGFzIExheWEuSW1hZ2U7XG5cdFx0dGhpcy5iYXIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYmFyXCIpIGFzIExheWEuSW1hZ2U7XG5cdFx0dGhpcy5oYW1tZXJBbmltID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImltZ19oYW1tZXJcIikgYXMgTGF5YS5JbWFnZTtcblx0fVxuXG5cdHB1YmxpYyBhZGRFdmVudCgpIHtcblx0XHR0aGlzLm9rQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLmJ0bkNsaWNrKTtcblx0XHR0aGlzLmNsb3NlQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLmNsb3NlVmlldyk7XG5cdH1cblxuXHRvcGVuVmlldyhfZCl7XG5cdFx0c3VwZXIub3BlblZpZXcoX2QpO1xuXHRcdGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXG5cdFx0XHRQbGF0Zm9ybU1nci5wdEFkTWdyLmxvYWRCYW5uZXJBZEhvbWUoKTtcblx0fVxuXG5cdGJ0bkNsaWNrKCk6dm9pZHtcblx0XHR0aGlzLmNsaWNrQ291bnQrKztcblx0XHRpZih0aGlzLmNsaWNrQ291bnQ+MTQpe1xuXHRcdFx0Ly/lvLnlh7rmoYZcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5wcm9ncmVzc051bSArPSAwLjE7XG5cdFx0aWYodGhpcy5wcm9ncmVzc051bT49MSl7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVx0XG5cdFx0dGhpcy5oYW1tZXJBbmltLnBsYXkoMCxmYWxzZSk7XG5cdFx0dGhpcy51cGRhdGFQcm9ncmVzcygpO1xuXHR9XG5cblx0dXBkYXRhUHJvZ3Jlc3MoKTp2b2lke1xuXHRcdGlmKHRoaXMucHJvZ3Jlc3NOdW0+PTEpe1xuXHRcdFx0dGhpcy5wcm9ncmVzc051bSA9IDE7XG5cdFx0fWVsc2UgaWYodGhpcy5wcm9ncmVzc051bTw9MC4wNyl7XG5cdFx0XHR0aGlzLnByb2dyZXNzTnVtID0gMC4wNztcblx0XHR9XG5cdFx0dGhpcy5iYXIuaGVpZ2h0ID0gMzc1ICogdGhpcy5wcm9ncmVzc051bTtcblx0fVxuXG5cdGNsb3NlKCk6dm9pZHtcblx0XHRzdXBlci5jbG9zZVZpZXcoKTtcblx0XHRpZihQbGF0Zm9ybU1nci5wdEFkTWdyKVxuXHRcdFx0UGxhdGZvcm1NZ3IucHRBZE1nci5zaG93QmFubmVyQWRIb21lKCk7XG5cdH1cblxufSIsImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi9CYXNlVmlld1wiO1xyXG5pbXBvcnQgQ29uZmlnRGF0YSwgeyBTT1JUVFlQRSB9IGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgUGxhdGZvcm1NZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xyXG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9FdmVudE1nclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IFNvdW5kTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vU291bmRNZ3JcIjtcclxuaW1wb3J0IEdhbWVGaWdodGluZyBmcm9tIFwiLi9HYW1lRmlnaHRpbmdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5WaWV3TGFuZHNjYXBlIGV4dGVuZHMgQmFzZVZpZXcge1xyXG4gICAgcHJpdmF0ZSBidG5Tb3VuZDpMYXlhLkJ1dHRvbjtcclxuICAgIHByaXZhdGUgYnRuVmlyYm9ydDpMYXlhLkJ1dHRvbjtcclxuICAgIHByaXZhdGUgc291bmRPcGVuOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSBzb3VuZENsb3NlOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSB2aXJib3J0T3BlbjogTGF5YS5JbWFnZTtcclxuICAgIHByaXZhdGUgdmlyYm9ydENsb3NlOiBMYXlhLkltYWdlO1xyXG5cclxuICAgIHByaXZhdGUgYnRuSW52aXRlOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5TZXJ2aWNlOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5SYW5rOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5Db2xsZWN0OkxheWEuQnV0dG9uO1xyXG5cclxuICAgIHByaXZhdGUgYnRuU3RhcnQ6TGF5YS5CdXR0b247XHJcblxyXG4gICAgcHJpdmF0ZSBnYW1lRmlnaHRpbmc6TGF5YS5TY2VuZTtcclxuICAgIHByaXZhdGUgZ2FtZUZpZ2h0aW5nQ29tOkdhbWVGaWdodGluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgXHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uQXdha2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idG5Tb3VuZCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5Tb3VuZFwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLnNvdW5kT3BlbiA9IHRoaXMuYnRuU291bmQuZ2V0Q2hpbGRCeU5hbWUoXCJvcGVuXCIpIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgdGhpcy5zb3VuZENsb3NlID0gdGhpcy5idG5Tb3VuZC5nZXRDaGlsZEJ5TmFtZShcImNsb3NlXCIpIGFzIExheWEuSW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuVmlyYm9ydCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5WaXJib3J0XCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMudmlyYm9ydE9wZW4gPSB0aGlzLmJ0blZpcmJvcnQuZ2V0Q2hpbGRCeU5hbWUoXCJvcGVuXCIpIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UgPSB0aGlzLmJ0blZpcmJvcnQuZ2V0Q2hpbGRCeU5hbWUoXCJjbG9zZVwiKSBhcyBMYXlhLkltYWdlO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kQ2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzU291bmQ7XHJcbiAgICAgICAgdGhpcy5zb3VuZE9wZW4udmlzaWJsZSA9IENvbmZpZ0RhdGEuaXNTb3VuZDtcclxuXHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICB0aGlzLnZpcmJvcnRPcGVuLnZpc2libGUgPSBDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuYnRuSW52aXRlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bkludml0ZVwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJ0blNlcnZpY2UgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuU2VydmljZVwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJ0blJhbmsgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuUmFua1wiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJ0bkNvbGxlY3QgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuQ29sbGVjdFwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blN0YXJ0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blN0YXJ0XCIpIGFzIExheWEuQnV0dG9uO1xyXG5cclxuICAgICAgICBNeVV0aWxzLmF1dG9TY3JlZW5TaXplKFt0aGlzLmJ0blNvdW5kLHRoaXMuYnRuVmlyYm9ydF0pO1xyXG5cclxuICAgICAgICBMYXlhLlNjZW5lLmxvYWQoXCJHYW1lRmlnaHRpbmcuc2NlbmVcIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKHNjZW5lOkxheWEuU2NlbmUpPT57XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQoc2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWdodGluZyA9IHNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWdodGluZ0NvbSA9IHNjZW5lLmdldENvbXBvbmVudChHYW1lRmlnaHRpbmcpO1xyXG4gICAgICAgICAgICAgc2NlbmUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3Iuc2hvd0Jhbm5lckFkSG9tZSgpO1xyXG4gICAgfSAgXHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50KCkge1xyXG4gICAgICAgIHRoaXMuYnRuU291bmQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zb3VuZEJ0bkNsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0blZpcmJvcnQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy52aXJib3J0QnRuQ2xpY2spO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYnRuUmFuay5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnJhbmtDbGljayk7XHJcbiAgICAgICAgdGhpcy5idG5TZXJ2aWNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuc2VydmljZUNsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0bkludml0ZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmludml0ZUNsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0bkNvbGxlY3Qub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5jb2xsZWN0Q2xpY2spO1xyXG5cclxuICAgICAgICB0aGlzLmJ0blN0YXJ0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuc3RhcnRDbGljayk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgY29sbGVjdENsaWNrKCkge1xyXG4gICAgICAgIC8vIHRoaXMuZ2FtZUZpZ2h0aW5nQ29tLm9wZW5Qcm92b2NhdGlvbk90aGVyKFNPUlRUWVBFLkVORExFU1MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xyXG4gICAgICAgICAgICB2aWV3TmFtZTogXCJSZXN1cmdlbmNlLnNjZW5lXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xyXG4gICAgICAgICAgICB2aWV3TmFtZTogXCJDb2xsZWN0LnNjZW5lXCIsXHJcbiAgICAgICAgICAgIGNsb3NlQWxsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdmlyYm9ydEJ0bkNsaWNrKCkge1xyXG4gICAgICAgIENvbmZpZ0RhdGEuaXNWaXJib3J0ID0gIUNvbmZpZ0RhdGEuaXNWaXJib3J0O1xyXG4gICAgICAgIHRoaXMudmlyYm9ydENsb3NlLnZpc2libGUgPSAhQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgdGhpcy52aXJib3J0T3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5zZXRWaXJib3J0KENvbmZpZ0RhdGEuaXNWaXJib3J0ID8gXCJcIiA6IFwiMVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNvdW5kQnRuQ2xpY2soKSB7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pc1NvdW5kID0gIUNvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzU291bmQ7XHJcbiAgICAgICAgdGhpcy5zb3VuZE9wZW4udmlzaWJsZSA9IENvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICBpZihDb25maWdEYXRhLmlzU291bmQpe1xyXG4gICAgICAgICAgICBDb25maWdEYXRhLnNldFNvdW5kKFwiMVwiKTtcclxuICAgICAgICAgICAgU291bmRNZ3IuaW5zdGFuY2UucGxheUJHTSgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuc2V0U291bmQoXCJcIik7XHJcbiAgICAgICAgICAgIFNvdW5kTWdyLmluc3RhbmNlLnN0b3BCR00oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbnZpdGVDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBfZCA9IHtcclxuICAgICAgICAgICAgY2FsbGVyOnRoaXMsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOihyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBpZighcmVzLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZTogXCJ1aVZpZXdzL1RpcFZpZXcuc2NlbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBcIuWIhuS6q+Wksei0pVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLnNoYXJlQXBwTWVzc2FnZShfZCwxKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlcnZpY2VDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLm9wZW5DdXN0b21lclNlcnZpY2VDb252ZXJzYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJhbmtDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgIHZpZXdOYW1lOiBcIlJhbmsuc2NlbmVcIixcclxuICAgICAgICAgICAgY2xvc2VBbGw6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QVBJKVxyXG4gICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFQSS5kZXN0b3J5QXV0aG9yaXphdGlvbigpO1xyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3IuZGVzdG9yeUFsbEJhbm5lckFkKCk7XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdhbWVTdGFydFwiKTtcclxuICAgICAgICBWaWV3TWdyLmluc3RhbmNlLm9wZW5WaWV3KHtcclxuICAgICAgICAgICAgdmlld05hbWU6IFwiR2FtZUZpZ2h0aW5nLnNjZW5lXCIsXHJcbiAgICAgICAgICAgIGNsb3NlQWxsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudCgpIHtcclxuICAgICAgICBzdXBlci5yZW1vdmVFdmVudCgpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi9CYXNlVmlld1wiO1xyXG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcclxuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcclxuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuLi9tZ3JDb21tb24vRXZlbnRNZ3JcIjtcclxuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9WaWV3TWdyXCI7XHJcbmltcG9ydCBTb3VuZE1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1NvdW5kTWdyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVmlld1ZlcnRpY2FsIGV4dGVuZHMgQmFzZVZpZXcge1xyXG4gICAgcHJpdmF0ZSBidG5Tb3VuZDpMYXlhLkJ1dHRvbjtcclxuICAgIHByaXZhdGUgYnRuVmlyYm9ydDpMYXlhLkJ1dHRvbjtcclxuICAgIHByaXZhdGUgc291bmRPcGVuOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSBzb3VuZENsb3NlOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSB2aXJib3J0T3BlbjogTGF5YS5JbWFnZTtcclxuICAgIHByaXZhdGUgdmlyYm9ydENsb3NlOiBMYXlhLkltYWdlO1xyXG5cclxuICAgIHByaXZhdGUgYnRuSW52aXRlOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5TZXJ2aWNlOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5SYW5rOkxheWEuQnV0dG9uO1xyXG5cclxuICAgIHByaXZhdGUgYnRuU3RhcnQ6TGF5YS5CdXR0b247XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkF3YWtlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYnRuU291bmQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuU291bmRcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdGhpcy5zb3VuZE9wZW4gPSB0aGlzLmJ0blNvdW5kLmdldENoaWxkQnlOYW1lKFwib3BlblwiKSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIHRoaXMuc291bmRDbG9zZSA9IHRoaXMuYnRuU291bmQuZ2V0Q2hpbGRCeU5hbWUoXCJjbG9zZVwiKSBhcyBMYXlhLkltYWdlO1xyXG5cclxuICAgICAgICB0aGlzLmJ0blZpcmJvcnQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuVmlyYm9ydFwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLnZpcmJvcnRPcGVuID0gdGhpcy5idG5WaXJib3J0LmdldENoaWxkQnlOYW1lKFwib3BlblwiKSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIHRoaXMudmlyYm9ydENsb3NlID0gdGhpcy5idG5WaXJib3J0LmdldENoaWxkQnlOYW1lKFwiY2xvc2VcIikgYXMgTGF5YS5JbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZENsb3NlLnZpc2libGUgPSAhQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG4gICAgICAgIHRoaXMuc291bmRPcGVuLnZpc2libGUgPSBDb25maWdEYXRhLmlzU291bmQ7XHJcblxyXG4gICAgICAgIHRoaXMudmlyYm9ydENsb3NlLnZpc2libGUgPSAhQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgdGhpcy52aXJib3J0T3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICBcclxuICAgICAgICB0aGlzLmJ0bkludml0ZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5JbnZpdGVcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdGhpcy5idG5TZXJ2aWNlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blNlcnZpY2VcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdGhpcy5idG5SYW5rID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blJhbmtcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idG5TdGFydCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5TdGFydFwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuXHJcbiAgICAgICAgTXlVdGlscy5hdXRvU2NyZWVuU2l6ZShbdGhpcy5idG5Tb3VuZCx0aGlzLmJ0blZpcmJvcnRdKTtcclxuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFkTWdyKVxyXG4gICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFkTWdyLnNob3dCYW5uZXJBZEhvbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5idG5Tb3VuZC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnNvdW5kQnRuQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuVmlyYm9ydC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnZpcmJvcnRCdG5DbGljayk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idG5JbnZpdGUub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5pbnZpdGVDbGljayk7XHJcbiAgICAgICAgdGhpcy5idG5TZXJ2aWNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuc2VydmljZUNsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0blJhbmsub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5yYW5rQ2xpY2spO1xyXG5cclxuICAgICAgICB0aGlzLmJ0blN0YXJ0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuc3RhcnRDbGljayk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgdmlyYm9ydEJ0bkNsaWNrKCkge1xyXG4gICAgICAgIENvbmZpZ0RhdGEuaXNWaXJib3J0ID0gIUNvbmZpZ0RhdGEuaXNWaXJib3J0O1xyXG4gICAgICAgIHRoaXMudmlyYm9ydENsb3NlLnZpc2libGUgPSAhQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgdGhpcy52aXJib3J0T3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5zZXRWaXJib3J0KENvbmZpZ0RhdGEuaXNWaXJib3J0ID8gXCJcIiA6IFwiMVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNvdW5kQnRuQ2xpY2soKSB7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pc1NvdW5kID0gIUNvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzU291bmQ7XHJcbiAgICAgICAgdGhpcy5zb3VuZE9wZW4udmlzaWJsZSA9IENvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICBpZihDb25maWdEYXRhLmlzU291bmQpe1xyXG4gICAgICAgICAgICBDb25maWdEYXRhLnNldFNvdW5kKFwiMVwiKTtcclxuICAgICAgICAgICAgU291bmRNZ3IuaW5zdGFuY2UucGxheUJHTSgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuc2V0U291bmQoXCJcIik7XHJcbiAgICAgICAgICAgIFNvdW5kTWdyLmluc3RhbmNlLnN0b3BCR00oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbnZpdGVDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBfZCA9IHtcclxuICAgICAgICAgICAgY2FsbGVyOnRoaXMsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOihyZXMpPT57XHJcbiAgICAgICAgICAgICAgICBpZighcmVzLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZTogXCJ1aVZpZXdzL1RpcFZpZXcuc2NlbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBcIuWIhuS6q+Wksei0pVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLnNoYXJlQXBwTWVzc2FnZShfZCwxKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlcnZpY2VDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLm9wZW5DdXN0b21lclNlcnZpY2VDb252ZXJzYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJhbmtDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSg1MDAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgIHZpZXdOYW1lOiBcIlJhbmsuc2NlbmVcIixcclxuICAgICAgICAgICAgY2xvc2VBbGw6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNDbGljaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QVBJKVxyXG4gICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFQSS5kZXN0b3J5QXV0aG9yaXphdGlvbigpO1xyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3IuZGVzdG9yeUFsbEJhbm5lckFkKCk7XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdhbWVTdGFydFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnQoKSB7XHJcbiAgICAgICAgc3VwZXIucmVtb3ZlRXZlbnQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XHJcbmltcG9ydCB7IFNPUlRUWVBFIH0gZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcbmltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi9CYXNlVmlld1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzdXJnZW5jZSBleHRlbmRzIEJhc2VWaWV3IHtcclxuICAgIHByaXZhdGUgZ29pbmdTdXJwYXNzT3RoZXI7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBvbkF3YWtlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm9uQXdha2UoKTtcclxuICAgICAgICB0aGlzLmdvaW5nU3VycGFzc090aGVyID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImdvaW5nU3VycGFzc090aGVyXCIpO1xyXG4gICAgICAgIHRoaXMuZ29pbmdTdXJwYXNzT3RoZXIudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgb3BlblZpZXcoZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm9wZW5WaWV3KGRhdGEpO1xyXG4gICAgICAgIHRoaXMub3BlbkdvaW5nU3VycGFzc090aGVyKFNPUlRUWVBFLkVORExFU1MpO1xyXG4gICAgfVxyXG4gICAgIFxyXG4gICAgb3BlbkdvaW5nU3VycGFzc090aGVyKF90eXBlKTogdm9pZCB7XHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TY2VuZSkudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5nb2luZ1N1cnBhc3NPdGhlci52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4uc2V0T3BlblZpZXcodGhpcy5nb2luZ1N1cnBhc3NPdGhlcik7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLm9wZW5Hb2luZ1N1cnBhc3NPdGhlcihfdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VHb2luZ1N1cnBhc3NPdGhlcigpOnZvaWR7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLmNsb3NlR29pbmdTdXJwYXNzT3RoZXIoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpcFZpZXcgZXh0ZW5kcyAgQmFzZVZpZXcge1xuICAgIHByaXZhdGUgdGlwTGJsOkxheWEuTGFiZWw7XG4gICAgXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIub25Bd2FrZSgpO1xuICAgICAgICB0aGlzLnRpcExibCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJpbWFnZVwiKS5nZXRDaGlsZEJ5TmFtZShcIkxhYmVsXCIpIGFzIExheWEuTGFiZWw7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBhZGRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5vd25lci5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcbiAgICAgICAgICAgIHRoaXMuY2xvc2VWaWV3KCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgb3BlblZpZXcoc3RyPzogYW55KXtcbiAgICAgICAgc3VwZXIub3BlblZpZXcoc3RyKTtcbiAgICAgICAgdGhpcy50aXBMYmwudGV4dCA9IHN0cjtcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDIwMDAsdGhpcywoKT0+e1xuICAgICAgICAgICAgdGhpcy5jbG9zZVZpZXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi8uLi90b29scy9NeVV0aWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmtJdGVtIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xuICAgIHByaXZhdGUgYmdJbWc6IExheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSByYW5rSW1nOiBMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgcmFua0xhYjogTGF5YS5MYWJlbDtcblxuICAgIHByaXZhdGUgYXZhdGFySW1nOiBMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgbmFtZUxhYjogTGF5YS5MYWJlbDtcblxuICAgIHByaXZhdGUgc2NvcmVMYWI6IExheWEuTGFiZWw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgXG4gICAgICAgIHN1cGVyKCk7IFxuICAgIH1cbiAgICBcbiAgICBvbkF3YWtlKCl7XG4gICAgICAgIHRoaXMuYmdJbWcgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiaW1nQmdcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy5yYW5rSW1nID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInJhbmtJbWdcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy5yYW5rTGFiID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInJhbmtMYWJcIikgYXMgTGF5YS5MYWJlbDtcbiAgICBcbiAgICAgICAgdGhpcy5hdmF0YXJJbWcgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYXZhdGFySW1nXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMubmFtZUxhYiA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lTGFiXCIpIGFzIExheWEuTGFiZWw7XG4gICAgXG4gICAgICAgIHRoaXMuc2NvcmVMYWIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwic2NvcmVMYWJcIikgYXMgTGF5YS5MYWJlbDtcblxuICAgIH1cblxuICAgIHVwZGF0ZUl0ZW0oaXRlbURhdGEpe1xuICAgICAgICB0aGlzLm93bmVyLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMucmFua0ltZy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmFua0xhYi50ZXh0ID0gaXRlbURhdGEuaW5kZXh8fCBcIlxi5pyq5LiK5qacXCI7XG4gICAgICAgIHN3aXRjaChpdGVtRGF0YS5pbmRleCl7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5rTGFiLnRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMucmFua0ltZy5za2luID0gXCJyYW5rL1wiKyBpdGVtRGF0YS5pbmRleCArXCIucG5nXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5rSW1nLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIU15VXRpbHMuaXNOdWxsKGl0ZW1EYXRhLmhlYWRJbWFnZSkmJml0ZW1EYXRhLmhlYWRJbWFnZSE9XCJ5b3VrZVwiKSB7XG4gICAgICAgICAgICBsZXQgYXZhdGFyVXJsID0gaXRlbURhdGEuaGVhZEltYWdlLnJlcGxhY2UoXCIvMTMyXCIsIFwiLzQ2XCIpO1xuICAgICAgICAgICAgdGhpcy5hdmF0YXJJbWcuc2tpbiA9IGF2YXRhclVybDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWVMYWIudGV4dCA9IGl0ZW1EYXRhLm5pY2tuYW1lID8gaXRlbURhdGEubmlja25hbWUgOiBcIuelnuenmOeOqeWutlwiO1xuXG4gICAgICAgIHRoaXMuc2NvcmVMYWIudGV4dCA9IGl0ZW1EYXRhLnNjb3JlO1xuICAgIH1cblxuICAgIGNsZWFuKCl7XG4gICAgICAgIHRoaXMub3duZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxufSIsImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi4vQmFzZVZpZXdcIjtcbmltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFdYU3ViRG9tYWluIGZyb20gXCIuLi8uLi9wbGF0Zm9ybS93eC9XWFN1YkRvbWFpblwiO1xuaW1wb3J0IEh0dHBNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9IdHRwTWdyXCI7XG5pbXBvcnQgUmFua0l0ZW0gZnJvbSBcIi4vUmFua0l0ZW1cIjtcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmtWaWV3IGV4dGVuZHMgQmFzZVZpZXcge1xuICAgIHByaXZhdGUgZnJpZW5kQnRuOkxheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSB3b3JsZEJ0bjpMYXlhLkltYWdlO1xuXG4gICAgcHJpdmF0ZSBzZWxlY3RGcmllbmRSYW5rOiBMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgbm9ybWFsRnJpZW5kUmFuazogTGF5YS5JbWFnZTtcblxuICAgIHByaXZhdGUgc2VsZWN0V29ybGRSYW5rOiBMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgbm9ybWFsV29ybGRSYW5rOiBMYXlhLkltYWdlO1xuXG4gICAgXG4gICAgcHJpdmF0ZSB3b3JsZFJhbms6TGF5YS5JbWFnZTtcbiAgICBwcml2YXRlIHdvcmxkRGF0YTpBcnJheTxhbnk+O1xuICAgIHByaXZhdGUgd3hPcGVuRGF0YVZpZXc6IExheWEuV1hPcGVuRGF0YVZpZXdlcjtcbiAgICBcbiAgICBwcml2YXRlIHdvcmxkUmFua0xpc3Q6IExheWEuTGlzdDtcblxuICAgIHByaXZhdGUgc2VsZlJhbmtTcHJpdGU7XG4gICAgcHJpdmF0ZSBzZWxmUmFua0lUZW06UmFua0l0ZW07XG4gICAgcHJpdmF0ZSBzZWxmUmFua0RhdGE7XG4gICAgXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIub25Bd2FrZSgpO1xuICAgICAgICB0aGlzLmNsb3NlQnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bkNsb3NlXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwid3hPcGVuRGF0YVZpZXdcIikgYXMgTGF5YS5XWE9wZW5EYXRhVmlld2VyO1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjb250ZW50XCIpXG4gICAgICAgIFxuICAgICAgICB0aGlzLmZyaWVuZEJ0biA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJmcmllbmRCdG5cIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy53b3JsZEJ0biA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ3b3JsZEJ0blwiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLnNlbGVjdEZyaWVuZFJhbmsgPSBub2RlLmdldENoaWxkQnlOYW1lKFwic2VsZWN0RnJpZW5kUmFua1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLm5vcm1hbEZyaWVuZFJhbmsgPSBub2RlLmdldENoaWxkQnlOYW1lKFwibm9ybWFsRnJpZW5kUmFua1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLnNlbGVjdFdvcmxkUmFuayA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzZWxlY3RXb3JsZFJhbmtcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy5ub3JtYWxXb3JsZFJhbmsgPSBub2RlLmdldENoaWxkQnlOYW1lKFwibm9ybWFsV29ybGRSYW5rXCIpIGFzIExheWEuSW1hZ2U7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IHt5OjB9O1xuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcbiAgICAgICAgICAgIG9mZnNldCA9IFBsYXRmb3JtTWdyLnB0QVBJLmdldE9mZnNldE9wZW5Eb21haW4oKVxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnkgPSB0aGlzLnd4T3BlbkRhdGFWaWV3LnkgICsgb2Zmc2V0LnkvMjtcbiAgICAgICAgXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5zZXRPcGVuVmlldyh0aGlzLnd4T3BlbkRhdGFWaWV3KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdCA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ3b3JsZFJhbmtMaXN0XCIpIGFzIExheWEuTGlzdDtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0LmFycmF5ID0gW107XG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdC5yZW5kZXJIYW5kbGVyID0gbmV3IExheWEuSGFuZGxlcih0aGlzLCB0aGlzLm9uUmVuZGVyKTtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0LnZTY3JvbGxCYXJTa2luID0gXCJcIjtcblxuICAgICAgICB0aGlzLnNlbGZSYW5rU3ByaXRlID0gbm9kZS5nZXRDaGlsZEJ5TmFtZShcInNlbGZSYW5rSXRlbVwiKVxuICAgICAgICB0aGlzLnNlbGZSYW5rSVRlbSA9IHRoaXMuc2VsZlJhbmtTcHJpdGUuZ2V0Q29tcG9uZW50KFJhbmtJdGVtKVxuXG4gICAgICAgIE15VXRpbHMuYXV0b1NjcmVlblNpemUoW3RoaXMuY2xvc2VCdG5dKTtcbiAgICB9XG5cbiAgICBzZXRNeVJhbmtJbmZvKCl7XG4gICAgICAgIHRoaXMuc2VsZlJhbmtJVGVtLnVwZGF0ZUl0ZW0odGhpcy5zZWxmUmFua0RhdGEpO1xuICAgIH1cblxuICAgIG9uUmVuZGVyKGNlbGw6IExheWEuQm94LCBpbmRleDogbnVtYmVyKTogYW55IHtcbiAgICAgICAgbGV0IGl0ZW06UmFua0l0ZW0gPSBjZWxsLmdldENvbXBvbmVudChSYW5rSXRlbSk7XG4gICAgICAgIGl0ZW0udXBkYXRlSXRlbShjZWxsLmRhdGFTb3VyY2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmNsb3NlVmlldyk7XG4gICAgICAgIHRoaXMud29ybGRCdG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy53b3JsZFJhbmtDbGljayk7XG4gICAgICAgIHRoaXMuZnJpZW5kQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuZnJpZW5kUmFua0NsaWNrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFdvcmxkRGF0YSgpe1xuICAgICAgICBIdHRwTWdyLmluc3RhbmNlLmdldFdvcmxkUmFuayh7XG4gICAgICAgICAgICBzdWNjZXNzOihyZXMpPT57XG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZERhdGEgPSByZXMucmFuaztcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGZSYW5rRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggOiByZXMubXlJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6VXNlckRhdGEubmlja05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRJbWFnZTpVc2VyRGF0YS5hdmF0YXJVcmwsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOlVzZXJEYXRhLnNjb3JlIHx8IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYocmVzLm15SW5kZXggJiYgcmVzLm15SW5kZXggPD0gdGhpcy53b3JsZERhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxmUmFua0RhdGEgPSB0aGlzLndvcmxkRGF0YVtyZXMubXlJbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0V29ybGRSYW5rRHRhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRXb3JsZFJhbmtEdGEoKXtcbiAgICAgICAgdGhpcy5zZXRNeVJhbmtJbmZvKCk7XG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdC5hcnJheSA9IHRoaXMud29ybGREYXRhO1xuICAgICAgICB0aGlzLndvcmxkUmFua0xpc3QucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIHdvcmxkUmFua0NsaWNrKCk6IGFueSB7XG4gICAgICAgIC8vIGlmICh0aGlzLndvcmxkUmFua0xpc3QuYWN0aXZlKVxuICAgICAgICAvLyAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnNlbGVjdEZyaWVuZFJhbmsudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vcm1hbEZyaWVuZFJhbmsudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VsZWN0V29ybGRSYW5rLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vcm1hbFdvcmxkUmFuay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxmUmFua1Nwcml0ZS52aXNpYmxlID0gdHJ1ZVxuXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5jbG9zZUZyaWVuZFJhbmsoKTtcbiAgICAgICAgaWYodGhpcy53b3JsZERhdGEpe1xuICAgICAgICAgICAgdGhpcy5zZXRXb3JsZFJhbmtEdGEoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmdldFdvcmxkRGF0YSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnJpZW5kUmFua0NsaWNrKCk6IGFueSB7XG4gICAgICAgIC8vIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgdGhpcy53eE9wZW5EYXRhVmlldy5hY3RpdmUpXG4gICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RGcmllbmRSYW5rLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vcm1hbEZyaWVuZFJhbmsudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdFdvcmxkUmFuay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm9ybWFsV29ybGRSYW5rLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLndvcmxkUmFua0xpc3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGZSYW5rU3ByaXRlLnZpc2libGUgPSBmYWxzZVxuXG4gICAgICAgIC8v5omT5byA5a2Q5Z+f5o6S6KGM5qacIFRPRE9cbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLm9wZW5GcmllbmRSYW5rKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUV2ZW50KCkge1xuICAgICAgICB0aGlzLmNsb3NlQnRuLm9mZihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmNsb3NlVmlldyk7XG4gICAgICAgIHRoaXMud29ybGRCdG4ub2ZmKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMud29ybGRSYW5rQ2xpY2spO1xuICAgICAgICB0aGlzLmZyaWVuZEJ0bi5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5mcmllbmRSYW5rQ2xpY2spO1xuICAgICAgICBzdXBlci5yZW1vdmVFdmVudCgpO1xuICAgIH1cbiAgICBwdWJsaWMgb3BlblZpZXcoKXtcbiAgICAgICAgc3VwZXIub3BlblZpZXcoKTtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtDbGljaygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVZpZXcoKXtcbiAgICAgICAgdGhpcy53b3JsZERhdGEgPSBudWxsO1xuICAgICAgICBzdXBlci5jbG9zZVZpZXcoKTtcbiAgICB9XG59Il19
