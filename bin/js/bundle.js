var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var ButtonAnim_1 = require("./script/views/ButtonAnim");
var ConvergeAdView_1 = require("./script/views/ConvergeAdView");
var GameFighting_1 = require("./script/views/GameFighting");
var GameOverView_1 = require("./script/views/GameOverView");
var GoldenEggView_1 = require("./script/views/GoldenEggView");
var WXLaunch_1 = require("./script/platform/wx/WXLaunch");
var MainViewLandscape_1 = require("./script/views/MainViewLandscape");
var MainViewVertical_1 = require("./script/views/MainViewVertical");
var RankItem_1 = require("./script/views/rank/RankItem");
var WXRankView_1 = require("./script/views/rank/WXRankView");
var Resurgence_1 = require("./script/views/Resurgence");
var TipView_1 = require("./script/views/TipView");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/views/ButtonAnim.ts", ButtonAnim_1.default);
        reg("script/views/ConvergeAdView.ts", ConvergeAdView_1.default);
        reg("script/views/GameFighting.ts", GameFighting_1.default);
        reg("script/views/GameOverView.ts", GameOverView_1.default);
        reg("script/views/GoldenEggView.ts", GoldenEggView_1.default);
        reg("script/platform/wx/WXLaunch.ts", WXLaunch_1.default);
        reg("script/views/MainViewLandscape.ts", MainViewLandscape_1.default);
        reg("script/views/MainViewVertical.ts", MainViewVertical_1.default);
        reg("script/views/rank/RankItem.ts", RankItem_1.default);
        reg("script/views/rank/WXRankView.ts", WXRankView_1.default);
        reg("script/views/Resurgence.ts", Resurgence_1.default);
        reg("script/views/TipView.ts", TipView_1.default);
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "Launch.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/platform/wx/WXLaunch":16,"./script/views/ButtonAnim":22,"./script/views/ConvergeAdView":23,"./script/views/GameFighting":24,"./script/views/GameOverView":25,"./script/views/GoldenEggView":26,"./script/views/MainViewLandscape":27,"./script/views/MainViewVertical":28,"./script/views/Resurgence":29,"./script/views/TipView":30,"./script/views/rank/RankItem":31,"./script/views/rank/WXRankView":32}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var MyInit_1 = require("./script/MyInit");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎
        Laya.isWXPosMsg = true;
        Laya.isWXOpenDataContext = false;
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        // window["des"]();
        MyInit_1.default.init();
        // des
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        // Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
        this.onVersionLoaded();
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        var res = [
            { url: "loading/loading.atlas", type: Laya.Loader.ATLAS },
        ];
        //startScene 应该设置为launch页面
        Laya.loader.load(res, Laya.Handler.create(this, function () {
            GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        }));
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1,"./script/MyInit":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("./models/ConfigData");
var HttpMgr_1 = require("./mgrCommon/HttpMgr");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var StatisticsMgr_1 = require("./mgrCommon/StatisticsMgr");
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var UserData_1 = require("./models/UserData");
var Login = /** @class */ (function (_super) {
    __extends(Login, _super);
    function Login() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Login.prototype.login = function () {
        HttpMgr_1.default.instance.getSystemConfig();
        HttpMgr_1.default.instance.getRemoteJson(function (res) {
            ConfigData_1.default.initConfigData(res, true);
        });
        this.loginFun();
    };
    Login.prototype.loginFun = function () {
        var self = this;
        if (ConfigData_1.default.releasePlatform) {
            PlatformMgr_1.default.ptAPI.doLogin({
                success: this.loginSuccess,
                fail: this.loginFun
            });
        }
        else {
            var _d = {};
            _d.code = "123";
            _d.inviteId = '';
            _d.channelId = "";
            _d.success = this.loginSuccess;
            HttpMgr_1.default.instance.login(_d);
        }
    };
    Login.prototype.loginSuccess = function (data) {
        if (data) {
            UserData_1.default.isLogin = true;
            UserData_1.default.userId = data.userId;
            UserData_1.default.nickName = data.nikename;
            UserData_1.default.avatarUrl = data.headImage;
            UserData_1.default.diamond = data.userMoney || 0;
            UserData_1.default.channelId = data.channelId;
            UserData_1.default.level = data.level || 0;
            UserData_1.default.score = data.score || 0;
            UserData_1.default.openId = data.openid;
            UserData_1.default.isNew = data.isNewUser;
            UserData_1.default.exp = data.nowExp || 0;
            //缓存用户信息到本地
            StorageMgr_1.default.saveUserData();
            if (PlatformMgr_1.default.ptAPI) {
                //上传排行数据
                PlatformMgr_1.default.ptAPI.uploadRankDate({
                    level: data.level || 0,
                    score: data.score || 0,
                });
            }
            //上传统计
            StatisticsMgr_1.default.instance.loginStatisticsPost();
        }
        // EventMgr.instance.emit("loginSuccess");
    };
    return Login;
}(Laya.Script));
exports.default = Login;

},{"./mgrCommon/HttpMgr":6,"./mgrCommon/PlatformMgr":7,"./mgrCommon/StatisticsMgr":9,"./mgrCommon/StorageMgr":10,"./models/ConfigData":12,"./models/UserData":13}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("./mgrCommon/PlatformMgr");
var ConfigData_1 = require("./models/ConfigData");
var StorageMgr_1 = require("./mgrCommon/StorageMgr");
var Login_1 = require("./Login");
var ViewMgr_1 = require("./mgrCommon/ViewMgr");
var MyInit = /** @class */ (function () {
    function MyInit() {
    }
    MyInit.init = function () {
        ConfigData_1.default.initLocal();
        StorageMgr_1.default.getLocalUserData();
        PlatformMgr_1.default.initPlatform();
        ViewMgr_1.default.instance.init();
        new Login_1.default().login();
    };
    return MyInit;
}());
exports.default = MyInit;

},{"./Login":3,"./mgrCommon/PlatformMgr":7,"./mgrCommon/StorageMgr":10,"./mgrCommon/ViewMgr":11,"./models/ConfigData":12}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//全局事件
var EventDispatcher = laya.events.EventDispatcher;
var EventMgr = /** @class */ (function (_super) {
    __extends(EventMgr, _super);
    function EventMgr() {
        return _super.call(this) || this;
    }
    ;
    //派发事件
    EventMgr.prototype.emit = function (InName, agv) {
        // console.log("派发事件" + InName,agv);
        EventMgr.eventDispatcher.event(InName, agv);
    };
    //侦听事件
    EventMgr.prototype.onEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.on(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //侦听事件
    EventMgr.prototype.onOnceEvent = function (InName, caller, listener, arg) {
        // console.log("侦听事件",InName);
        EventMgr.eventDispatcher.once(InName, caller, listener, (arg == null) ? null : ([arg]));
    };
    //移除事件
    EventMgr.prototype.onOffEvent = function (InName, caller, listener, arg) {
        // console.log("关闭事件",InName);
        EventMgr.eventDispatcher.off(InName, caller, listener);
    };
    EventMgr.eventDispatcher = new EventDispatcher();
    EventMgr.instance = new EventMgr();
    return EventMgr;
}(EventDispatcher));
exports.default = EventMgr;

},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageMgr_1 = require("./StorageMgr");
var ConfigData_1 = require("../models/ConfigData");
var HttpUtils_1 = require("../tools/HttpUtils");
var UserData_1 = require("../models/UserData");
var EventMgr_1 = require("./EventMgr");
var HttpMgr = /** @class */ (function () {
    function HttpMgr() {
        this._http = new HttpUtils_1.default();
    }
    //登陆
    HttpMgr.prototype.login = function (_d) {
        this._http.request({
            url: 'userLogin.action', data: _d, callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.sessionId = res.sessionId;
                    StorageMgr_1.default.saveSession(UserData_1.default.sessionId);
                    if (_d.success) {
                        _d.success(res);
                    }
                }
                else {
                    // sessionId 过期
                    StorageMgr_1.default.saveSession("");
                    UserData_1.default.sessionId = "";
                    if (_d.fail) {
                        _d.fail(res);
                    }
                }
            }
        });
    };
    //拿线上游戏的json配制
    HttpMgr.prototype.getRemoteJson = function (_callback) {
        this._http.getRemoteJson(_callback);
    };
    //开关配制
    HttpMgr.prototype.getSystemConfig = function () {
        this._http.request({
            url: 'getSystemParamList.action', data: { nowVersion: ConfigData_1.default.version }, callback: function (res) {
                if (res.code == 0) {
                    ConfigData_1.default.ctrlInfo = {
                        isConverge: res.isConverge,
                        isShare: res.isShare,
                        isVideo: res.isVideo,
                        isWudian: res.isWudian,
                        shareInfo: res.shareInfo,
                        isBanner: res.is_banner,
                        adInfo: res.adInfo,
                    };
                    if (res.is_banner) {
                        ConfigData_1.default.mainAdMy = null;
                    }
                }
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }, fail: function (res) {
                EventMgr_1.default.instance.emit("getSystemParamListBack");
            }
        });
    };
    HttpMgr.prototype.updateUserInfo = function () {
        this._http.request({
            url: 'updateUserInfo.action', data: {
                nickname: UserData_1.default.nickName,
                headimgurl: UserData_1.default.avatarUrl,
                sex: UserData_1.default.gender,
            }
        });
    };
    HttpMgr.prototype.statisticsPost = function (_d) {
        this._http.requestStatistics(_d);
    };
    HttpMgr.prototype.videoErrorCallback = function () {
        this._http.request({
            url: 'videoCallback.action', callback: function (res) {
                if (res.code == 0) {
                    UserData_1.default.adCount = res.adCount;
                }
            }
        });
    };
    HttpMgr.prototype.getWorldRank = function (_d) {
        this._http.request({
            url: 'getWorldRank.action', data: { page: 1, type: 1 }, callback: function (res) {
                if (res.code == 0) {
                    if (_d.success) {
                        _d.success(res);
                    }
                }
            }
        });
    };
    HttpMgr.instance = new HttpMgr();
    return HttpMgr;
}());
exports.default = HttpMgr;

},{"../models/ConfigData":12,"../models/UserData":13,"../tools/HttpUtils":18,"./EventMgr":5,"./StorageMgr":10}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var WXAPI_1 = require("../platform/wx/WXAPI");
var WXADMgr_1 = require("../platform/wx/WXADMgr");
var WXSubDomain_1 = require("../platform/wx/WXSubDomain");
var PlatformMgr = /** @class */ (function (_super) {
    __extends(PlatformMgr, _super);
    function PlatformMgr() {
        return _super.call(this) || this;
    }
    PlatformMgr.initPlatform = function () {
        switch (ConfigData_1.default.releasePlatform) {
            case "wx":
                PlatformMgr.ptAPI = new WXAPI_1.default();
                PlatformMgr.ptAdMgr = new WXADMgr_1.default;
                PlatformMgr.subDomain = new WXSubDomain_1.default();
                break;
            case "fb":
                //new fb的管理类
                // this.ptAPI = new FBAPI();
                // this.ptAdMgr = new FBAdMgr;
                break;
        }
    };
    PlatformMgr.instance = new PlatformMgr();
    return PlatformMgr;
}(Laya.Script));
exports.default = PlatformMgr;

},{"../models/ConfigData":12,"../platform/wx/WXADMgr":14,"../platform/wx/WXAPI":15,"../platform/wx/WXSubDomain":17}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var SoundMgr = /** @class */ (function () {
    function SoundMgr() {
    }
    SoundMgr.prototype.playSound = function (name) {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/" + name + ".mp3";
        if (Laya.Browser.onMiniGame) {
            var sound = laya.utils.Pool.getItem(name);
            if (sound == null) {
                sound = wx.createInnerAudioContext();
                sound.src = "res/sound/" + name + ".mp3";
                sound.onEnded(function () {
                    laya.utils.Pool.recover(name, sound);
                });
            }
            sound.play();
        }
        else {
            Laya.SoundManager.playSound(url, 1);
        }
    };
    SoundMgr.prototype.playBGM = function () {
        if (!ConfigData_1.default.isSound) {
            return;
        }
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            this.bgm = wx.createInnerAudioContext();
            this.bgm.src = url;
            this.bgm.loop = true;
            this.bgm.play();
        }
        else {
            Laya.SoundManager.playMusic(url, 0);
        }
    };
    SoundMgr.prototype.stopBGM = function () {
        var url = "res/sound/bgm.mp3";
        if (Laya.Browser.onMiniGame) {
            if (this.bgm) {
                this.bgm.stop();
            }
        }
        else {
            Laya.SoundManager.stopMusic();
        }
    };
    SoundMgr.instance = new SoundMgr();
    return SoundMgr;
}());
exports.default = SoundMgr;

},{"../models/ConfigData":12}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var HttpMgr_1 = require("./HttpMgr");
var UserData_1 = require("../models/UserData");
var ConfigData_1 = require("../models/ConfigData");
var StatisticsMgr = /** @class */ (function () {
    function StatisticsMgr() {
    }
    //登陆统计
    StatisticsMgr.prototype.loginStatisticsPost = function () {
        var _d = {
            action: "1005",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //点击授权统计接口
    StatisticsMgr.prototype.authorStatistics = function () {
        var _d = {
            action: "1006",
            from_appid: UserData_1.default.fromAppid,
            from_imgid: UserData_1.default.fromImgid,
            code: UserData_1.default.code,
            isnew: UserData_1.default.isNew ? 1 : 0,
        };
        this.statisticsPost(_d);
    };
    //开始游戏统计接口
    StatisticsMgr.prototype.startGameStatistics = function () {
        var _d = {
            action: "1008",
        };
        this.statisticsPost(_d);
    };
    //分享统计接口  类型: 0普通分享, 1分享复活, 2分享获取道具, 3分享获取抽奖次数
    StatisticsMgr.prototype.shareStatistics = function (type) {
        var _d = {
            action: "1009",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击视频统计接口
    StatisticsMgr.prototype.clickVideoStatistics = function (type) {
        var _d = {
            action: "1010",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //看完视频统计接口
    StatisticsMgr.prototype.videoPlayOverAdStatistics = function (type) {
        var _d = {
            action: "1011",
            type: type,
        };
        this.statisticsPost(_d);
    };
    //点击跳转统计接口
    StatisticsMgr.prototype.navigateToMiniProgramStatistics = function (_d) {
        _d.action = "1007";
        this.statisticsPost(_d);
    };
    //点击跳转成功后统计接口
    StatisticsMgr.prototype.navigateToMiniProgramBackStatistics = function (_d) {
        _d.action = "1017";
        this.statisticsPost(_d);
    };
    //统计
    StatisticsMgr.prototype.statisticsPost = function (_data) {
        var _d = {
            channel: UserData_1.default.channelId,
            my_appid: ConfigData_1.default.myAppid,
            openid: UserData_1.default.openId,
        };
        for (var key in _data) {
            if (_data.hasOwnProperty(key)) {
                _d[key] = _data[key];
            }
        }
        HttpMgr_1.default.instance.statisticsPost(_d);
    };
    StatisticsMgr.instance = new StatisticsMgr();
    return StatisticsMgr;
}());
exports.default = StatisticsMgr;

},{"../models/ConfigData":12,"../models/UserData":13,"./HttpMgr":6}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var UserData_1 = require("../models/UserData");
var StorageMgr = /** @class */ (function () {
    function StorageMgr() {
    }
    StorageMgr.setStorage = function (_d) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        wx.setStorage({
            key: _d.key,
            data: JSON.stringify(_d.val),
            success: _d.success,
            fail: _d.fail,
            complete: _d.complete
        });
    };
    StorageMgr.getStorage = function (_key) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        try {
            var value = wx.getStorageSync(_key);
            if (value) {
                return value;
            }
        }
        catch (e) {
        }
    };
    StorageMgr.saveSession = function (_s) {
        StorageMgr.setStorage({ key: "sessionId", val: _s });
    };
    StorageMgr.getLocalVirbort = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("virbort"));
    };
    StorageMgr.setLocalVirbort = function (str) {
        StorageMgr.setStorage({
            ket: "virbort",
            val: str
        });
    };
    StorageMgr.getLocalSound = function () {
        return MyUtils_1.default.isNull(StorageMgr.getStorage("sound"));
    };
    StorageMgr.setLocalSound = function (str) {
        StorageMgr.setStorage({
            ket: "sound",
            val: str
        });
    };
    StorageMgr.saveUserData = function () {
        var _d = {
            sessionId: UserData_1.default.sessionId,
            openId: UserData_1.default.openId,
            score: UserData_1.default.score,
            exp: UserData_1.default.exp,
            level: UserData_1.default.level,
        };
        StorageMgr.setStorage({ key: "userData", val: _d });
    };
    StorageMgr.getLocalUserData = function () {
        if (UserData_1.default.isLogin) {
            return;
        }
        var _d = StorageMgr.getStorage("userData");
        if (!MyUtils_1.default.isNull(_d)) {
            _d = JSON.parse(_d);
            UserData_1.default.sessionId = _d.sessionId;
            UserData_1.default.openId = _d.openId;
            UserData_1.default.score = _d.score || 0;
            UserData_1.default.exp = _d.exp;
            UserData_1.default.level = _d.level || 0;
        }
    };
    return StorageMgr;
}());
exports.default = StorageMgr;

},{"../models/UserData":13,"../tools/MyUtils":20}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var EventMgr_1 = require("./EventMgr");
var ConfigData_1 = require("../models/ConfigData");
var ViewMgr = /** @class */ (function () {
    function ViewMgr() {
        this.viewDic = {};
        this.events = ["goHome"];
    }
    ViewMgr.prototype.init = function () {
        for (var index = 0; index < this.events.length; index++) {
            EventMgr_1.default.instance.onEvent(this.events[index], this, this[this.events[index]]);
        }
    };
    ViewMgr.prototype.goHome = function (res) {
        var viewName = ConfigData_1.default.mainBtnsType == ConfigData_1.MAINBTNSTYPE.LANDSCAPE ? "MainLandscape.scene" : "MainVertical.scene";
        this.openView({
            viewName: viewName,
            closeAll: true,
        });
    };
    ViewMgr.prototype.openView = function (_d) {
        var self = this;
        var url = _d.viewName;
        var cls = _d.cls;
        var closeAll = _d.closeAll;
        if (closeAll) {
            this.viewDic = {};
        }
        if (MyUtils_1.default.isNull(this.viewDic[url])) {
            Laya.Scene.open(url, closeAll, Laya.Handler.create(this, function (owner) {
                self.viewDic[url] = owner;
                var coms = owner._components;
                if (coms) {
                    for (var index = 0; index < coms.length; index++) {
                        var element = coms[index];
                        if (element.isMyBaseView) {
                            element.openView(_d.data);
                            break;
                        }
                    }
                }
            }));
        }
        else {
            var owner = this.viewDic[url];
            var coms = owner._components;
            if (coms) {
                for (var index = 0; index < coms.length; index++) {
                    var element = coms[index];
                    if (element.isMyBaseView) {
                        element.openView(_d.data);
                        break;
                    }
                }
            }
        }
    };
    ViewMgr.prototype.closeView = function (viewName) {
        if (MyUtils_1.default.isNull(this.viewDic[viewName])) {
            return;
        }
        this.viewDic[viewName].destroy();
        this.viewDic[viewName] = null;
    };
    ViewMgr.prototype.hideView = function (viewName) {
        if (MyUtils_1.default.isNull(this.viewDic[viewName])) {
            return;
        }
        this.viewDic[viewName].visible = false;
    };
    ViewMgr.prototype.getView = function (viewName) {
        var view = this.viewDic[viewName];
        if (!MyUtils_1.default.isNull(view)) {
            return view;
        }
    };
    ViewMgr.instance = new ViewMgr();
    return ViewMgr;
}());
exports.default = ViewMgr;

},{"../models/ConfigData":12,"../tools/MyUtils":20,"./EventMgr":5}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../tools/MyUtils");
var StorageMgr_1 = require("../mgrCommon/StorageMgr");
var MAINBTNSTYPE;
(function (MAINBTNSTYPE) {
    MAINBTNSTYPE[MAINBTNSTYPE["LANDSCAPE"] = 0] = "LANDSCAPE";
    MAINBTNSTYPE[MAINBTNSTYPE["VERTICAL"] = 1] = "VERTICAL";
})(MAINBTNSTYPE = exports.MAINBTNSTYPE || (exports.MAINBTNSTYPE = {}));
var SORTTYPE;
(function (SORTTYPE) {
    SORTTYPE[SORTTYPE["LEVEL"] = 0] = "LEVEL";
    SORTTYPE[SORTTYPE["ENDLESS"] = 1] = "ENDLESS";
})(SORTTYPE = exports.SORTTYPE || (exports.SORTTYPE = {}));
var ConfigData = /** @class */ (function () {
    function ConfigData() {
    }
    ConfigData.initLocal = function () {
        ConfigData.isSound = StorageMgr_1.default.getLocalSound();
        ConfigData.isVirbort = StorageMgr_1.default.getLocalVirbort();
        if (Laya.Browser.onMiniGame) {
            this.releasePlatform = "wx";
            this.systemInfo = wx.getSystemInfoSync();
        }
    };
    ConfigData.initConfigData = function (_d, remote) {
        if (remote === void 0) { remote = false; }
        if (remote) {
            ConfigData.configs = _d;
        }
        else if (!ConfigData.configs) {
            ConfigData.configs = _d;
        }
    };
    ConfigData.getConfigData = function (configName) {
        return this.ctrlInfo[configName];
    };
    /**设置声音 */
    ConfigData.setSound = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isSound = true;
            StorageMgr_1.default.setLocalSound("");
        }
        else {
            StorageMgr_1.default.setLocalSound("1");
            ConfigData.isSound = false;
        }
    };
    /**
     * 振动设置
     * @param str
     */
    ConfigData.setVirbort = function (str) {
        if (!str || str.length <= 0) {
            ConfigData.isVirbort = true;
            StorageMgr_1.default.setLocalVirbort("");
        }
        else {
            StorageMgr_1.default.setLocalVirbort("1");
            ConfigData.isVirbort = false;
        }
    };
    ConfigData.getADData = function (adId) {
        var srt = this.getConfigData("adInfo");
        if (MyUtils_1.default.isNull(srt)) {
            return;
        }
        var adInfos = JSON.parse(srt);
        var array = [];
        for (var i = 0; i < adInfos.length; i++) {
            var adInfo = adInfos[i];
            if (adInfo.position == adId) {
                array.push(adInfo);
            }
        }
        return array;
    };
    ConfigData.mainBtnsType = 0; //主页按钮排列方式使用哪种
    ConfigData.releasePlatform = ""; //发布平台 wx fb
    ConfigData.myAppid = "wxbe9fe00281505169";
    ConfigData.configs = null;
    ConfigData.language = "cn";
    ConfigData.languageData = null;
    ConfigData.version = "100";
    ConfigData.jsonVersion = "100";
    ConfigData.serverUrl = "https://xcx.biaocr.com/funny_frog/";
    ConfigData.jsonVersionUrl = "https://p.doguane.cn/20190404/m_04171926352321.json";
    ConfigData.statisticsUrl = "https://log.zuancr.com/";
    ConfigData.isCreateAuthorization = false; //是否创建了授权按钮
    ConfigData.repeatAuthorization = false; //是否创建了授权按钮
    ConfigData.isLog = true; //是否开启日志
    ConfigData.ctrlInfo = {}; //游戏控制信息
    ConfigData.systemInfo = {}; //设备系统信息
    ConfigData.bannerVideoId = "adunit-7c4449f9f6fcafbb";
    ConfigData.rewardedVideoId = "adunit-df0311118e2452c6";
    return ConfigData;
}());
exports.default = ConfigData;

},{"../mgrCommon/StorageMgr":10,"../tools/MyUtils":20}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData = /** @class */ (function () {
    function UserData() {
    }
    UserData.code = ""; //微信code
    UserData.openId = ""; //微信openid
    UserData.sessionId = "";
    UserData.nickName = "";
    UserData.gender = 0;
    UserData.avatarUrl = "";
    UserData.score = 0; //分数
    UserData.exp = 0; //经验
    UserData.level = 1; //等级
    UserData.index = 0; //排行
    UserData.diamond = 0;
    UserData.gold = 0;
    UserData.isNew = false;
    UserData.isLogin = false;
    return UserData;
}());
exports.default = UserData;

},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var WXAdMgr = /** @class */ (function () {
    /**
     *
     */
    function WXAdMgr() {
        this.bannerHomeIsHide = true;
        this.bannerOtherIsHide = true;
        this.bannerClassicEndIsHide = true;
        this.isInited = false;
        this.hasAd = false;
        this.init();
    }
    WXAdMgr.prototype.init = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.systemInfo.SDKVersion && MyUtils_1.default.compareVersion(ConfigData_1.default.systemInfo.SDKVersion, "2.0.4") >= 0) {
            this.isInited = true;
            this.initVedioCom();
        }
        this.preBannerTime_Home = Laya.timer.currTimer;
        this.preBannerTime_Other = Laya.timer.currTimer;
        this.preBannerTime_ClassicEnd = Laya.timer.currTimer;
    };
    WXAdMgr.prototype.initVedioCom = function () {
        var self = this;
        if (this.isInited) {
            this.rewardedVideoAd = window["wx"].createRewardedVideoAd({ adUnitId: ConfigData_1.default.rewardedVideoId });
            if (this.rewardedVideoAd == undefined) {
                return;
            }
            this.rewardedVideoAd.onLoad(function () {
                console.log("rewardedVideo onload");
                self.hasAd = true;
            });
            this.rewardedVideoAd.onError(function (err) {
                self.hasAd = false;
                HttpMgr_1.default.instance.videoErrorCallback();
                if (self.callBackSuc != null) {
                    self.callBackSuc(self.caller);
                }
            });
            this.rewardedVideoAd.onClose(function (res) {
                // 用户点击了【关闭广告】按钮
                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                if (res && res.isEnded || res === undefined) {
                    // 正常播放结束，可以下发游戏奖励
                    self.videoPlayedTimes += 1;
                    if (self.callBackSuc != null) {
                        self.callBackSuc(self.caller);
                    }
                }
                else {
                    // 播放中途退出，不下发游戏奖励
                    if (self.callBackFail != null) {
                        self.callBackFail(self.caller);
                    }
                }
            });
        }
    };
    WXAdMgr.prototype.showVideo = function (caller, callBackSuc, callBackFail) {
        if (!this.isInited) {
            return;
        }
        var self = this;
        this.caller = caller;
        this.callBackSuc = callBackSuc;
        this.callBackFail = callBackFail;
        if (this.hasAd) {
            this.hasAd = false;
            this.rewardedVideoAd.show();
        }
        else {
            this.rewardedVideoAd.load()
                .then(function () {
                self.rewardedVideoAd.show();
                self.hasAd = false;
            });
        }
    };
    WXAdMgr.prototype.loadBannerAdHome = function () {
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.showBannerAdHome(true);
    };
    WXAdMgr.prototype.showBannerAdHome = function (onlyLoad) {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = Laya.stage.width / 2 - 140;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerHomeIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Home > 30000) {
            if (this.bannerHome) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
        }
        if (!this.bannerHome) {
            this.destroyBannerAdHome();
            this.bannerHome = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerHome.onResize(function (r) {
                _this.bannerHome.style.left = (screenW - _this.bannerHome.style.realWidth) / 2;
                _this.bannerHome.style.top = screenH - _this.bannerHome.style.realHeight;
                if (screenH / screenW > 2) {
                    _this.bannerHome.style.top = _this.bannerHome.style.top - 10;
                }
            });
            this.bannerHome.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            // this.bannerHome.onLoad(()=>{
            //     if(this.bannerHomeIsHide){
            //         this.bannerHome.destroy();
            //         return;
            //     }
            //     this.bannerHome.show();
            // })
            this.preBannerTime_Home = Laya.timer.currTimer;
        }
        if (onlyLoad) {
            return;
        }
        if (this.bannerHome != undefined) {
            this.bannerHome.show();
        }
    };
    WXAdMgr.prototype.showBannerAdOther = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerOtherIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerOther) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
        }
        if (!this.bannerOther) {
            this.destroyBannerAdOther();
            this.bannerOther = window["wx"].createBannerAd({
                adUnitId: ConfigData_1.default.bannerVideoId,
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerOther.onResize(function (r) {
                _this.bannerOther.style.left = (screenW - _this.bannerOther.style.realWidth) / 2;
                _this.bannerOther.style.top = screenH - _this.bannerOther.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerOther.style.top = _this.bannerOther.style.top - 25;
                }
            });
            this.bannerOther.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerOther != undefined) {
            this.bannerOther.show();
        }
    };
    WXAdMgr.prototype.showBannerAdClassicEnd = function () {
        var _this = this;
        if (!Laya.Browser.onMiniGame || !this.isInited) {
            return;
        }
        this.destoryAllBannerAd();
        var screenW = ConfigData_1.default.systemInfo.windowWidth;
        var _width = screenW;
        var screenH = ConfigData_1.default.systemInfo.windowHeight;
        this.bannerClassicEndIsHide = false;
        if (Laya.timer.currTimer - this.preBannerTime_Other > 30000) {
            if (this.bannerClassicEnd) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
        }
        if (!this.bannerClassicEnd) {
            this.destroyBannerAdClassicEnd();
            this.bannerClassicEnd = window["wx"].createBannerAd({
                adUnitId: 'adunit-dcacf7fd6e654b4d',
                style: {
                    left: 0,
                    top: screenH - 100,
                    width: _width,
                }
            });
            this.bannerClassicEnd.onError(function (res) {
                console.log("广告加载错误:", res);
            });
            this.bannerClassicEnd.onResize(function (r) {
                _this.bannerClassicEnd.style.left = (screenW - _this.bannerClassicEnd.style.realWidth) / 2;
                _this.bannerClassicEnd.style.top = screenH - _this.bannerClassicEnd.style.realHeight - 10;
                if (screenH / screenW > 2) {
                    _this.bannerClassicEnd.style.top = _this.bannerClassicEnd.style.top - 25;
                }
            });
            this.preBannerTime_Other = Laya.timer.currTimer;
        }
        if (this.bannerClassicEnd != undefined) {
            this.bannerClassicEnd.show();
        }
    };
    WXAdMgr.prototype.destroyBannerAdHome = function () {
        this.bannerHomeIsHide = true;
        if (this.bannerHome) {
            this.preBannerTime_Home = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerHome.destroy();
                this.bannerHome = null;
            }
            else {
                this.bannerHome.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdOther = function () {
        this.bannerOtherIsHide = true;
        if (this.bannerOther) {
            this.preBannerTime_Other = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerOther.destroy();
                this.bannerOther = null;
            }
            else {
                this.bannerOther.hide();
            }
        }
    };
    WXAdMgr.prototype.destroyBannerAdClassicEnd = function () {
        this.bannerClassicEndIsHide = true;
        if (this.bannerClassicEnd) {
            this.preBannerTime_ClassicEnd = 0;
            if (ConfigData_1.default.ctrlInfo.is_banner == 1) {
                this.bannerClassicEnd.destroy();
                this.bannerClassicEnd = null;
            }
            else {
                this.bannerClassicEnd.hide();
            }
        }
    };
    WXAdMgr.prototype.destoryAllBannerAd = function () {
        this.destroyBannerAdHome();
        this.destroyBannerAdOther();
        this.destroyBannerAdClassicEnd();
    };
    return WXAdMgr;
}());
exports.default = WXAdMgr;

},{"../../mgrCommon/HttpMgr":6,"../../models/ConfigData":12,"../../tools/MyUtils":20}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UserData_1 = require("../../models/UserData");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var ConfigData_1 = require("../../models/ConfigData");
var EventMgr_1 = require("../../mgrCommon/EventMgr");
var StatisticsMgr_1 = require("../../mgrCommon/StatisticsMgr");
var MyLog_1 = require("../../tools/MyLog");
var SoundMgr_1 = require("../../mgrCommon/SoundMgr");
var ViewMgr_1 = require("../../mgrCommon/ViewMgr");
var ConvergeAdView_1 = require("../../views/ConvergeAdView");
var WXAPI = /** @class */ (function () {
    function WXAPI() {
        var _this = this;
        this._launch = {};
        this.btns = [];
        this.stime = 0;
        this.shareBackArgs = {};
        this.caller = null;
        this._launch = window["wx"].getLaunchOptionsSync();
        EventMgr_1.default.instance.once("getSystemParamListBack", this, function () {
            _this.showShareMenu();
        });
        this.setOpenDomainOffset();
        window["wx"].onShow(function (res) {
            var shareTicket = res.shareTicket;
            var query = res.query || {};
            if (shareTicket != undefined && query.avatarUrlGroup
                && query.nickNameGroup) {
                //在这做群排行的弹框
            }
            else {
                //分享回调
                var _d = _this.shareBackArgs || {};
                var self_1 = _this;
                var time = Laya.Browser.now() - _this.stime;
                if (Laya.Browser.now() - _this.stime > 2000) {
                    _d.success = true;
                    if (_this.shareBack && _this.caller) {
                        _this.shareBack.call(_this.caller, _d);
                    }
                    _this.shareBack = null;
                }
                else {
                    _d.success = false;
                    if (_this.shareBack && _this.caller) {
                        _this.shareBack.call(_this.caller, _d);
                    }
                    _this.shareBack = null;
                }
            }
            //播放音乐 切到后台背景音乐消失需要重新播放
            SoundMgr_1.default.instance.playBGM();
            //聚合广告页面
            //控制结束页面的分享，不显示聚合广告页面
            var notShowAd = false;
            if (_this.shareBackArgs) {
                notShowAd = _this.shareBackArgs["notShowAd"];
            }
            Laya.timer.frameOnce(1, _this, function () {
                //只在结束界面显示聚合广告页面
                var gameOverView = ViewMgr_1.default.instance.getView("GameOver.scene");
                var convergeAdView = ViewMgr_1.default.instance.getView("ConvergeAd.scene");
                if (!notShowAd && ConfigData_1.default.ctrlInfo.isConverge == 1 && gameOverView && !convergeAdView) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "ConvergeAd.scene",
                        clas: ConvergeAdView_1.default,
                        closeAll: false,
                    });
                }
            });
            _this.shareBackArgs = {};
        });
        window["wx"].onHide(function () {
            _this.stime = Laya.Browser.now();
        });
    }
    WXAPI.prototype.onGoShare = function (res) {
        this.caller = res.caller;
        this.shareBack = res.callback;
        this.shareBackArgs = res.args || {};
    };
    /*
       success 成功回调
       fail 失败回调
   */
    WXAPI.prototype.doLogin = function (_data) {
        var _this = this;
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].login({
            success: function (res) {
                UserData_1.default.code = res.code;
                //登录接口
                var launch = _this.getLaunchData();
                var _d = {};
                _d.code = res.code;
                if (launch.query) {
                    _d.inviteId = launch.query.invite_uid || '';
                    _d.channelId = launch.query.channel || "";
                    UserData_1.default.fromAppid = launch.query.cur_share_id || "";
                }
                if (launch.referrerInfo) {
                    UserData_1.default.fromImgid = launch.referrerInfo.appId;
                }
                _d.success = _data.success;
                _d.fail = _data.fail;
                HttpMgr_1.default.instance.login(_d);
            },
        });
    };
    WXAPI.prototype.getOffsetOpenDomain = function () {
        return this.offsetOpenDomain;
    };
    WXAPI.prototype.getLaunchData = function () {
        return this._launch;
    };
    WXAPI.prototype.getQuery = function () {
        return this._launch.query;
    };
    WXAPI.prototype.getReferrerInfo = function () {
        return this._launch.referrerInfo;
    };
    WXAPI.prototype.uploadRankDate = function (_data) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var d = [];
        if (!MyUtils_1.default.isNull(_data.level)) {
            d.push({ key: "level", value: _data.level + "" });
        }
        if (!MyUtils_1.default.isNull(_data.score)) {
            d.push({ key: "score", value: _data.score + "" });
        }
        window["wx"].setUserCloudStorage({
            KVDataList: d,
            success: function (res) {
                // console.log("上传数据到微信服务器:" + JSON.stringify(res));
            }
        });
    };
    WXAPI.prototype.showShareMenu = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        window["wx"].showShareMenu({ withShareTicket: true });
        var shareInfo = this.createShareInfo();
        window["wx"].onShareAppMessage(function () {
            return shareInfo;
        });
    };
    WXAPI.prototype.createShareInfo = function (_d) {
        var sd = JSON.parse(ConfigData_1.default.getConfigData("shareInfo"));
        if (!sd) {
            return null;
        }
        var rand_t = MyUtils_1.default.random(0, sd.length - 1);
        var title = sd[rand_t].title;
        var imageUrl = sd[rand_t].img;
        var query = "invite_uid=" + (UserData_1.default.userId ? UserData_1.default.userId : "");
        query += "&cur_share_id=" + sd[rand_t].id;
        query += "&avatarUrlGroup=" + (UserData_1.default.avatarUrl ? UserData_1.default.avatarUrl : "");
        query += "&nickNameGroup=" + (UserData_1.default.nickName ? UserData_1.default.nickName : "");
        query += "&channel=" + (UserData_1.default.channelId ? UserData_1.default.channelId : "");
        if (_d) {
            if (_d.id) {
                query += "&scene=" + _d.id;
            }
            if (_d.itemId) {
                query += "&itemId=" + _d.itemId;
            }
            if (_d.type) {
                query += "&type=" + _d.type;
            }
            if (_d.share_title) {
                title = _d.share_title;
            }
            if (_d.share_img) {
                imageUrl = _d.share_img;
            }
        }
        return {
            title: title,
            imageUrl: imageUrl,
            query: query,
        };
    };
    WXAPI.prototype.shareAppMessage = function (_d, type) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (_d.callback) {
            this.onGoShare(_d);
        }
        if (!ConfigData_1.default.getConfigData("shareInfo")) {
            return;
        }
        StatisticsMgr_1.default.instance.shareStatistics(type);
        var shareInfo = this.createShareInfo(_d);
        window["wx"].shareAppMessage(shareInfo);
    };
    WXAPI.prototype.navigateToMiniProgram = function (_d) {
        if (!_d || !_d.appId || !Laya.Browser.onMiniGame) {
            return;
        }
        StatisticsMgr_1.default.instance.navigateToMiniProgramStatistics(_d);
        window["wx"].navigateToMiniProgram({
            appId: _d.appid,
            path: _d.path,
            extraData: {
                foo: 'bar',
            },
            // envVersion: 'develop',
            complete: function (res) {
                if (_d.complete) {
                    _d.complete();
                }
                _d.complete = null;
            },
            fail: function (res) {
                window["wx"].showToast({ title: "跳转失败" });
                if (_d.fail) {
                    _d.fail();
                }
                _d.fail = null;
            },
            success: function (res) {
                StatisticsMgr_1.default.instance.navigateToMiniProgramBackStatistics(_d);
                if (_d.callback) {
                    _d.callback("success");
                }
                _d.callback = null;
            }
        });
    };
    /**
    * 设置子域界面偏移，适配不同的屏幕界面
    */
    WXAPI.prototype.setOpenDomainOffset = function () {
        var offsetX = Laya.stage.width - 750;
        if (offsetX < 0) {
            offsetX = 0;
        }
        var offsetY = Laya.stage.height - 1334;
        if (offsetY < 0) {
            offsetY = 0;
        }
        this.offsetOpenDomain = new Laya.Vector2(offsetX, offsetY);
    };
    WXAPI.prototype.createAuthorizationButton = function (_data) {
        if (Laya.Browser.onMiniGame) {
            wx.getSetting({
                success: function (res) {
                    var _this = this;
                    if (res.authSetting && res.authSetting["scope.userInfo"]) {
                        MyLog_1.default.log("已经授权");
                    }
                    else {
                        var sWidth = Laya.stage.width;
                        var sHeight = Laya.stage.height;
                        var xb = (Laya.Browser.width / Laya.Browser.pixelRatio) / sWidth;
                        var yb = (Laya.Browser.height / Laya.Browser.pixelRatio) / sHeight;
                        var left = (_data.x - _data.width / 2) * xb;
                        var top_1 = (_data.y + this.offsetOpenDomain.y - _data.height / 2) * yb;
                        var width = _data.width * xb;
                        var height = (_data.height) * yb;
                        // let backgroundColor = "#ffffff";
                        if (_data.isFull) {
                            left = 0;
                            top_1 = (_data.y + this.offsetOpenDomain.y / 2) * yb;
                            width = width;
                            height = height;
                            // backgroundColor = "#ff0703";
                        }
                        var button_1 = window["wx"].createUserInfoButton({
                            type: 'text',
                            text: '',
                            style: {
                                left: left,
                                top: top_1,
                                width: width,
                                height: height,
                            },
                        });
                        if (this.btns) {
                            this.btns.push({ "button": button_1, "isFull": _data.isFull });
                        }
                        button_1.onTap(function (res) {
                            if (res && res.userInfo) {
                                UserData_1.default.nickName = res.userInfo.nickName;
                                UserData_1.default.gender = res.userInfo.gender;
                                UserData_1.default.avatarUrl = res.userInfo.avatarUrl;
                                StatisticsMgr_1.default.instance.authorStatistics();
                                HttpMgr_1.default.instance.updateUserInfo();
                                if (_this.btns) {
                                    _this.btns.forEach(function (element) {
                                        if (element) {
                                            element.button.destroy();
                                        }
                                    });
                                }
                                _this.btns = null;
                                button_1.destroy();
                                if (_data.successBack) {
                                    _data.successBack.method.call(_data.successBack.caller);
                                }
                            }
                            else {
                                _this.destoryAuthorization();
                                if (_data.failBack) {
                                    _data.failBack.method.call(_data.failBack.caller);
                                }
                            }
                        });
                    }
                },
                fail: function () { },
                complete: function () { }
            });
        }
    };
    WXAPI.prototype.destoryAuthorization = function () {
        if (!ConfigData_1.default.repeatAuthorization) { //如果不需要重复弹授权
            ConfigData_1.default.isCreateAuthorization = true;
            if (this.btns) {
                this.btns.forEach(function (element) {
                    if (element) {
                        element.button.destroy();
                    }
                });
            }
        }
        else {
            this.setAuthorizationCheck(false);
        }
    };
    WXAPI.prototype.setAuthorizationCheck = function (flag) {
        if (this.btns) {
            this.btns.forEach(function (element) {
                if (element) {
                    if (flag) {
                        element.button.show();
                    }
                    else {
                        element.button.hide();
                    }
                }
            });
        }
    };
    WXAPI.prototype.vibrateShort = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateShort();
        }
    };
    WXAPI.prototype.vibrateLong = function () {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        if (ConfigData_1.default.isVirbort) {
            window["wx"].vibrateLong();
        }
    };
    WXAPI.prototype.openCustomerServiceConversation = function () {
        window["wx"].openCustomerServiceConversation();
    };
    return WXAPI;
}());
exports.default = WXAPI;

},{"../../mgrCommon/EventMgr":5,"../../mgrCommon/HttpMgr":6,"../../mgrCommon/SoundMgr":8,"../../mgrCommon/StatisticsMgr":9,"../../mgrCommon/ViewMgr":11,"../../models/ConfigData":12,"../../models/UserData":13,"../../tools/MyLog":19,"../../tools/MyUtils":20,"../../views/ConvergeAdView":23}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../../models/ConfigData");
var SoundMgr_1 = require("../../mgrCommon/SoundMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var EventMgr_1 = require("../../mgrCommon/EventMgr");
var WXLaunch = /** @class */ (function (_super) {
    __extends(WXLaunch, _super);
    function WXLaunch() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.toProcess = 1;
        _this.progress = 0;
        _this.scene3dUrl = "res3d/Conventional/Eatitup.ls";
        return _this;
    }
    WXLaunch.prototype.getLaunchTipMsg = function () {
        var tips = [
            "按住屏幕舌头会伸长哦",
            "敲好玩，值得等待，呱~"
        ];
        return tips[MyUtils_1.default.random(0, tips.length - 1)];
    };
    WXLaunch.prototype.onEnable = function () {
        var group = this.owner.getChildByName("progressGroup");
        this.pro = group.getChildByName("progress");
        this.proLabel = group.getChildByName("proLab");
        this.tipLable = this.owner.getChildByName("tipBg").getChildByName("tipLab");
        this.tipLable.text = this.getLaunchTipMsg();
        this.loadRes();
    };
    WXLaunch.prototype.loadRes = function () {
        var _this = this;
        var resource = [
            { url: "res/atlas/rank.atlas", type: Laya.Loader.ATLAS },
            { url: "res/json/config.json", type: Laya.Loader.JSON },
            { url: "res/language/" + ConfigData_1.default.language + ".json", type: Laya.Loader.JSON },
        ];
        var self = this;
        if (Laya.Browser.onMiniGame) {
            var loadTask = window["wx"].loadSubpackage({
                name: 'res3d',
                success: function (res) {
                    // 分包加载成功后通过 success 回调
                    var loadTask1 = window["wx"].loadSubpackage({
                        name: 'res',
                        success: function (res) {
                            // 分包加载成功后通过 success 回调
                            Laya.loader.load(resource, Laya.Handler.create(_this, function () {
                                self.updateProgress(0.99);
                                _this.loadResComplete();
                            }), Laya.Handler.create(_this, function (res) {
                                self.updateProgress(0.6 + res * 0.4);
                            }));
                        },
                        fail: function (res) {
                            // 分包加载失败通过 fail 回调时强行重新加载资源，这样才能进游戏
                            _this.loadRes();
                        }
                    });
                    loadTask1.onProgressUpdate(function (res) {
                        self.updateProgress(0.3 + res.progress * 0.003);
                    });
                },
                fail: function (res) {
                    // 分包加载失败通过 fail 回调
                    _this.loadRes();
                }
            });
            loadTask.onProgressUpdate(function (res) {
                self.updateProgress(res.progress * 0.003);
            });
        }
        else {
            Laya.loader.load(resource, Laya.Handler.create(this, function () {
                self.updateProgress(0.99);
                _this.loadResComplete();
            }), Laya.Handler.create(this, function (res) {
                self.updateProgress(res);
            }));
        }
    };
    WXLaunch.prototype.loadResComplete = function () {
        //本地游戏数据配置
        ConfigData_1.default.initConfigData(Laya.Loader.getRes("res/json/config.json"));
        //语言文件
        ConfigData_1.default.languageData = Laya.Loader.getRes("res/json/" + ConfigData_1.default.language + ".json");
        // Laya.Scene3D.load(this.scene3dUrl, Laya.Handler.create(this, this.On3DResLoadComplete));
        this.On3DResLoadComplete();
    };
    WXLaunch.prototype.On3DResLoadComplete = function (scene) {
        this.updateProgress(1);
        if (Laya.Browser.onMiniGame) {
            Laya.MiniAdpter.sendAtlasToOpenDataContext("res/atlas/rank.atlas"); //使用接口将图集透传到子域
        }
        SoundMgr_1.default.instance.playBGM();
        // scene.addComponent(GameMgr);
        // Laya.stage.addChildAt(scene,0);
        EventMgr_1.default.instance.emit("goHome");
    };
    /**
         * 更新资源加载进度
         */
    WXLaunch.prototype.updateProgress = function (progress) {
        var _this = this;
        this.progress = progress;
        this.progress > this.toProcess ? this.toProcess : this.progress;
        //最高100%进度
        if (this.progress >= 1) {
            // Laya.Tween.clearAll(this.pro);
            this.proLabel.text = "游戏加载完毕，即将进入游戏...";
            this.pro.width = 500;
            Laya.timer.frameOnce(2, this, function () {
                _this.owner.destroy();
                Laya.loader.clearRes("loading/loading.atlas");
                _this.destroy();
            });
        }
        else {
            this.pro.width = 500 * this.progress;
            // Laya.Tween.clearAll(this.pro);
            // Laya.Tween.to(this.pro,{width:500 * this.progress},100,Laya.Ease.linearNone)
            //进度增加
            this.proLabel.text = "资源加载中..." + Math.floor(this.progress * 100) + "%";
        }
    };
    return WXLaunch;
}(Laya.Script));
exports.default = WXLaunch;

},{"../../mgrCommon/EventMgr":5,"../../mgrCommon/SoundMgr":8,"../../models/ConfigData":12,"../../tools/MyUtils":20}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var WXSubDomain = /** @class */ (function () {
    function WXSubDomain() {
    }
    WXSubDomain.prototype.setOpenView = function (_v) {
        this.wxOpenDataView = _v;
    };
    WXSubDomain.prototype.closeFriendRank = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeFriendRank" });
    };
    WXSubDomain.prototype.openFriendRank = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        // Laya.timer.frameOnce(1, this, ()=> {
        this.wxOpenDataView.postMsg({ type: "openFriendRank" });
        // })
    };
    WXSubDomain.prototype.openGameOver = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openGameOver" });
    };
    WXSubDomain.prototype.closeGameOver = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeGameOver" });
    };
    WXSubDomain.prototype.openSurpassOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openSurpassOther", data: _d });
    };
    WXSubDomain.prototype.closeSurpassOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeSurpassOther" });
    };
    WXSubDomain.prototype.openGoingSurpassOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openGoingSurpassOther", data: _d });
    };
    WXSubDomain.prototype.closeGoingSurpassOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeGoingSurpassOther" });
    };
    WXSubDomain.prototype.openProvocationOther = function (_d) {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "openProvocationOther", data: _d });
    };
    WXSubDomain.prototype.closeProvocationOther = function () {
        if (!Laya.Browser.onMiniGame || !this.wxOpenDataView) {
            return;
        }
        this.wxOpenDataView.postMsg({ type: "closeProvocationOther" });
    };
    return WXSubDomain;
}());
exports.default = WXSubDomain;

},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var UserData_1 = require("../models/UserData");
var HttpUtils = /** @class */ (function () {
    function HttpUtils() {
    }
    HttpUtils.prototype.request = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        var url = "";
        if (_d.url.indexOf("https://") > -1 ||
            _d.url.indexOf("http://") > -1) {
            url = _d.url;
        }
        else {
            url = ConfigData_1.default.serverUrl + _d.url;
        }
        var completeFunc = function (res) {
            if (_d.callback) {
                // console.log("url:" + url +" res:" + JSON.stringify(res));
                _d.callback(res);
            }
            _d.callback = null;
            _d = null;
        };
        var errorFunc = function (res) {
            if (_d.fail) {
                _d.fail(res);
            }
            _d.fail = null;
            _d = null;
        };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        xhr.once(Laya.Event.COMPLETE, this, completeFunc);
        xhr.once(Laya.Event.ERROR, this, errorFunc);
        xhr.send(url, JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    HttpUtils.prototype.requestStatistics = function (_d) {
        var meth = _d.meth || "post";
        var data = _d.data || {};
        _d.url = _d.url || "";
        var url = ConfigData_1.default.statisticsUrl + _d.url;
        // var completeDel = (res) => {
        //     if (_d.callback) {
        //         // console.log("url:" + url +" res:" + JSON.stringify(res));
        //         _d.callback(res);
        //     }
        // };
        // var errorDel = (res) => {
        //     if (_d.fail)  {
        //         _d.fail(res);
        //     }
        // };
        if (UserData_1.default.sessionId) {
            data.sessionId = UserData_1.default.sessionId;
            // console.log("sessionId：" + UserData.sessionId);
        }
        var xhr = new Laya.HttpRequest();
        // xhr.once(Laya.Event.COMPLETE, this, completeDel);
        // xhr.once(Laya.Event.ERROR, this, errorDel);
        xhr.send(url, "param=" + JSON.stringify(data), meth, "json", ["Content-Type", "application/x-www-form-urlencoded"]);
    };
    //拿线上游戏的json配制
    HttpUtils.prototype.getRemoteJson = function (_callback) {
        var _this = this;
        var xhr = new Laya.HttpRequest();
        xhr.once(Laya.Event.COMPLETE, this, function (data) {
            if (data && typeof data != "string" && typeof data == "object") {
                if (ConfigData_1.default.jsonVersion != data.vision) {
                    xhr = new Laya.HttpRequest();
                    xhr.once(Laya.Event.COMPLETE, _this, function (res) {
                        if (res && typeof res != "string" && typeof res == "object") {
                            if (_callback) {
                                _callback(res);
                            }
                        }
                    });
                    xhr.send(data.path, null, "get", "json", ["Content-Type", "application/json"]);
                }
            }
        });
        xhr.send(ConfigData_1.default.jsonVersionUrl, null, "get", "json", ["Content-Type", "application/json"]);
    };
    return HttpUtils;
}());
exports.default = HttpUtils;

},{"../models/ConfigData":12,"../models/UserData":13}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var MyLog = /** @class */ (function () {
    function MyLog() {
    }
    MyLog.log = function (arg1, arg2) {
        if (ConfigData_1.default.isLog) {
            console.log(arg1, arg2);
        }
    };
    return MyLog;
}());
exports.default = MyLog;

},{"../models/ConfigData":12}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ConfigData_1 = require("../models/ConfigData");
var MyUtils = /** @class */ (function () {
    function MyUtils() {
    }
    MyUtils.isNull = function (obj) {
        if (obj != 0 && (obj == null || obj == "" || obj == undefined)) {
            return true;
        }
        return false;
    };
    MyUtils.random = function (min, max) {
        var range = max - min;
        var rand = Math.random();
        var num = min + Math.round(rand * range); //四舍五入
        return num;
    };
    /**
 * 比较版本号，格式xx.xx.xx
 * @param v1 当前版本号
 * @param v2 目标版本号
*/
    MyUtils.compareVersion = function (v1, v2) {
        v1 = v1.split('.');
        v2 = v2.split('.');
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) {
            v1.push('0');
        }
        while (v2.length < len) {
            v2.push('0');
        }
        for (var i = 0; i < len; i++) {
            var num1 = parseInt(v1[i]);
            var num2 = parseInt(v2[i]);
            if (num1 > num2) {
                return 1;
            }
            else if (num1 < num2) {
                return -1;
            }
        }
        return 0;
    };
    //顶部按钮对齐，大体适配是ok的
    MyUtils.autoScreenSize = function (node) {
        if (!Laya.Browser.onMiniGame) {
            return;
        }
        var info = ConfigData_1.default.systemInfo;
        var Y = 60;
        if (info.statusBarHeight < 20) { //18
            Y += 10;
        }
        else if (info.statusBarHeight >= 30) { //44
            Y += 60;
        }
        else if (info.statusBarHeight > 20 && info.statusBarHeight < 30) { //27
            Y += 74;
        }
        node.forEach(function (e) {
            e.y = Y;
        });
    };
    return MyUtils;
}());
exports.default = MyUtils;

},{"../models/ConfigData":12}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var BaseView = /** @class */ (function (_super) {
    __extends(BaseView, _super);
    function BaseView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isMyBaseView = true;
        return _this;
    }
    BaseView.prototype.onAwake = function () {
        //删除时自动释放
        this.owner.autoDestroyAtClosed = true;
    };
    BaseView.prototype.onEnable = function () {
        this.addEvent();
    };
    BaseView.prototype.onDisable = function () {
        this.removeEvent();
    };
    BaseView.prototype.openView = function (data) {
        this.owner.visible = true;
        this.owner.height = Laya.stage.height;
        this._data = data || {};
    };
    BaseView.prototype.addEvent = function () {
    };
    BaseView.prototype.removeEvent = function () {
        this._isClick = null;
        Laya.timer.clearAll(this);
    };
    BaseView.prototype.closeView = function (_d) {
        var _viewName = this.owner.url;
        if (_d && _d.notDestroy) {
            ViewMgr_1.default.instance.hideView(_viewName);
        }
        else {
            ViewMgr_1.default.instance.closeView(_viewName);
        }
        if (_viewName == "Rank.scene") {
            if (PlatformMgr_1.default.ptAPI)
                PlatformMgr_1.default.ptAPI.setAuthorizationCheck(true);
        }
        if (this._data && this._data.callback) {
            this._data.callback(_d);
        }
        this._data = null;
    };
    return BaseView;
}(Laya.Script));
exports.default = BaseView;

},{"../mgrCommon/PlatformMgr":7,"../mgrCommon/ViewMgr":11}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonAnim = /** @class */ (function (_super) {
    __extends(ButtonAnim, _super);
    function ButtonAnim() {
        return _super.call(this) || this;
    }
    ButtonAnim.prototype.onAwake = function () {
        this.owner.on(Laya.Event.MOUSE_DOWN, this, this.onDown);
        this.owner.on(Laya.Event.MOUSE_UP, this, this.onUp);
        this.owner.on(Laya.Event.MOUSE_OUT, this, this.onUp);
    };
    ButtonAnim.prototype.onDisable = function () {
        this.owner.offAll();
        Laya.Tween.clearAll(this);
    };
    ButtonAnim.prototype.onDown = function () {
        Laya.Tween.to(this.owner, { scaleX: 0.8, scaleY: 0.8 }, 100);
    };
    ButtonAnim.prototype.onUp = function () {
        Laya.Tween.to(this.owner, { scaleX: 1, scaleY: 1 }, 100);
    };
    return ButtonAnim;
}(Laya.Script));
exports.default = ButtonAnim;

},{}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var ConfigData_1 = require("../models/ConfigData");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ConvergeAdView = /** @class */ (function (_super) {
    __extends(ConvergeAdView, _super);
    function ConvergeAdView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.appid = ""; //需要调转的APPID
        return _this;
    }
    ConvergeAdView.prototype.onAwake = function () {
        this.homeBtn = this.owner.getChildByName("btn_close");
        MyUtils_1.default.autoScreenSize([this.homeBtn]);
        this.shareBtn = this.owner.getChildByName("shareBtn");
        this.okBtn = this.owner.getChildByName("btn_again");
        this.adList = this.owner.getChildByName("list");
        this.adList.vScrollBarSkin = '';
        this.adList.selectEnable = true;
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdOther();
    };
    ConvergeAdView.prototype.onDisable = function () {
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
    };
    ConvergeAdView.prototype.addEvent = function () {
        this.adList.renderHandler = new Laya.Handler(this, this.onRender);
        this.adList.mouseHandler = new Laya.Handler(this, this.onClickItem);
        this.okBtn.on(Laya.Event.CLICK, this, this.onClickHome);
        this.homeBtn.on(Laya.Event.CLICK, this, this.onClickHome);
    };
    ConvergeAdView.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
        this.adList.renderHandler = null;
        this.adList.mouseHandler = null;
        this.okBtn.off(Laya.Event.CLICK, this, this.onClickHome);
        this.homeBtn.off(Laya.Event.CLICK, this, this.onClickHome);
    };
    ConvergeAdView.prototype.openView = function (data) {
        var _this = this;
        _super.prototype.openView.call(this, data);
        this.homeBtn.visible = false;
        var allll = [];
        if (this.adList.array == null) {
            allll = ConfigData_1.default.getADData(1004);
            this.adList.array = allll;
        }
        this.adList.refresh(); //刷新数据源
        this.adList.scrollTo(0); //第一个显示的 位置
        Laya.timer.once(1000, this, function () {
            if (_this && _this.homeBtn) {
                _this.homeBtn.visible = true;
            }
        });
    };
    ConvergeAdView.prototype.onClickHome = function () {
        this.closeView();
        EventMgr_1.default.instance.emit("goHome");
    };
    ConvergeAdView.prototype.okClick = function () {
        this.closeView();
        EventMgr_1.default.instance.emit("gameStart");
    };
    /**
    * 单个 box 点击事件
    */
    ConvergeAdView.prototype.onClickItem = function (e, index) {
        if (e.type == Laya.Event.CLICK) {
            if ((e.target) instanceof Laya.Box) {
                var obj = {
                    path: this.adList.array[index].toLinks,
                    appid: this.adList.array[index].appid,
                };
                if (PlatformMgr_1.default.ptAPI)
                    PlatformMgr_1.default.ptAPI.navigateToMiniProgram(obj);
            }
        }
    };
    ConvergeAdView.prototype.onRender = function (cell, index) {
        if (index > this.adList.array.length && this.adList.array.length == 0)
            return;
        if (this.adList.array[index] != null) {
            var img = cell.getChildByName("img");
            img.skin = this.adList.array[index].param;
        }
    };
    return ConvergeAdView;
}(BaseView_1.default));
exports.default = ConvergeAdView;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var BaseView_1 = require("./BaseView");
var GameFighting = /** @class */ (function (_super) {
    __extends(GameFighting, _super);
    function GameFighting() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    GameFighting.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.surpassOther = this.owner.getChildByName("surpassOther");
        this.provocationOther = this.owner.getChildByName("provocationOther");
        this.provocationOther.visible = false;
        this.surpassOther.visible = false;
        Laya.stage.addChildAt(this.owner, 1);
    };
    GameFighting.prototype.openProvocationOther = function (_type) {
        this.provocationOther.visible = true;
        this.owner.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.provocationOther);
        PlatformMgr_1.default.subDomain.openProvocationOther(_type);
    };
    GameFighting.prototype.closeProvocationOther = function () {
        this.provocationOther.visible = false;
        PlatformMgr_1.default.subDomain.closeProvocationOther();
    };
    GameFighting.prototype.openSurpassOther = function (_type) {
        this.surpassOther.visible = true;
        this.owner.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.surpassOther);
        PlatformMgr_1.default.subDomain.openSurpassOther({
            _type: _type,
            val: -1
        });
    };
    GameFighting.prototype.closeSurpassOther = function () {
        this.surpassOther.visible = false;
        PlatformMgr_1.default.subDomain.closeSurpassOther();
    };
    GameFighting.prototype.onDisable = function () {
    };
    return GameFighting;
}(BaseView_1.default));
exports.default = GameFighting;

},{"../mgrCommon/PlatformMgr":7,"./BaseView":21}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameOverView = /** @class */ (function (_super) {
    __extends(GameOverView, _super);
    function GameOverView() {
        return _super.call(this) || this;
    }
    return GameOverView;
}(Laya.Script));
exports.default = GameOverView;

},{}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var GoldenEggView = /** @class */ (function (_super) {
    __extends(GoldenEggView, _super);
    function GoldenEggView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.clickCount = 0;
        return _this;
    }
    GoldenEggView.prototype.onAwake = function () {
        var _this = this;
        this.clickCount = 0;
        this.progressNum = 0;
        Laya.timer.frameLoop(25, this, function () {
            if (_this != null && _this != undefined) {
                _this.progressNum -= 0.06;
                _this.updataProgress();
            }
        });
        var anchorS = this.owner.getChildByName("anchorS");
        var offsetY = 0;
        if (PlatformMgr_1.default.ptAPI)
            offsetY = PlatformMgr_1.default.ptAPI.getOffsetOpenDomain();
        anchorS.y = anchorS.y + offsetY;
        this.okBtn = anchorS.getChildByName("okBtn");
        this.closeBtn = this.owner.getChildByName("closeBtn");
        this.bar = this.owner.getChildByName("bar");
        this.hammerAnim = this.owner.getChildByName("img_hammer");
    };
    GoldenEggView.prototype.addEvent = function () {
        this.okBtn.on(Laya.Event.CLICK, this, this.btnClick);
        this.closeBtn.on(Laya.Event.CLICK, this, this.closeView);
    };
    GoldenEggView.prototype.openView = function (_d) {
        _super.prototype.openView.call(this, _d);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.loadBannerAdHome();
    };
    GoldenEggView.prototype.btnClick = function () {
        this.clickCount++;
        if (this.clickCount > 14) {
            //弹出框
            this.close();
            return;
        }
        this.progressNum += 0.1;
        if (this.progressNum >= 1) {
            this.close();
            return;
        }
        this.hammerAnim.play(0, false);
        this.updataProgress();
    };
    GoldenEggView.prototype.updataProgress = function () {
        if (this.progressNum >= 1) {
            this.progressNum = 1;
        }
        else if (this.progressNum <= 0.07) {
            this.progressNum = 0.07;
        }
        this.bar.height = 375 * this.progressNum;
    };
    GoldenEggView.prototype.close = function () {
        _super.prototype.closeView.call(this);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    return GoldenEggView;
}(BaseView_1.default));
exports.default = GoldenEggView;

},{"../mgrCommon/PlatformMgr":7,"./BaseView":21}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var ConfigData_1 = require("../models/ConfigData");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var SoundMgr_1 = require("../mgrCommon/SoundMgr");
var GameFighting_1 = require("./GameFighting");
var MainViewLandscape = /** @class */ (function (_super) {
    __extends(MainViewLandscape, _super);
    function MainViewLandscape() {
        return _super.call(this) || this;
    }
    MainViewLandscape.prototype.onAwake = function () {
        var _this = this;
        this.btnSound = this.owner.getChildByName("btnSound");
        this.soundOpen = this.btnSound.getChildByName("open");
        this.soundClose = this.btnSound.getChildByName("close");
        this.btnVirbort = this.owner.getChildByName("btnVirbort");
        this.virbortOpen = this.btnVirbort.getChildByName("open");
        this.virbortClose = this.btnVirbort.getChildByName("close");
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        this.btnInvite = this.owner.getChildByName("btnInvite");
        this.btnService = this.owner.getChildByName("btnService");
        this.btnRank = this.owner.getChildByName("btnRank");
        this.btnCollect = this.owner.getChildByName("btnCollect");
        this.btnStart = this.owner.getChildByName("btnStart");
        MyUtils_1.default.autoScreenSize([this.btnSound, this.btnVirbort]);
        Laya.Scene.load("GameFighting.scene", Laya.Handler.create(this, function (scene) {
            Laya.stage.addChild(scene);
            _this.gameFighting = scene;
            _this.gameFightingCom = scene.getComponent(GameFighting_1.default);
            scene.visible = false;
        }));
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    MainViewLandscape.prototype.addEvent = function () {
        this.btnSound.on(Laya.Event.CLICK, this, this.soundBtnClick);
        this.btnVirbort.on(Laya.Event.CLICK, this, this.virbortBtnClick);
        this.btnRank.on(Laya.Event.CLICK, this, this.rankClick);
        this.btnService.on(Laya.Event.CLICK, this, this.serviceClick);
        this.btnInvite.on(Laya.Event.CLICK, this, this.inviteClick);
        this.btnCollect.on(Laya.Event.CLICK, this, this.collectClick);
        this.btnStart.on(Laya.Event.CLICK, this, this.startClick);
    };
    MainViewLandscape.prototype.collectClick = function () {
        // this.gameFightingCom.openProvocationOther(SORTTYPE.ENDLESS);
        ViewMgr_1.default.instance.openView({
            viewName: "Resurgence.scene",
        });
        return;
        ViewMgr_1.default.instance.openView({
            viewName: "Collect.scene",
            closeAll: true,
        });
    };
    MainViewLandscape.prototype.virbortBtnClick = function () {
        ConfigData_1.default.isVirbort = !ConfigData_1.default.isVirbort;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        ConfigData_1.default.setVirbort(ConfigData_1.default.isVirbort ? "" : "1");
    };
    MainViewLandscape.prototype.soundBtnClick = function () {
        ConfigData_1.default.isSound = !ConfigData_1.default.isSound;
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        if (ConfigData_1.default.isSound) {
            ConfigData_1.default.setSound("1");
            SoundMgr_1.default.instance.playBGM();
        }
        else {
            ConfigData_1.default.setSound("");
            SoundMgr_1.default.instance.stopBGM();
        }
    };
    MainViewLandscape.prototype.inviteClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        var _d = {
            caller: this,
            callback: function (res) {
                if (!res.success) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "uiViews/TipView.scene",
                        closeAll: false,
                        data: "分享失败",
                    });
                }
            },
        };
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.shareAppMessage(_d, 1);
    };
    MainViewLandscape.prototype.serviceClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.openCustomerServiceConversation();
    };
    MainViewLandscape.prototype.rankClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        ViewMgr_1.default.instance.openView({
            viewName: "Rank.scene",
            closeAll: false,
        });
    };
    MainViewLandscape.prototype.startClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.destoryAuthorization();
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        EventMgr_1.default.instance.emit("gameStart");
        ViewMgr_1.default.instance.openView({
            viewName: "GameFighting.scene",
            closeAll: true,
        });
    };
    MainViewLandscape.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
    };
    return MainViewLandscape;
}(BaseView_1.default));
exports.default = MainViewLandscape;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../mgrCommon/SoundMgr":8,"../mgrCommon/ViewMgr":11,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21,"./GameFighting":24}],28:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var ConfigData_1 = require("../models/ConfigData");
var MyUtils_1 = require("../tools/MyUtils");
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var EventMgr_1 = require("../mgrCommon/EventMgr");
var ViewMgr_1 = require("../mgrCommon/ViewMgr");
var SoundMgr_1 = require("../mgrCommon/SoundMgr");
var MainViewVertical = /** @class */ (function (_super) {
    __extends(MainViewVertical, _super);
    function MainViewVertical() {
        return _super.call(this) || this;
    }
    MainViewVertical.prototype.onAwake = function () {
        this.btnSound = this.owner.getChildByName("btnSound");
        this.soundOpen = this.btnSound.getChildByName("open");
        this.soundClose = this.btnSound.getChildByName("close");
        this.btnVirbort = this.owner.getChildByName("btnVirbort");
        this.virbortOpen = this.btnVirbort.getChildByName("open");
        this.virbortClose = this.btnVirbort.getChildByName("close");
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        this.btnInvite = this.owner.getChildByName("btnInvite");
        this.btnService = this.owner.getChildByName("btnService");
        this.btnRank = this.owner.getChildByName("btnRank");
        this.btnStart = this.owner.getChildByName("btnStart");
        MyUtils_1.default.autoScreenSize([this.btnSound, this.btnVirbort]);
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.showBannerAdHome();
    };
    MainViewVertical.prototype.addEvent = function () {
        this.btnSound.on(Laya.Event.CLICK, this, this.soundBtnClick);
        this.btnVirbort.on(Laya.Event.CLICK, this, this.virbortBtnClick);
        this.btnInvite.on(Laya.Event.CLICK, this, this.inviteClick);
        this.btnService.on(Laya.Event.CLICK, this, this.serviceClick);
        this.btnRank.on(Laya.Event.CLICK, this, this.rankClick);
        this.btnStart.on(Laya.Event.CLICK, this, this.startClick);
    };
    MainViewVertical.prototype.virbortBtnClick = function () {
        ConfigData_1.default.isVirbort = !ConfigData_1.default.isVirbort;
        this.virbortClose.visible = !ConfigData_1.default.isVirbort;
        this.virbortOpen.visible = ConfigData_1.default.isVirbort;
        ConfigData_1.default.setVirbort(ConfigData_1.default.isVirbort ? "" : "1");
    };
    MainViewVertical.prototype.soundBtnClick = function () {
        ConfigData_1.default.isSound = !ConfigData_1.default.isSound;
        this.soundClose.visible = !ConfigData_1.default.isSound;
        this.soundOpen.visible = ConfigData_1.default.isSound;
        if (ConfigData_1.default.isSound) {
            ConfigData_1.default.setSound("1");
            SoundMgr_1.default.instance.playBGM();
        }
        else {
            ConfigData_1.default.setSound("");
            SoundMgr_1.default.instance.stopBGM();
        }
    };
    MainViewVertical.prototype.inviteClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        var _d = {
            caller: this,
            callback: function (res) {
                if (!res.success) {
                    ViewMgr_1.default.instance.openView({
                        viewName: "uiViews/TipView.scene",
                        closeAll: false,
                        data: "分享失败",
                    });
                }
            },
        };
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.shareAppMessage(_d, 1);
    };
    MainViewVertical.prototype.serviceClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.openCustomerServiceConversation();
    };
    MainViewVertical.prototype.rankClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        ViewMgr_1.default.instance.openView({
            viewName: "Rank.scene",
            closeAll: false,
        });
    };
    MainViewVertical.prototype.startClick = function () {
        var _this = this;
        if (this._isClick) {
            return;
        }
        if (PlatformMgr_1.default.ptAPI)
            PlatformMgr_1.default.ptAPI.destoryAuthorization();
        if (PlatformMgr_1.default.ptAdMgr)
            PlatformMgr_1.default.ptAdMgr.destoryAllBannerAd();
        this._isClick = true;
        Laya.timer.once(500, this, function () {
            _this._isClick = null;
        });
        EventMgr_1.default.instance.emit("gameStart");
    };
    MainViewVertical.prototype.removeEvent = function () {
        _super.prototype.removeEvent.call(this);
    };
    return MainViewVertical;
}(BaseView_1.default));
exports.default = MainViewVertical;

},{"../mgrCommon/EventMgr":5,"../mgrCommon/PlatformMgr":7,"../mgrCommon/SoundMgr":8,"../mgrCommon/ViewMgr":11,"../models/ConfigData":12,"../tools/MyUtils":20,"./BaseView":21}],29:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlatformMgr_1 = require("../mgrCommon/PlatformMgr");
var ConfigData_1 = require("../models/ConfigData");
var BaseView_1 = require("./BaseView");
var Resurgence = /** @class */ (function (_super) {
    __extends(Resurgence, _super);
    function Resurgence() {
        return _super.call(this) || this;
    }
    Resurgence.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.goingSurpassOther = this.owner.getChildByName("goingSurpassOther");
        this.goingSurpassOther.visible = false;
    };
    Resurgence.prototype.openView = function (data) {
        _super.prototype.openView.call(this, data);
        this.openGoingSurpassOther(ConfigData_1.SORTTYPE.ENDLESS);
    };
    Resurgence.prototype.openGoingSurpassOther = function (_type) {
        this.owner.visible = true;
        this.goingSurpassOther.visible = true;
        PlatformMgr_1.default.subDomain.setOpenView(this.goingSurpassOther);
        PlatformMgr_1.default.subDomain.openGoingSurpassOther(_type);
    };
    Resurgence.prototype.closeGoingSurpassOther = function () {
        PlatformMgr_1.default.subDomain.closeGoingSurpassOther();
    };
    Resurgence.prototype.onDisable = function () {
    };
    return Resurgence;
}(BaseView_1.default));
exports.default = Resurgence;

},{"../mgrCommon/PlatformMgr":7,"../models/ConfigData":12,"./BaseView":21}],30:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("./BaseView");
var TipView = /** @class */ (function (_super) {
    __extends(TipView, _super);
    function TipView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TipView.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.tipLbl = this.owner.getChildByName("image").getChildByName("Label");
    };
    TipView.prototype.addEvent = function () {
        var _this = this;
        this.owner.on(Laya.Event.CLICK, this, function () {
            _this.closeView();
        });
    };
    TipView.prototype.openView = function (str) {
        var _this = this;
        _super.prototype.openView.call(this, str);
        this.tipLbl.text = str;
        Laya.timer.once(2000, this, function () {
            _this.closeView();
        });
    };
    return TipView;
}(BaseView_1.default));
exports.default = TipView;

},{"./BaseView":21}],31:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MyUtils_1 = require("../../tools/MyUtils");
var RankItem = /** @class */ (function (_super) {
    __extends(RankItem, _super);
    function RankItem() {
        return _super.call(this) || this;
    }
    RankItem.prototype.onAwake = function () {
        this.bgImg = this.owner.getChildByName("imgBg");
        this.rankImg = this.owner.getChildByName("rankImg");
        this.rankLab = this.owner.getChildByName("rankLab");
        this.avatarImg = this.owner.getChildByName("avatarImg");
        this.nameLab = this.owner.getChildByName("nameLab");
        this.scoreLab = this.owner.getChildByName("scoreLab");
    };
    RankItem.prototype.updateItem = function (itemData) {
        this.owner.active = true;
        this.rankImg.visible = false;
        this.rankLab.text = itemData.index || "未上榜";
        switch (itemData.index) {
            case 1:
            case 2:
            case 3:
                this.rankLab.text = "";
                this.rankImg.skin = "rank/" + itemData.index + ".png";
                this.rankImg.visible = true;
                break;
        }
        if (!MyUtils_1.default.isNull(itemData.headImage) && itemData.headImage != "youke") {
            var avatarUrl = itemData.headImage.replace("/132", "/46");
            this.avatarImg.skin = avatarUrl;
        }
        this.nameLab.text = itemData.nickname ? itemData.nickname : "神秘玩家";
        this.scoreLab.text = itemData.score;
    };
    RankItem.prototype.clean = function () {
        this.owner.active = false;
    };
    return RankItem;
}(Laya.Script));
exports.default = RankItem;

},{"../../tools/MyUtils":20}],32:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseView_1 = require("../BaseView");
var PlatformMgr_1 = require("../../mgrCommon/PlatformMgr");
var MyUtils_1 = require("../../tools/MyUtils");
var HttpMgr_1 = require("../../mgrCommon/HttpMgr");
var RankItem_1 = require("./RankItem");
var UserData_1 = require("../../models/UserData");
var RankView = /** @class */ (function (_super) {
    __extends(RankView, _super);
    function RankView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RankView.prototype.onAwake = function () {
        _super.prototype.onAwake.call(this);
        this.closeBtn = this.owner.getChildByName("btnClose");
        this.wxOpenDataView = this.owner.getChildByName("wxOpenDataView");
        var node = this.owner.getChildByName("content");
        this.friendBtn = node.getChildByName("friendBtn");
        this.worldBtn = node.getChildByName("worldBtn");
        this.selectFriendRank = node.getChildByName("selectFriendRank");
        this.normalFriendRank = node.getChildByName("normalFriendRank");
        this.selectWorldRank = node.getChildByName("selectWorldRank");
        this.normalWorldRank = node.getChildByName("normalWorldRank");
        var offset = { y: 0 };
        if (PlatformMgr_1.default.ptAPI)
            offset = PlatformMgr_1.default.ptAPI.getOffsetOpenDomain();
        this.wxOpenDataView.y = this.wxOpenDataView.y + offset.y / 2;
        PlatformMgr_1.default.subDomain.setOpenView(this.wxOpenDataView);
        this.worldRankList = node.getChildByName("worldRankList");
        this.worldRankList.array = [];
        this.worldRankList.renderHandler = new Laya.Handler(this, this.onRender);
        this.worldRankList.vScrollBarSkin = "";
        this.selfRankSprite = node.getChildByName("selfRankItem");
        this.selfRankITem = this.selfRankSprite.getComponent(RankItem_1.default);
        MyUtils_1.default.autoScreenSize([this.closeBtn]);
    };
    RankView.prototype.setMyRankInfo = function () {
        this.selfRankITem.updateItem(this.selfRankData);
    };
    RankView.prototype.onRender = function (cell, index) {
        var item = cell.getComponent(RankItem_1.default);
        item.updateItem(cell.dataSource);
    };
    RankView.prototype.addEvent = function () {
        this.closeBtn.on(Laya.Event.CLICK, this, this.closeView);
        this.worldBtn.on(Laya.Event.CLICK, this, this.worldRankClick);
        this.friendBtn.on(Laya.Event.CLICK, this, this.friendRankClick);
    };
    RankView.prototype.getWorldData = function () {
        var _this = this;
        HttpMgr_1.default.instance.getWorldRank({
            success: function (res) {
                _this.worldData = res.rank;
                _this.selfRankData = {
                    index: res.myIndex,
                    nickname: UserData_1.default.nickName,
                    headImage: UserData_1.default.avatarUrl,
                    score: UserData_1.default.score || 0
                };
                if (res.myIndex && res.myIndex <= _this.worldData.length) {
                    _this.selfRankData = _this.worldData[res.myIndex];
                }
                _this.setWorldRankDta();
            }
        });
    };
    RankView.prototype.setWorldRankDta = function () {
        this.setMyRankInfo();
        this.worldRankList.array = this.worldData;
        this.worldRankList.refresh();
    };
    RankView.prototype.worldRankClick = function () {
        // if (this.worldRankList.active)
        //     return;
        this.wxOpenDataView.visible = false;
        this.selectFriendRank.visible = false;
        this.normalFriendRank.visible = true;
        this.selectWorldRank.visible = true;
        this.normalWorldRank.visible = false;
        this.worldRankList.visible = true;
        this.selfRankSprite.visible = true;
        PlatformMgr_1.default.subDomain.closeFriendRank();
        if (this.worldData) {
            this.setWorldRankDta();
        }
        else {
            this.getWorldData();
        }
    };
    RankView.prototype.friendRankClick = function () {
        // if (!Laya.Browser.onMiniGame || this.wxOpenDataView.active)
        //     return;
        this.wxOpenDataView.visible = true;
        this.selectFriendRank.visible = true;
        this.normalFriendRank.visible = false;
        this.selectWorldRank.visible = false;
        this.normalWorldRank.visible = true;
        this.worldRankList.visible = false;
        this.selfRankSprite.visible = false;
        //打开子域排行榜 TODO
        PlatformMgr_1.default.subDomain.openFriendRank();
    };
    RankView.prototype.removeEvent = function () {
        this.closeBtn.off(Laya.Event.CLICK, this, this.closeView);
        this.worldBtn.off(Laya.Event.CLICK, this, this.worldRankClick);
        this.friendBtn.off(Laya.Event.CLICK, this, this.friendRankClick);
        _super.prototype.removeEvent.call(this);
    };
    RankView.prototype.openView = function () {
        _super.prototype.openView.call(this);
        this.worldRankClick();
    };
    RankView.prototype.closeView = function () {
        this.worldData = null;
        _super.prototype.closeView.call(this);
    };
    return RankView;
}(BaseView_1.default));
exports.default = RankView;

},{"../../mgrCommon/HttpMgr":6,"../../mgrCommon/PlatformMgr":7,"../../models/UserData":13,"../../tools/MyUtils":20,"../BaseView":21,"./RankItem":31}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvbXQvMXNxYnJxeTExX3M2bV9fZ3lqeDJfeWwwMDAwMGdwL1QvQXBwVHJhbnNsb2NhdGlvbi9FMEM5MEFGQS1DN0QyLTRGQzUtODgzRC03NjA2RTkxQzBBQzYvZC9MYXlhQWlySURFLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9Mb2dpbi50cyIsInNyYy9zY3JpcHQvTXlJbml0LnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vRXZlbnRNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9IdHRwTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vUGxhdGZvcm1NZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9Tb3VuZE1nci50cyIsInNyYy9zY3JpcHQvbWdyQ29tbW9uL1N0YXRpc3RpY3NNZ3IudHMiLCJzcmMvc2NyaXB0L21nckNvbW1vbi9TdG9yYWdlTWdyLnRzIiwic3JjL3NjcmlwdC9tZ3JDb21tb24vVmlld01nci50cyIsInNyYy9zY3JpcHQvbW9kZWxzL0NvbmZpZ0RhdGEudHMiLCJzcmMvc2NyaXB0L21vZGVscy9Vc2VyRGF0YS50cyIsInNyYy9zY3JpcHQvcGxhdGZvcm0vd3gvV1hBRE1nci50cyIsInNyYy9zY3JpcHQvcGxhdGZvcm0vd3gvV1hBUEkudHMiLCJzcmMvc2NyaXB0L3BsYXRmb3JtL3d4L1dYTGF1bmNoLnRzIiwic3JjL3NjcmlwdC9wbGF0Zm9ybS93eC9XWFN1YkRvbWFpbi50cyIsInNyYy9zY3JpcHQvdG9vbHMvSHR0cFV0aWxzLnRzIiwic3JjL3NjcmlwdC90b29scy9NeUxvZy50cyIsInNyYy9zY3JpcHQvdG9vbHMvTXlVdGlscy50cyIsInNyYy9zY3JpcHQvdmlld3MvQmFzZVZpZXcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0J1dHRvbkFuaW0udHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0NvbnZlcmdlQWRWaWV3LnRzIiwic3JjL3NjcmlwdC92aWV3cy9HYW1lRmlnaHRpbmcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL0dhbWVPdmVyVmlldy50cyIsInNyYy9zY3JpcHQvdmlld3MvR29sZGVuRWdnVmlldy50cyIsInNyYy9zY3JpcHQvdmlld3MvTWFpblZpZXdMYW5kc2NhcGUudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL01haW5WaWV3VmVydGljYWwudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL1Jlc3VyZ2VuY2UudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL1RpcFZpZXcudHMiLCJzcmMvc2NyaXB0L3ZpZXdzL3JhbmsvUmFua0l0ZW0udHMiLCJzcmMvc2NyaXB0L3ZpZXdzL3JhbmsvV1hSYW5rVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsd0RBQWtEO0FBQ2xELGdFQUEwRDtBQUMxRCw0REFBc0Q7QUFDdEQsNERBQXNEO0FBQ3RELDhEQUF3RDtBQUN4RCwwREFBb0Q7QUFDcEQsc0VBQWdFO0FBQ2hFLG9FQUE4RDtBQUM5RCx5REFBbUQ7QUFDbkQsNkRBQXVEO0FBQ3ZELHdEQUFrRDtBQUNsRCxrREFBNEM7QUFDNUM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBQyxvQkFBVSxDQUFDLENBQUM7UUFDN0MsR0FBRyxDQUFDLGdDQUFnQyxFQUFDLHdCQUFjLENBQUMsQ0FBQztRQUNyRCxHQUFHLENBQUMsOEJBQThCLEVBQUMsc0JBQVksQ0FBQyxDQUFDO1FBQ2pELEdBQUcsQ0FBQyw4QkFBOEIsRUFBQyxzQkFBWSxD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LENBQUM7SUFDM0MsQ0FBQztJQUVNLDhCQUFXLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDakUsaUJBQU0sV0FBVyxXQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNNLDJCQUFRLEdBQWY7UUFDSSxpQkFBTSxRQUFRLFdBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVNLDRCQUFTLEdBQWhCO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsaUJBQU0sU0FBUyxXQUFFLENBQUM7SUFDdEIsQ0FBQztJQUNMLGVBQUM7QUFBRCxDQTlJQSxBQThJQyxDQTlJcUMsa0JBQVEsR0E4STdDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgQnV0dG9uQW5pbSBmcm9tIFwiLi9zY3JpcHQvdmlld3MvQnV0dG9uQW5pbVwiXG5pbXBvcnQgQ29udmVyZ2VBZFZpZXcgZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL0NvbnZlcmdlQWRWaWV3XCJcbmltcG9ydCBHYW1lRmlnaHRpbmcgZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL0dhbWVGaWdodGluZ1wiXG5pbXBvcnQgR2FtZU92ZXJWaWV3IGZyb20gXCIuL3NjcmlwdC92aWV3cy9HYW1lT3ZlclZpZXdcIlxuaW1wb3J0IEdvbGRlbkVnZ1ZpZXcgZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL0dvbGRlbkVnZ1ZpZXdcIlxuaW1wb3J0IFdYTGF1bmNoIGZyb20gXCIuL3NjcmlwdC9wbGF0Zm9ybS93eC9XWExhdW5jaFwiXG5pbXBvcnQgTWFpblZpZXdMYW5kc2NhcGUgZnJvbSBcIi4vc2NyaXB0L3ZpZXdzL01haW5WaWV3TGFuZHNjYXBlXCJcbmltcG9ydCBNYWluVmlld1ZlcnRpY2FsIGZyb20gXCIuL3NjcmlwdC92aWV3cy9NYWluVmlld1ZlcnRpY2FsXCJcbmltcG9ydCBSYW5rSXRlbSBmcm9tIFwiLi9zY3JpcHQvdmlld3MvcmFuay9SYW5rSXRlbVwiXG5pbXBvcnQgV1hSYW5rVmlldyBmcm9tIFwiLi9zY3JpcHQvdmlld3MvcmFuay9XWFJhbmtWaWV3XCJcbmltcG9ydCBSZXN1cmdlbmNlIGZyb20gXCIuL3NjcmlwdC92aWV3cy9SZXN1cmdlbmNlXCJcbmltcG9ydCBUaXBWaWV3IGZyb20gXCIuL3NjcmlwdC92aWV3cy9UaXBWaWV3XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTc1MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEzMzQ7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cInZlcnRpY2FsXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cIm1pZGRsZVwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJjZW50ZXJcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkxhdW5jaC5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL0J1dHRvbkFuaW0udHNcIixCdXR0b25BbmltKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL0NvbnZlcmdlQWRWaWV3LnRzXCIsQ29udmVyZ2VBZFZpZXcpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvR2FtZUZpZ2h0aW5nLnRzXCIsR2FtZUZpZ2h0aW5nKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL0dhbWVPdmVyVmlldy50c1wiLEdhbWVPdmVyVmlldyk7XG4gICAgICAgIHJlZyhcInNjcmlwdC92aWV3cy9Hb2xkZW5FZ2dWaWV3LnRzXCIsR29sZGVuRWdnVmlldyk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9wbGF0Zm9ybS93eC9XWExhdW5jaC50c1wiLFdYTGF1bmNoKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL01haW5WaWV3TGFuZHNjYXBlLnRzXCIsTWFpblZpZXdMYW5kc2NhcGUpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvTWFpblZpZXdWZXJ0aWNhbC50c1wiLE1haW5WaWV3VmVydGljYWwpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvcmFuay9SYW5rSXRlbS50c1wiLFJhbmtJdGVtKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L3ZpZXdzL3JhbmsvV1hSYW5rVmlldy50c1wiLFdYUmFua1ZpZXcpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvUmVzdXJnZW5jZS50c1wiLFJlc3VyZ2VuY2UpO1xuICAgICAgICByZWcoXCJzY3JpcHQvdmlld3MvVGlwVmlldy50c1wiLFRpcFZpZXcpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IE15SW5pdCBmcm9tIFwiLi9zY3JpcHQvTXlJbml0XCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cclxuXHRcdExheWEuaXNXWFBvc01zZyA9IHRydWU7XHJcblx0XHRMYXlhLmlzV1hPcGVuRGF0YUNvbnRleHQgPSBmYWxzZTtcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblx0XHRcclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHRcdC8vIHdpbmRvd1tcImRlc1wiXSgpO1xyXG5cdFx0TXlJbml0LmluaXQoKTtcclxuXHJcblx0XHQvLyBkZXNcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0Ly8gTGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHRcdHRoaXMub25WZXJzaW9uTG9hZGVkKCk7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdGxldCByZXM6IEFycmF5PGFueT4gPSBbXHJcblx0XHRcdHsgdXJsOiBcImxvYWRpbmcvbG9hZGluZy5hdGxhc1wiLCB0eXBlOiBMYXlhLkxvYWRlci5BVExBUyB9LFxyXG5cdFx0XTtcclxuXHRcdC8vc3RhcnRTY2VuZSDlupTor6Xorr7nva7kuLpsYXVuY2jpobXpnaJcclxuXHRcdExheWEubG9hZGVyLmxvYWQocmVzLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuXHRcdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdFx0fSkpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuaW1wb3J0IEh0dHBNZ3IgZnJvbSBcIi4vbWdyQ29tbW9uL0h0dHBNZ3JcIjtcbmltcG9ydCBTdG9yYWdlTWdyIGZyb20gXCIuL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XG5pbXBvcnQgU3RhdGlzdGljc01nciBmcm9tIFwiLi9tZ3JDb21tb24vU3RhdGlzdGljc01nclwiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuL21vZGVscy9Vc2VyRGF0YVwiO1xuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuL21nckNvbW1vbi9FdmVudE1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbiBleHRlbmRzIExheWEuU2NyaXB0e1xuXHRsb2dpbigpIHtcblx0XHRIdHRwTWdyLmluc3RhbmNlLmdldFN5c3RlbUNvbmZpZygpO1xuXHRcdEh0dHBNZ3IuaW5zdGFuY2UuZ2V0UmVtb3RlSnNvbigocmVzKT0+e1xuXHRcdFx0Q29uZmlnRGF0YS5pbml0Q29uZmlnRGF0YShyZXMsdHJ1ZSk7XG5cdFx0fSk7XG5cdFx0dGhpcy5sb2dpbkZ1bigpO1xuXHR9XG5cdFxuXG5cdGxvZ2luRnVuKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRpZiAoQ29uZmlnRGF0YS5yZWxlYXNlUGxhdGZvcm0pIHtcblx0XHRcdFBsYXRmb3JtTWdyLnB0QVBJLmRvTG9naW4oe1xuXHRcdFx0XHRzdWNjZXNzOnRoaXMubG9naW5TdWNjZXNzLFxuXHRcdFx0XHRmYWlsOnRoaXMubG9naW5GdW5cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgX2Q6IGFueSA9IHt9XG5cdFx0XHRfZC5jb2RlID0gXCIxMjNcIjtcblx0XHRcdF9kLmludml0ZUlkID0gJyc7XG5cdFx0XHRfZC5jaGFubmVsSWQgPSBcIlwiO1xuXHRcdFx0X2Quc3VjY2VzcyA9IHRoaXMubG9naW5TdWNjZXNzO1xuXHRcdFx0SHR0cE1nci5pbnN0YW5jZS5sb2dpbihfZClcblx0XHR9XG5cdH1cblxuXHRsb2dpblN1Y2Nlc3MoZGF0YSkge1xuXHRcdGlmIChkYXRhKSB7XG5cdFx0XHRVc2VyRGF0YS5pc0xvZ2luID0gdHJ1ZTtcblx0XHRcdFVzZXJEYXRhLnVzZXJJZCA9IGRhdGEudXNlcklkO1xuXHRcdFx0VXNlckRhdGEubmlja05hbWUgPSBkYXRhLm5pa2VuYW1lO1xuXHRcdFx0VXNlckRhdGEuYXZhdGFyVXJsID0gZGF0YS5oZWFkSW1hZ2U7XG5cdFx0XHRVc2VyRGF0YS5kaWFtb25kID0gZGF0YS51c2VyTW9uZXkgfHwgMDtcblx0XHRcdFVzZXJEYXRhLmNoYW5uZWxJZCA9IGRhdGEuY2hhbm5lbElkO1xuXHRcdFx0VXNlckRhdGEubGV2ZWwgPSBkYXRhLmxldmVsIHx8IDA7XG5cdFx0XHRVc2VyRGF0YS5zY29yZSA9IGRhdGEuc2NvcmUgfHwgMDtcblx0XHRcdFVzZXJEYXRhLm9wZW5JZCA9IGRhdGEub3BlbmlkO1xuXHRcdFx0VXNlckRhdGEuaXNOZXcgPSBkYXRhLmlzTmV3VXNlcjtcblx0XHRcdFVzZXJEYXRhLmV4cCA9IGRhdGEubm93RXhwIHx8IDA7XG5cdFx0XHQvL+e8k+WtmOeUqOaIt+S/oeaBr+WIsOacrOWcsFxuXHRcdFx0U3RvcmFnZU1nci5zYXZlVXNlckRhdGEoKTtcblx0XHRcdGlmKFBsYXRmb3JtTWdyLnB0QVBJKXtcblx0XHRcdFx0Ly/kuIrkvKDmjpLooYzmlbDmja5cblx0XHRcdFx0UGxhdGZvcm1NZ3IucHRBUEkudXBsb2FkUmFua0RhdGUoe1xuXHRcdFx0XHRcdGxldmVsOiBkYXRhLmxldmVsIHx8IDAsXG5cdFx0XHRcdFx0c2NvcmU6IGRhdGEuc2NvcmUgfHwgMCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQvL+S4iuS8oOe7n+iuoVxuXHRcdFx0U3RhdGlzdGljc01nci5pbnN0YW5jZS5sb2dpblN0YXRpc3RpY3NQb3N0KCk7XG5cdFx0fVxuXHRcdC8vIEV2ZW50TWdyLmluc3RhbmNlLmVtaXQoXCJsb2dpblN1Y2Nlc3NcIik7XG5cdH1cblxufVxuXG4iLCJpbXBvcnQgUGxhdGZvcm1NZ3IgZnJvbSBcIi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuL21vZGVscy9Db25maWdEYXRhXCI7XHJcbmltcG9ydCBTdG9yYWdlTWdyIGZyb20gXCIuL21nckNvbW1vbi9TdG9yYWdlTWdyXCI7XHJcbmltcG9ydCBXWEFkTWdyIGZyb20gXCIuL3BsYXRmb3JtL3d4L1dYQURNZ3JcIjtcclxuaW1wb3J0IExvZ2luIGZyb20gXCIuL0xvZ2luXCI7XHJcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuL21nckNvbW1vbi9WaWV3TWdyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeUluaXQge1xyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICBDb25maWdEYXRhLmluaXRMb2NhbCgpO1xyXG4gICAgICAgIFN0b3JhZ2VNZ3IuZ2V0TG9jYWxVc2VyRGF0YSgpO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLmluaXRQbGF0Zm9ybSgpO1xyXG4gICAgICAgIFZpZXdNZ3IuaW5zdGFuY2UuaW5pdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5ldyBMb2dpbigpLmxvZ2luKCk7XHJcbiAgICB9XHJcbn0iLCIvL+WFqOWxgOS6i+S7tlxuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciA9IGxheWEuZXZlbnRzLkV2ZW50RGlzcGF0Y2hlcjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWdyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBzdGF0aWMgZXZlbnREaXNwYXRjaGVyOiBFdmVudERpc3BhdGNoZXIgPSBuZXcgRXZlbnREaXNwYXRjaGVyKCk7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZTogRXZlbnRNZ3IgPSBuZXcgRXZlbnRNZ3IoKTs7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgLy/mtL7lj5Hkuovku7ZcbiAgICBwdWJsaWMgZW1pdChJbk5hbWUsIGFndj86IGFueSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIua0vuWPkeS6i+S7tlwiICsgSW5OYW1lLGFndik7XG4gICAgICAgIEV2ZW50TWdyLmV2ZW50RGlzcGF0Y2hlci5ldmVudChJbk5hbWUsIGFndik7XG4gICAgfVxuICAgIC8v5L6m5ZCs5LqL5Lu2XG4gICAgcHVibGljIG9uRXZlbnQoSW5OYW1lLCBjYWxsZXIsIGxpc3RlbmVyOiBGdW5jdGlvbiwgYXJnPzogYW55W10pOiB2b2lkIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLkvqblkKzkuovku7ZcIixJbk5hbWUpO1xuICAgICAgICBFdmVudE1nci5ldmVudERpc3BhdGNoZXIub24oSW5OYW1lLCBjYWxsZXIsIGxpc3RlbmVyLCAoYXJnID09IG51bGwpID8gbnVsbCA6IChbYXJnXSkpO1xuICAgIH1cblxuICAgIC8v5L6m5ZCs5LqL5Lu2XG4gICAgcHVibGljIG9uT25jZUV2ZW50KEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcjogRnVuY3Rpb24sIGFyZz86IGFueVtdKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5L6m5ZCs5LqL5Lu2XCIsSW5OYW1lKTtcbiAgICAgICAgRXZlbnRNZ3IuZXZlbnREaXNwYXRjaGVyLm9uY2UoSW5OYW1lLCBjYWxsZXIsIGxpc3RlbmVyLCAoYXJnID09IG51bGwpID8gbnVsbCA6IChbYXJnXSkpO1xuICAgIH1cblxuICAgIC8v56e76Zmk5LqL5Lu2XG4gICAgcHVibGljIG9uT2ZmRXZlbnQoSW5OYW1lLCBjYWxsZXIsIGxpc3RlbmVyOiBGdW5jdGlvbiwgYXJnPzogYW55W10pOiB2b2lkIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCLlhbPpl63kuovku7ZcIixJbk5hbWUpO1xuICAgICAgICBFdmVudE1nci5ldmVudERpc3BhdGNoZXIub2ZmKEluTmFtZSwgY2FsbGVyLCBsaXN0ZW5lcik7XG4gICAgfVxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XHJcbmltcG9ydCBTdG9yYWdlTWdyIGZyb20gXCIuL1N0b3JhZ2VNZ3JcIjtcclxuaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcbmltcG9ydCBIdHRwVXRpbHMgZnJvbSBcIi4uL3Rvb2xzL0h0dHBVdGlsc1wiO1xyXG5pbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uL21vZGVscy9Vc2VyRGF0YVwiO1xyXG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4vRXZlbnRNZ3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh0dHBNZ3Ige1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZTogSHR0cE1nciA9IG5ldyBIdHRwTWdyKCk7XHJcbiAgICBwcml2YXRlIF9odHRwOkh0dHBVdGlscyA9IG5ldyBIdHRwVXRpbHMoKTtcclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcbiAgICAvL+eZu+mZhlxyXG4gICAgcHVibGljIGxvZ2luKF9kOmFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ3VzZXJMb2dpbi5hY3Rpb24nLCBkYXRhOiBfZCwgY2FsbGJhY2s6IChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuc2Vzc2lvbklkID0gcmVzLnNlc3Npb25JZDtcclxuICAgICAgICAgICAgICAgICAgICBTdG9yYWdlTWdyLnNhdmVTZXNzaW9uKFVzZXJEYXRhLnNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX2Quc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLnN1Y2Nlc3MocmVzKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlc3Npb25JZCDov4fmnJ9cclxuICAgICAgICAgICAgICAgICAgICBTdG9yYWdlTWdyLnNhdmVTZXNzaW9uKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLnNlc3Npb25JZCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX2QuZmFpbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLmZhaWwocmVzKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL+aLv+e6v+S4iua4uOaIj+eahGpzb27phY3liLZcclxuXHRnZXRSZW1vdGVKc29uKF9jYWxsYmFjaykge1xyXG5cdFx0dGhpcy5faHR0cC5nZXRSZW1vdGVKc29uKF9jYWxsYmFjayk7XHJcblx0fVxyXG5cclxuICAgIC8v5byA5YWz6YWN5Yi2XHJcbiAgICBwdWJsaWMgZ2V0U3lzdGVtQ29uZmlnKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcblx0XHRcdHVybDogJ2dldFN5c3RlbVBhcmFtTGlzdC5hY3Rpb24nLCBkYXRhOiB7IG5vd1ZlcnNpb246IENvbmZpZ0RhdGEudmVyc2lvbiB9LCBjYWxsYmFjazogKHJlcykgPT4ge1xyXG5cdFx0XHRcdGlmIChyZXMuY29kZSA9PSAwKSB7XHJcblx0XHRcdFx0XHRDb25maWdEYXRhLmN0cmxJbmZvID0ge1xyXG5cdFx0XHRcdFx0XHRpc0NvbnZlcmdlOiByZXMuaXNDb252ZXJnZSwgLy/ogZrlkIjlvIDlhbNcclxuXHRcdFx0XHRcdFx0aXNTaGFyZTogcmVzLmlzU2hhcmUsXHJcblx0XHRcdFx0XHRcdGlzVmlkZW86IHJlcy5pc1ZpZGVvLFxyXG5cdFx0XHRcdFx0XHRpc1d1ZGlhbjpyZXMuaXNXdWRpYW4sIC8v6K+v54K55byA5YWzXHJcblx0XHRcdFx0XHRcdHNoYXJlSW5mbzogcmVzLnNoYXJlSW5mbyxcclxuXHRcdFx0XHRcdFx0aXNCYW5uZXI6cmVzLmlzX2Jhbm5lciwvL2Jhbm5lcuW5v+WRiuaOp+WItlxyXG5cdFx0XHRcdFx0XHRhZEluZm86IHJlcy5hZEluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcy5pc19iYW5uZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDb25maWdEYXRhLm1haW5BZE15ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdldFN5c3RlbVBhcmFtTGlzdEJhY2tcIik7XHJcblx0XHRcdH0sZmFpbDoocmVzKT0+e1xyXG4gICAgICAgICAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdldFN5c3RlbVBhcmFtTGlzdEJhY2tcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVVc2VySW5mbygpe1xyXG4gICAgICAgIHRoaXMuX2h0dHAucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ3VwZGF0ZVVzZXJJbmZvLmFjdGlvbicsIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIG5pY2tuYW1lOlVzZXJEYXRhLm5pY2tOYW1lLFxyXG4gICAgICAgICAgICAgICAgaGVhZGltZ3VybDpVc2VyRGF0YS5hdmF0YXJVcmwsXHJcbiAgICAgICAgICAgICAgICBzZXg6VXNlckRhdGEuZ2VuZGVyLFxyXG4gICAgICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpc3RpY3NQb3N0KF9kKXtcclxuICAgICAgICB0aGlzLl9odHRwLnJlcXVlc3RTdGF0aXN0aWNzKF9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlkZW9FcnJvckNhbGxiYWNrKCl7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdXJsOiAndmlkZW9DYWxsYmFjay5hY3Rpb24nLCBjYWxsYmFjazogKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzLmNvZGUgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuYWRDb3VudCA9IHJlcy5hZENvdW50OyAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdvcmxkUmFuayhfZCl7XHJcbiAgICAgICAgdGhpcy5faHR0cC5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdXJsOiAnZ2V0V29ybGRSYW5rLmFjdGlvbicsZGF0YTogeyBwYWdlOiAxLCB0eXBlOiAxIH0sIGNhbGxiYWNrOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMuY29kZSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihfZC5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Quc3VjY2VzcyhyZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH19KTtcclxuICAgIH1cclxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgV1hBUEkgZnJvbSBcIi4uL3BsYXRmb3JtL3d4L1dYQVBJXCI7XHJcbmltcG9ydCBGQkFQSSBmcm9tIFwiLi4vcGxhdGZvcm0vZmIvRkJBUElcIjtcclxuaW1wb3J0IFdYQWRNZ3IgZnJvbSBcIi4uL3BsYXRmb3JtL3d4L1dYQURNZ3JcIjtcclxuaW1wb3J0IFdYU3ViRG9tYWluIGZyb20gXCIuLi9wbGF0Zm9ybS93eC9XWFN1YkRvbWFpblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhdGZvcm1NZ3IgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlOiBQbGF0Zm9ybU1nciA9IG5ldyBQbGF0Zm9ybU1ncigpO1xyXG4gICAgcHVibGljIHN0YXRpYyBwdEFQSTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcHRBZE1ncjtcclxuICAgIHB1YmxpYyBzdGF0aWMgc3ViRG9tYWluO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaW5pdFBsYXRmb3JtKCl7XHJcbiAgICAgICAgc3dpdGNoKENvbmZpZ0RhdGEucmVsZWFzZVBsYXRmb3JtKXtcclxuICAgICAgICAgICAgY2FzZSBcInd4XCI6XHJcbiAgICAgICAgICAgICAgICBQbGF0Zm9ybU1nci5wdEFQSSA9IG5ldyBXWEFQSSgpO1xyXG4gICAgICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBZE1nciA9IG5ldyBXWEFkTWdyO1xyXG4gICAgICAgICAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluID0gbmV3IFdYU3ViRG9tYWluKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImZiXCI6XHJcbiAgICAgICAgICAgICAgICAvL25ldyBmYueahOeuoeeQhuexu1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5wdEFQSSA9IG5ldyBGQkFQSSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5wdEFkTWdyID0gbmV3IEZCQWRNZ3I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291bmRNZ3Ige1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IFNvdW5kTWdyID0gbmV3IFNvdW5kTWdyKCk7XG4gICAgcHJpdmF0ZSBiZ206YW55O1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXlTb3VuZChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFDb25maWdEYXRhLmlzU291bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXJsID0gXCJyZXMvc291bmQvXCIgKyBuYW1lICsgXCIubXAzXCI7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgdmFyIHNvdW5kID0gbGF5YS51dGlscy5Qb29sLmdldEl0ZW0obmFtZSk7XG4gICAgICAgICAgICBpZiAoc291bmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNvdW5kID0gd3guY3JlYXRlSW5uZXJBdWRpb0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5zcmMgPSBcInJlcy9zb3VuZC9cIiArIG5hbWUgKyBcIi5tcDNcIjtcbiAgICAgICAgICAgICAgICBzb3VuZC5vbkVuZGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGF5YS51dGlscy5Qb29sLnJlY292ZXIobmFtZSwgc291bmQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQodXJsLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5QkdNKCl7XG4gICAgICAgIGlmICghQ29uZmlnRGF0YS5pc1NvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IFwicmVzL3NvdW5kL2JnbS5tcDNcIjtcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmJnbSA9IHd4LmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmJnbS5zcmMgPSB1cmw7XG4gICAgICAgICAgICB0aGlzLmJnbS5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYmdtLnBsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlNdXNpYyh1cmwsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3BCR00oKXtcbiAgICAgICAgbGV0IHVybCA9IFwicmVzL3NvdW5kL2JnbS5tcDNcIjtcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICBpZih0aGlzLmJnbSl7XG4gICAgICAgICAgICAgICAgdGhpcy5iZ20uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BNdXNpYygpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufSIsImltcG9ydCBIdHRwTWdyIGZyb20gXCIuL0h0dHBNZ3JcIjtcclxuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9tb2RlbHMvVXNlckRhdGFcIjtcclxuaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0aXN0aWNzTWdyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2U6IFN0YXRpc3RpY3NNZ3IgPSBuZXcgU3RhdGlzdGljc01ncigpO1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuIFxyXG4gICAgLy/nmbvpmYbnu5/orqFcclxuICAgIHB1YmxpYyBsb2dpblN0YXRpc3RpY3NQb3N0KCl7XHJcbiAgICAgICAgdmFyIF9kOmFueSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOlwiMTAwNVwiLFxyXG4gICAgICAgICAgICBmcm9tX2FwcGlkOlVzZXJEYXRhLmZyb21BcHBpZCxcclxuICAgICAgICAgICAgZnJvbV9pbWdpZDpVc2VyRGF0YS5mcm9tSW1naWQsXHJcbiAgICAgICAgICAgIGNvZGU6VXNlckRhdGEuY29kZSxcclxuICAgICAgICAgICAgaXNuZXc6VXNlckRhdGEuaXNOZXcgPyAxIDogMCxcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ngrnlh7vmjojmnYPnu5/orqHmjqXlj6NcclxuICAgIHB1YmxpYyBhdXRob3JTdGF0aXN0aWNzKCkge1xyXG4gICAgICAgIHZhciBfZDogYW55ID0ge1xyXG4gICAgICAgICAgICBhY3Rpb246IFwiMTAwNlwiLFxyXG4gICAgICAgICAgICBmcm9tX2FwcGlkOlVzZXJEYXRhLmZyb21BcHBpZCxcclxuICAgICAgICAgICAgZnJvbV9pbWdpZDpVc2VyRGF0YS5mcm9tSW1naWQsXHJcbiAgICAgICAgICAgIGNvZGU6VXNlckRhdGEuY29kZSxcclxuICAgICAgICAgICAgaXNuZXc6VXNlckRhdGEuaXNOZXcgPyAxIDogMCxcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8v5byA5aeL5ri45oiP57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgc3RhcnRHYW1lU3RhdGlzdGljcygpIHtcclxuICAgICAgICB2YXIgX2Q6IGFueSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOiBcIjEwMDhcIixcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcbiAgICAgICBcclxuICAgIC8v5YiG5Lqr57uf6K6h5o6l5Y+jICDnsbvlnos6IDDmma7pgJrliIbkuqssIDHliIbkuqvlpI3mtLssIDLliIbkuqvojrflj5bpgZPlhbcsIDPliIbkuqvojrflj5bmir3lpZbmrKHmlbBcclxuICAgIHB1YmxpYyBzaGFyZVN0YXRpc3RpY3ModHlwZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDA5XCIsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v54K55Ye76KeG6aKR57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgY2xpY2tWaWRlb1N0YXRpc3RpY3ModHlwZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCIxMDEwXCIsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v55yL5a6M6KeG6aKR57uf6K6h5o6l5Y+jXHJcbiAgICBwdWJsaWMgdmlkZW9QbGF5T3ZlckFkU3RhdGlzdGljcyh0eXBlOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgX2Q6IGFueSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uOiBcIjEwMTFcIixcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ngrnlh7vot7Povaznu5/orqHmjqXlj6NcclxuICAgIHB1YmxpYyBuYXZpZ2F0ZVRvTWluaVByb2dyYW1TdGF0aXN0aWNzKF9kKSB7XHJcbiAgICAgICAgX2QuYWN0aW9uID0gXCIxMDA3XCI7XHJcbiAgICAgICAgdGhpcy5zdGF0aXN0aWNzUG9zdChfZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ngrnlh7vot7PovazmiJDlip/lkI7nu5/orqHmjqXlj6NcclxuICAgIHB1YmxpYyBuYXZpZ2F0ZVRvTWluaVByb2dyYW1CYWNrU3RhdGlzdGljcyhfZCkge1xyXG4gICAgICAgIF9kLmFjdGlvbiA9IFwiMTAxN1wiO1xyXG4gICAgICAgIHRoaXMuc3RhdGlzdGljc1Bvc3QoX2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v57uf6K6hXHJcbiAgICBwcml2YXRlIHN0YXRpc3RpY3NQb3N0KF9kYXRhOmFueSl7XHJcbiAgICAgICAgbGV0IF9kOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWw6IFVzZXJEYXRhLmNoYW5uZWxJZCxcclxuICAgICAgICAgICAgbXlfYXBwaWQ6IENvbmZpZ0RhdGEubXlBcHBpZCxcclxuICAgICAgICAgICAgb3BlbmlkOiBVc2VyRGF0YS5vcGVuSWQsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIF9kYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChfZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBfZFtrZXldID0gX2RhdGFba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBIdHRwTWdyLmluc3RhbmNlLnN0YXRpc3RpY3NQb3N0KF9kKTtcclxuICAgIH1cclxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XHJcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vbW9kZWxzL1VzZXJEYXRhXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlTWdyIHtcclxuICAgIFxyXG4gICAgc3RhdGljIHNldFN0b3JhZ2UoX2QpIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd3guc2V0U3RvcmFnZSh7XHJcbiAgICAgICAgICAgIGtleTogX2Qua2V5LFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShfZC52YWwpLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBfZC5zdWNjZXNzLFxyXG4gICAgICAgICAgICBmYWlsOiBfZC5mYWlsLFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogX2QuY29tcGxldGVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0U3RvcmFnZShfa2V5KTogYW55IHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gd3guZ2V0U3RvcmFnZVN5bmMoX2tleSk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2F2ZVNlc3Npb24oX3Mpe1xyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7a2V5Olwic2Vzc2lvbklkXCIsdmFsOl9zfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRMb2NhbFZpcmJvcnQoKXtcclxuICAgICAgICByZXR1cm4gTXlVdGlscy5pc051bGwoU3RvcmFnZU1nci5nZXRTdG9yYWdlKFwidmlyYm9ydFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMb2NhbFZpcmJvcnQoc3RyOnN0cmluZyl7XHJcbiAgICAgICAgU3RvcmFnZU1nci5zZXRTdG9yYWdlKHtcclxuICAgICAgICAgICAga2V0OlwidmlyYm9ydFwiLCBcclxuICAgICAgICAgICAgdmFsOnN0clxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TG9jYWxTb3VuZCgpe1xyXG4gICAgICAgIHJldHVybiBNeVV0aWxzLmlzTnVsbChTdG9yYWdlTWdyLmdldFN0b3JhZ2UoXCJzb3VuZFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMb2NhbFNvdW5kKHN0cjpzdHJpbmcpe1xyXG4gICAgICAgIFN0b3JhZ2VNZ3Iuc2V0U3RvcmFnZSh7XHJcbiAgICAgICAgICAgIGtldDpcInNvdW5kXCIsIFxyXG4gICAgICAgICAgICB2YWw6c3RyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzYXZlVXNlckRhdGEoKXtcclxuICAgICAgICBsZXQgX2QgPSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25JZDpVc2VyRGF0YS5zZXNzaW9uSWQsXHJcbiAgICAgICAgICAgIG9wZW5JZDpVc2VyRGF0YS5vcGVuSWQsXHJcbiAgICAgICAgICAgIHNjb3JlOlVzZXJEYXRhLnNjb3JlLFxyXG4gICAgICAgICAgICBleHA6VXNlckRhdGEuZXhwLFxyXG4gICAgICAgICAgICBsZXZlbDpVc2VyRGF0YS5sZXZlbCxcclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZU1nci5zZXRTdG9yYWdlKHtrZXk6XCJ1c2VyRGF0YVwiLHZhbDpfZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TG9jYWxVc2VyRGF0YSgpe1xyXG4gICAgICAgIGlmKFVzZXJEYXRhLmlzTG9naW4pe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBfZCA9IFN0b3JhZ2VNZ3IuZ2V0U3RvcmFnZShcInVzZXJEYXRhXCIpO1xyXG4gICAgICAgIGlmKCFNeVV0aWxzLmlzTnVsbChfZCkpe1xyXG4gICAgICAgICAgICBfZCA9IEpTT04ucGFyc2UoX2QpO1xyXG4gICAgICAgICAgICBVc2VyRGF0YS5zZXNzaW9uSWQgPSBfZC5zZXNzaW9uSWQ7XHJcbiAgICAgICAgICAgIFVzZXJEYXRhLm9wZW5JZCA9IF9kLm9wZW5JZDtcclxuICAgICAgICAgICAgVXNlckRhdGEuc2NvcmUgPSBfZC5zY29yZSB8fCAwO1xyXG4gICAgICAgICAgICBVc2VyRGF0YS5leHAgPSBfZC5leHA7XHJcbiAgICAgICAgICAgIFVzZXJEYXRhLmxldmVsID0gX2QubGV2ZWwgfHwgMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuLi92aWV3cy9CYXNlVmlld1wiO1xuaW1wb3J0IEV2ZW50TWdyIGZyb20gXCIuL0V2ZW50TWdyXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSwgeyBNQUlOQlROU1RZUEUgfSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld01nciB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZTogVmlld01nciA9IG5ldyBWaWV3TWdyKCk7XG4gICAgcHJpdmF0ZSB2aWV3RGljOiBhbnkgPSB7fTtcblxuICAgIHByaXZhdGUgZXZlbnRzID0gW1wiZ29Ib21lXCJdO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG5cbiAgICBpbml0KCl7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIEV2ZW50TWdyLmluc3RhbmNlLm9uRXZlbnQodGhpcy5ldmVudHNbaW5kZXhdLHRoaXMsdGhpc1t0aGlzLmV2ZW50c1tpbmRleF1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGdvSG9tZShyZXMpe1xuICAgICAgICBsZXQgdmlld05hbWUgPSBDb25maWdEYXRhLm1haW5CdG5zVHlwZSA9PSBNQUlOQlROU1RZUEUuTEFORFNDQVBFID8gXCJNYWluTGFuZHNjYXBlLnNjZW5lXCIgOiBcIk1haW5WZXJ0aWNhbC5zY2VuZVwiO1xuICAgICAgICB0aGlzLm9wZW5WaWV3KHtcbiAgICAgICAgICAgIHZpZXdOYW1lOiB2aWV3TmFtZSxcbiAgICAgICAgICAgIGNsb3NlQWxsOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3BlblZpZXcoX2QpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgdXJsID0gX2Qudmlld05hbWU7XG4gICAgICAgIGxldCBjbHMgPSBfZC5jbHM7XG4gICAgICAgIGxldCBjbG9zZUFsbCA9IF9kLmNsb3NlQWxsO1xuICAgICAgICBpZiAoY2xvc2VBbGwpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0RpYyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChNeVV0aWxzLmlzTnVsbCh0aGlzLnZpZXdEaWNbdXJsXSkpIHtcbiAgICAgICAgICAgIExheWEuU2NlbmUub3Blbih1cmwsIGNsb3NlQWxsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGZ1bmN0aW9uIChvd25lcjogYW55KSB7XG4gICAgICAgICAgICAgICAgc2VsZi52aWV3RGljW3VybF0gPSBvd25lcjtcbiAgICAgICAgICAgICAgICBsZXQgY29tcyA9IG93bmVyLl9jb21wb25lbnRzO1xuICAgICAgICAgICAgICAgIGlmKGNvbXMpe1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29tcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb21zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNNeUJhc2VWaWV3KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm9wZW5WaWV3KF9kLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG93bmVyID0gdGhpcy52aWV3RGljW3VybF07XG4gICAgICAgICAgICBsZXQgY29tcyA9IG93bmVyLl9jb21wb25lbnRzO1xuICAgICAgICAgICAgaWYoY29tcyl7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb21zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5pc015QmFzZVZpZXcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vcGVuVmlldyhfZC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlVmlldyh2aWV3TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChNeVV0aWxzLmlzTnVsbCh0aGlzLnZpZXdEaWNbdmlld05hbWVdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld0RpY1t2aWV3TmFtZV0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnZpZXdEaWNbdmlld05hbWVdID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGlkZVZpZXcodmlld05hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAoTXlVdGlscy5pc051bGwodGhpcy52aWV3RGljW3ZpZXdOYW1lXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAodGhpcy52aWV3RGljW3ZpZXdOYW1lXSBhcyBMYXlhLlZpZXcpLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Vmlldyh2aWV3TmFtZTogc3RyaW5nKXtcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLnZpZXdEaWNbdmlld05hbWVdO1xuICAgICAgICBpZiAoIU15VXRpbHMuaXNOdWxsKHZpZXcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1N0b3JhZ2VNZ3JcIjtcblxuZXhwb3J0IGVudW0gTUFJTkJUTlNUWVBFIHtcbiAgICBMQU5EU0NBUEUgPSAwLFxuICAgIFZFUlRJQ0FMXG59XG5cbmV4cG9ydCBlbnVtIFNPUlRUWVBFIHtcbiAgICBMRVZFTCA9IDAsXG4gICAgRU5ETEVTU1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWdEYXRhIHtcbiAgICBwdWJsaWMgc3RhdGljIG1haW5CdG5zVHlwZTpudW1iZXIgPSAwOyAvL+S4u+mhteaMiemSruaOkuWIl+aWueW8j+S9v+eUqOWTquenjVxuICAgIHB1YmxpYyBzdGF0aWMgbWFpbkFkTXk6Ym9vbGVhbjsgICAgIC8v5piv5ZCm5byA5ZCv6Ieq5bex5YGa55qE5Li76aG155qE5bm/5ZGK5p2hXG5cbiAgICBwdWJsaWMgc3RhdGljIHJlbGVhc2VQbGF0Zm9ybSA9IFwiXCI7Ly/lj5HluIPlubPlj7Agd3ggZmJcbiAgICBwdWJsaWMgc3RhdGljIG15QXBwaWQgPSBcInd4YmU5ZmUwMDI4MTUwNTE2OVwiO1xuICAgIHB1YmxpYyBzdGF0aWMgY29uZmlnczogYW55ID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGxhbmd1YWdlOnN0cmluZyA9IFwiY25cIjtcbiAgICBwdWJsaWMgc3RhdGljIGxhbmd1YWdlRGF0YTogYW55ID0gbnVsbDtcblxuICAgIHB1YmxpYyBzdGF0aWMgdmVyc2lvbiA9IFwiMTAwXCI7XG4gICAgcHVibGljIHN0YXRpYyBqc29uVmVyc2lvbiA9IFwiMTAwXCI7XG4gICAgcHVibGljIHN0YXRpYyBzZXJ2ZXJVcmw6IHN0cmluZyA9IFwiaHR0cHM6Ly94Y3guYmlhb2NyLmNvbS9mdW5ueV9mcm9nL1wiO1xuICAgIHB1YmxpYyBzdGF0aWMganNvblZlcnNpb25Vcmw6IHN0cmluZyA9IFwiaHR0cHM6Ly9wLmRvZ3VhbmUuY24vMjAxOTA0MDQvbV8wNDE3MTkyNjM1MjMyMS5qc29uXCI7XG4gICAgcHVibGljIHN0YXRpYyBzdGF0aXN0aWNzVXJsOnN0cmluZyA9IFwiaHR0cHM6Ly9sb2cuenVhbmNyLmNvbS9cIlxuXG4gICAgcHVibGljIHN0YXRpYyBpc0NyZWF0ZUF1dGhvcml6YXRpb246Ym9vbGVhbiA9IGZhbHNlOyAvL+aYr+WQpuWIm+W7uuS6huaOiOadg+aMiemSrlxuICAgIHB1YmxpYyBzdGF0aWMgcmVwZWF0QXV0aG9yaXphdGlvbjpib29sZWFuID0gZmFsc2U7IC8v5piv5ZCm5Yib5bu65LqG5o6I5p2D5oyJ6ZKuXG4gICAgcHVibGljIHN0YXRpYyBpc0xvZzogYm9vbGVhbiA9IHRydWU7IC8v5piv5ZCm5byA5ZCv5pel5b+XXG4gICAgcHVibGljIHN0YXRpYyBpc1NvdW5kOiBib29sZWFuO1xuICAgIHB1YmxpYyBzdGF0aWMgaXNWaXJib3J0OiBib29sZWFuO1xuICAgIHB1YmxpYyBzdGF0aWMgY3RybEluZm86IGFueSA9IHt9Oy8v5ri45oiP5o6n5Yi25L+h5oGvXG4gICAgcHVibGljIHN0YXRpYyBzeXN0ZW1JbmZvOiBhbnkgPSB7fTsvL+iuvuWkh+ezu+e7n+S/oeaBr1xuXG4gICAgcHVibGljIHN0YXRpYyBiYW5uZXJWaWRlb0lkOnN0cmluZyA9IFwiYWR1bml0LTdjNDQ0OWY5ZjZmY2FmYmJcIjtcbiAgICBwdWJsaWMgc3RhdGljIHJld2FyZGVkVmlkZW9JZDpzdHJpbmcgPSBcImFkdW5pdC1kZjAzMTExMThlMjQ1MmM2XCI7XG5cblxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdExvY2FsKCl7XG4gICAgICAgIENvbmZpZ0RhdGEuaXNTb3VuZCA9IFN0b3JhZ2VNZ3IuZ2V0TG9jYWxTb3VuZCgpO1xuICAgICAgICBDb25maWdEYXRhLmlzVmlyYm9ydCA9IFN0b3JhZ2VNZ3IuZ2V0TG9jYWxWaXJib3J0KCk7XG4gICAgICAgIGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlUGxhdGZvcm0gPSBcInd4XCI7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbUluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbml0Q29uZmlnRGF0YShfZDphbnkscmVtb3RlOmJvb2xlYW4gPSBmYWxzZSl7XG4gICAgICAgIGlmKHJlbW90ZSl7XG4gICAgICAgICAgICBDb25maWdEYXRhLmNvbmZpZ3MgPSBfZDtcbiAgICAgICAgfWVsc2UgaWYoIUNvbmZpZ0RhdGEuY29uZmlncyl7XG4gICAgICAgICAgICBDb25maWdEYXRhLmNvbmZpZ3MgPSBfZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29uZmlnRGF0YShjb25maWdOYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdHJsSW5mb1tjb25maWdOYW1lXTtcbiAgICB9XG5cbiAgICAvKirorr7nva7lo7Dpn7MgKi9cbiAgICBzdGF0aWMgc2V0U291bmQoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8IHN0ci5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5pc1NvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIFN0b3JhZ2VNZ3Iuc2V0TG9jYWxTb3VuZChcIlwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU3RvcmFnZU1nci5zZXRMb2NhbFNvdW5kKFwiMVwiKTtcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNTb3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5oyv5Yqo6K6+572uXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0VmlyYm9ydChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgc3RyLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBDb25maWdEYXRhLmlzVmlyYm9ydCA9IHRydWU7XG4gICAgICAgICAgICBTdG9yYWdlTWdyLnNldExvY2FsVmlyYm9ydChcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFN0b3JhZ2VNZ3Iuc2V0TG9jYWxWaXJib3J0KFwiMVwiKTtcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuaXNWaXJib3J0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEFERGF0YShhZElkKSB7XG4gICAgICAgIGxldCBzcnQgPSB0aGlzLmdldENvbmZpZ0RhdGEoXCJhZEluZm9cIik7XG4gICAgICAgIGlmKE15VXRpbHMuaXNOdWxsKHNydCkpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhZEluZm9zID0gSlNPTi5wYXJzZShzcnQpO1xuICAgICAgICBsZXQgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZEluZm9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYWRJbmZvID0gYWRJbmZvc1tpXTtcbiAgICAgICAgICAgIGlmIChhZEluZm8ucG9zaXRpb24gPT0gYWRJZCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goYWRJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgU3RvcmFnZU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1N0b3JhZ2VNZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckRhdGEge1xuICAgIHB1YmxpYyBzdGF0aWMgY29kZTogc3RyaW5nID0gXCJcIjsvL+W+ruS/oWNvZGVcbiAgICBwdWJsaWMgc3RhdGljIG9wZW5JZDogc3RyaW5nID0gXCJcIjsvL+W+ruS/oW9wZW5pZFxuICAgIHB1YmxpYyBzdGF0aWMgc2Vzc2lvbklkOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgcHVibGljIHN0YXRpYyB1c2VySWQ6IGFueTtcbiAgICBwdWJsaWMgc3RhdGljIG5pY2tOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZGVyOm51bWJlciA9IDA7XG4gICAgcHVibGljIHN0YXRpYyBhdmF0YXJVcmw6IHN0cmluZyA9IFwiXCI7XG4gICAgcHVibGljIHN0YXRpYyBzY29yZTogbnVtYmVyID0gMDsgLy/liIbmlbBcbiAgICBwdWJsaWMgc3RhdGljIGV4cDogbnVtYmVyID0gMDsgICAvL+e7j+mqjFxuICAgIHB1YmxpYyBzdGF0aWMgbGV2ZWw6IG51bWJlciA9IDE7IC8v562J57qnXG4gICAgcHVibGljIHN0YXRpYyBpbmRleDogbnVtYmVyID0gMDsgLy/mjpLooYxcblxuICAgIHB1YmxpYyBzdGF0aWMgZGlhbW9uZDpudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBzdGF0aWMgZ29sZDpudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIHN0YXRpYyBpc05ldzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBzdGF0aWMgaXNMb2dpbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBzdGF0aWMgY2hhbm5lbElkOiBhbnk7XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21JbWdpZDphbnk7XG4gICAgcHVibGljIHN0YXRpYyBmcm9tQXBwaWQ6YW55O1xuXG4gICAgcHVibGljIHN0YXRpYyBhZENvdW50OiBudW1iZXI7Ly/op4bpopHlub/lkYrmrKHmlbBcblxufSIsImltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi8uLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBIdHRwTWdyIGZyb20gXCIuLi8uLi9tZ3JDb21tb24vSHR0cE1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXWEFkTWdye1xuICAgIHByaXZhdGUgYmFubmVySG9tZTogYW55O1xuICAgIHByaXZhdGUgYmFubmVyT3RoZXI6IGFueTtcbiAgICBwcml2YXRlIGJhbm5lckNsYXNzaWNFbmQ6IGFueTtcblxuICAgIHByaXZhdGUgYmFubmVySG9tZUlzSGlkZTpib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIGJhbm5lck90aGVySXNIaWRlOmJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgYmFubmVyQ2xhc3NpY0VuZElzSGlkZTpib29sZWFuID0gdHJ1ZTtcblxuXG4gICAgcHJpdmF0ZSBpc0luaXRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmV3YXJkZWRWaWRlb0FkOiBhbnk7XG4gICAgcHJpdmF0ZSBoYXNBZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjYWxsZXI6IGFueTtcbiAgICBwcml2YXRlIGNhbGxCYWNrU3VjOiBGdW5jdGlvbjtcbiAgICBwcml2YXRlIGNhbGxCYWNrRmFpbDogRnVuY3Rpb247XG5cbiAgICBwdWJsaWMgdmlkZW9QbGF5ZWRUaW1lczogbnVtYmVyO1xuXG5cbiAgICBwcml2YXRlIHByZUJhbm5lclRpbWVfSG9tZTogYW55O1xuICAgIHByaXZhdGUgcHJlQmFubmVyVGltZV9PdGhlcjogYW55O1xuICAgIHByaXZhdGUgcHJlQmFubmVyVGltZV9DbGFzc2ljRW5kOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbmZpZ0RhdGEuc3lzdGVtSW5mby5TREtWZXJzaW9uICYmIE15VXRpbHMuY29tcGFyZVZlcnNpb24oQ29uZmlnRGF0YS5zeXN0ZW1JbmZvLlNES1ZlcnNpb24sIFwiMi4wLjRcIikgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmluaXRWZWRpb0NvbSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfQ2xhc3NpY0VuZCA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0VmVkaW9Db20oKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkID0gd2luZG93W1wid3hcIl0uY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHsgYWRVbml0SWQ6IENvbmZpZ0RhdGEucmV3YXJkZWRWaWRlb0lkIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV3YXJkZWRWaWRlb0FkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLm9uTG9hZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXdhcmRlZFZpZGVvIG9ubG9hZFwiKTtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc0FkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXdhcmRlZFZpZGVvQWQub25FcnJvcihlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBIdHRwTWdyLmluc3RhbmNlLnZpZGVvRXJyb3JDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhbGxCYWNrU3VjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsQmFja1N1YyhzZWxmLmNhbGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJld2FyZGVkVmlkZW9BZC5vbkNsb3NlKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgLy8g55So5oi354K55Ye75LqG44CQ5YWz6Zet5bm/5ZGK44CR5oyJ6ZKuXG4gICAgICAgICAgICAgICAgLy8g5bCP5LqOIDIuMS4wIOeahOWfuuehgOW6k+eJiOacrO+8jHJlcyDmmK/kuIDkuKogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyDmraPluLjmkq3mlL7nu5PmnZ/vvIzlj6/ku6XkuIvlj5HmuLjmiI/lpZblirFcbiAgICAgICAgICAgICAgICAgICAgc2VsZi52aWRlb1BsYXllZFRpbWVzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhbGxCYWNrU3VjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbEJhY2tTdWMoc2VsZi5jYWxsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDmkq3mlL7kuK3pgJTpgIDlh7rvvIzkuI3kuIvlj5HmuLjmiI/lpZblirFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuY2FsbEJhY2tGYWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbEJhY2tGYWlsKHNlbGYuY2FsbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgc2hvd1ZpZGVvKGNhbGxlcjogYW55LCBjYWxsQmFja1N1YzogRnVuY3Rpb24sIGNhbGxCYWNrRmFpbDogRnVuY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbGxlciA9IGNhbGxlcjtcbiAgICAgICAgdGhpcy5jYWxsQmFja1N1YyA9IGNhbGxCYWNrU3VjO1xuICAgICAgICB0aGlzLmNhbGxCYWNrRmFpbCA9IGNhbGxCYWNrRmFpbDtcbiAgICAgICAgaWYgKHRoaXMuaGFzQWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLnNob3coKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXdhcmRlZFZpZGVvQWQubG9hZCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJld2FyZGVkVmlkZW9BZC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGFzQWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRCYW5uZXJBZEhvbWUoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG93QmFubmVyQWRIb21lKHRydWUpXG4gICAgfVxuXG4gICAgcHVibGljIHNob3dCYW5uZXJBZEhvbWUob25seUxvYWQ/OmJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZXx8IXRoaXMuaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RvcnlBbGxCYW5uZXJBZCgpO1xuICAgICAgICBsZXQgc2NyZWVuVyA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dXaWR0aDtcbiAgICAgICAgbGV0IF93aWR0aCA9IExheWEuc3RhZ2Uud2lkdGggLyAyIC0gMTQwO1xuICAgICAgICBsZXQgc2NyZWVuSCA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dIZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVySG9tZUlzSGlkZSA9IGZhbHNlO1xuICAgICAgICBpZihMYXlhLnRpbWVyLmN1cnJUaW1lciAtIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID4gMzAwMDApe1xuICAgICAgICAgICAgaWYodGhpcy5iYW5uZXJIb21lKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckhvbWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJhbm5lckhvbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkSG9tZSgpO1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lID0gd2luZG93W1wid3hcIl0uY3JlYXRlQmFubmVyQWQoe1xuICAgICAgICAgICAgICAgIGFkVW5pdElkOiBDb25maWdEYXRhLmJhbm5lclZpZGVvSWQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBzY3JlZW5IIC0gMTAwLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dpZHRoLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lLm9uUmVzaXplKHIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zdHlsZS5sZWZ0ID0gKHNjcmVlblcgLSB0aGlzLmJhbm5lckhvbWUuc3R5bGUucmVhbFdpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lLnN0eWxlLnRvcCA9IHNjcmVlbkggLSB0aGlzLmJhbm5lckhvbWUuc3R5bGUucmVhbEhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuSCAvIHNjcmVlblcgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zdHlsZS50b3AgPSB0aGlzLmJhbm5lckhvbWUuc3R5bGUudG9wIC0gMTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5vbkVycm9yKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiuWKoOi9vemUmeivrzpcIiwgcmVzKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8vIHRoaXMuYmFubmVySG9tZS5vbkxvYWQoKCk9PntcbiAgICAgICAgICAgIC8vICAgICBpZih0aGlzLmJhbm5lckhvbWVJc0hpZGUpe1xuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmJhbm5lckhvbWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIHRoaXMuYmFubmVySG9tZS5zaG93KCk7XG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX0hvbWUgPSBMYXlhLnRpbWVyLmN1cnJUaW1lcjtcbiAgICAgICAgfVxuICAgICAgICBpZihvbmx5TG9hZCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmFubmVySG9tZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd0Jhbm5lckFkT3RoZXIoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWV8fCF0aGlzLmlzSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0b3J5QWxsQmFubmVyQWQoKTtcbiAgICAgICAgbGV0IHNjcmVlblcgPSBDb25maWdEYXRhLnN5c3RlbUluZm8ud2luZG93V2lkdGg7XG4gICAgICAgIGxldCBfd2lkdGggPSBzY3JlZW5XO1xuICAgICAgICBsZXQgc2NyZWVuSCA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dIZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFubmVyT3RoZXJJc0hpZGUgPSBmYWxzZTtcbiAgICAgICAgaWYoTGF5YS50aW1lci5jdXJyVGltZXIgLSB0aGlzLnByZUJhbm5lclRpbWVfT3RoZXIgPiAzMDAwMCl7XG4gICAgICAgICAgICBpZih0aGlzLmJhbm5lck90aGVyKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgIFxuICAgICAgICBpZiAoIXRoaXMuYmFubmVyT3RoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkT3RoZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIgPSB3aW5kb3dbXCJ3eFwiXS5jcmVhdGVCYW5uZXJBZCh7XG4gICAgICAgICAgICAgICAgYWRVbml0SWQ6IENvbmZpZ0RhdGEuYmFubmVyVmlkZW9JZCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHNjcmVlbkggLSAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd2lkdGgsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIub25SZXNpemUociA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5zdHlsZS5sZWZ0ID0gKHNjcmVlblcgLSB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnJlYWxXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUudG9wID0gc2NyZWVuSCAtIHRoaXMuYmFubmVyT3RoZXIuc3R5bGUucmVhbEhlaWdodCAtIDEwO1xuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5IIC8gc2NyZWVuVyA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5zdHlsZS50b3AgPSB0aGlzLmJhbm5lck90aGVyLnN0eWxlLnRvcCAtIDI1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIub25FcnJvcigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrliqDovb3plJnor686XCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX090aGVyID0gTGF5YS50aW1lci5jdXJyVGltZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmFubmVyT3RoZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lck90aGVyLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd0Jhbm5lckFkQ2xhc3NpY0VuZCgpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZXx8IXRoaXMuaXNJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RvcnlBbGxCYW5uZXJBZCgpO1xuICAgICAgICBsZXQgc2NyZWVuVyA9IENvbmZpZ0RhdGEuc3lzdGVtSW5mby53aW5kb3dXaWR0aDtcbiAgICAgICAgbGV0IF93aWR0aCA9IHNjcmVlblc7XG4gICAgICAgIGxldCBzY3JlZW5IID0gQ29uZmlnRGF0YS5zeXN0ZW1JbmZvLndpbmRvd0hlaWdodDtcbiAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kSXNIaWRlID0gZmFsc2U7XG4gICAgICAgIGlmKExheWEudGltZXIuY3VyclRpbWVyIC0gdGhpcy5wcmVCYW5uZXJUaW1lX090aGVyID4gMzAwMDApe1xuICAgICAgICAgICAgaWYodGhpcy5iYW5uZXJDbGFzc2ljRW5kKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJhbm5lckNsYXNzaWNFbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkQ2xhc3NpY0VuZCgpO1xuICAgICAgICAgICAgdGhpcy5iYW5uZXJDbGFzc2ljRW5kID0gd2luZG93W1wid3hcIl0uY3JlYXRlQmFubmVyQWQoe1xuICAgICAgICAgICAgICAgIGFkVW5pdElkOiAnYWR1bml0LWRjYWNmN2ZkNmU2NTRiNGQnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogc2NyZWVuSCAtIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF93aWR0aCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5vbkVycm9yKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiuWKoOi9vemUmeivrzpcIiwgcmVzKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5vblJlc2l6ZShyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUubGVmdCA9IChzY3JlZW5XIC0gdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLnJlYWxXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS50b3AgPSBzY3JlZW5IIC0gdGhpcy5iYW5uZXJDbGFzc2ljRW5kLnN0eWxlLnJlYWxIZWlnaHQgLSAxMDtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuSCAvIHNjcmVlblcgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZC5zdHlsZS50b3AgPSB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc3R5bGUudG9wIC0gMjU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9PdGhlciA9IExheWEudGltZXIuY3VyclRpbWVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckNsYXNzaWNFbmQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3lCYW5uZXJBZEhvbWUoKSB7XG4gICAgICAgIHRoaXMuYmFubmVySG9tZUlzSGlkZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmJhbm5lckhvbWUpIHtcbiAgICAgICAgICAgIHRoaXMucHJlQmFubmVyVGltZV9Ib21lID0gMDtcbiAgICAgICAgICAgIGlmKENvbmZpZ0RhdGEuY3RybEluZm8uaXNfYmFubmVyID09IDEpe1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJIb21lID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySG9tZS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveUJhbm5lckFkT3RoZXIoKSB7XG4gICAgICAgIHRoaXMuYmFubmVyT3RoZXJJc0hpZGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5iYW5uZXJPdGhlcikge1xuICAgICAgICAgICAgdGhpcy5wcmVCYW5uZXJUaW1lX090aGVyID0gMDtcbiAgICAgICAgICAgIGlmKENvbmZpZ0RhdGEuY3RybEluZm8uaXNfYmFubmVyID09IDEpe1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyT3RoZXIgPSBudWxsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJPdGhlci5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHB1YmxpYyBkZXN0cm95QmFubmVyQWRDbGFzc2ljRW5kKCkge1xuICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmRJc0hpZGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5iYW5uZXJDbGFzc2ljRW5kKSB7XG4gICAgICAgICAgICB0aGlzLnByZUJhbm5lclRpbWVfQ2xhc3NpY0VuZCA9IDA7XG4gICAgICAgICAgICBpZihDb25maWdEYXRhLmN0cmxJbmZvLmlzX2Jhbm5lciA9PSAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQ2xhc3NpY0VuZCA9IG51bGw7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckNsYXNzaWNFbmQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3RvcnlBbGxCYW5uZXJBZCgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95QmFubmVyQWRIb21lKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveUJhbm5lckFkT3RoZXIoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95QmFubmVyQWRDbGFzc2ljRW5kKCk7XG4gICAgfVxuXG5cblxufSIsImltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJEYXRhXCI7XG5pbXBvcnQgSHR0cE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL0h0dHBNZ3JcIjtcbmltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi8uLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgQ29uZmlnRGF0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcbmltcG9ydCBFdmVudE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL0V2ZW50TWdyXCI7XG5pbXBvcnQgU3RhdGlzdGljc01nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1N0YXRpc3RpY3NNZ3JcIjtcbmltcG9ydCBNeUxvZyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlMb2dcIjtcbmltcG9ydCBTb3VuZE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1NvdW5kTWdyXCI7XG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1ZpZXdNZ3JcIjtcbmltcG9ydCBDb252ZXJnZUFkVmlldyBmcm9tIFwiLi4vLi4vdmlld3MvQ29udmVyZ2VBZFZpZXdcIjtcbmltcG9ydCBXWFN1YkRvbWFpbiBmcm9tIFwiLi9XWFN1YkRvbWFpblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXWEFQSSB7XG4gICAgcHVibGljIF9sYXVuY2g6YW55ID0ge307XG4gICAgcHJpdmF0ZSBidG5zID0gW107XG4gICAgcHJpdmF0ZSBvZmZzZXRPcGVuRG9tYWluOiBMYXlhLlZlY3RvcjI7XG4gICAgcHJpdmF0ZSBzdGltZSA9IDA7XG4gICAgcHJpdmF0ZSBzaGFyZUJhY2tBcmdzID0ge307XG4gICAgcHJpdmF0ZSBjYWxsZXIgPSBudWxsO1xuICAgIHByaXZhdGUgc2hhcmVCYWNrO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2xhdW5jaCA9IHdpbmRvd1tcInd4XCJdLmdldExhdW5jaE9wdGlvbnNTeW5jKCk7XG4gICAgICAgIFxuICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5vbmNlKFwiZ2V0U3lzdGVtUGFyYW1MaXN0QmFja1wiLHRoaXMsKCk9PntcbiAgICAgICAgICAgIHRoaXMuc2hvd1NoYXJlTWVudSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRPcGVuRG9tYWluT2Zmc2V0KCk7XG5cbiAgICAgICAgd2luZG93W1wid3hcIl0ub25TaG93KChyZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBzaGFyZVRpY2tldCA9IHJlcy5zaGFyZVRpY2tldDtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHJlcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgICAgIGlmIChzaGFyZVRpY2tldCAhPSB1bmRlZmluZWQgJiYgcXVlcnkuYXZhdGFyVXJsR3JvdXBcbiAgICAgICAgICAgICAgICAmJiBxdWVyeS5uaWNrTmFtZUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgLy/lnKjov5nlgZrnvqTmjpLooYznmoRcYuW8ueahhlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL+WIhuS6q+Wbnuiwg1xuICAgICAgICAgICAgICAgIHZhciBfZDogYW55ID0gdGhpcy5zaGFyZUJhY2tBcmdzIHx8IHt9O1xuICAgICAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICBsZXQgdGltZSA9IExheWEuQnJvd3Nlci5ub3coKSAtIHRoaXMuc3RpbWU7XG4gICAgICAgICAgICAgICAgaWYgKExheWEuQnJvd3Nlci5ub3coKSAtIHRoaXMuc3RpbWUgPiAyMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kLnN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFyZUJhY2sgJiYgdGhpcy5jYWxsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVCYWNrLmNhbGwodGhpcy5jYWxsZXIsIF9kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2Quc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFyZUJhY2sgJiYgdGhpcy5jYWxsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVCYWNrLmNhbGwodGhpcy5jYWxsZXIsIF9kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/mkq3mlL7pn7PkuZAg5YiH5Yiw5ZCO5Y+w6IOM5pmv6Z+z5LmQ5raI5aSx6ZyA6KaB6YeN5paw5pKt5pS+XG4gICAgICAgICAgICBTb3VuZE1nci5pbnN0YW5jZS5wbGF5QkdNKCk7XG5cbiAgICAgICAgICAgIC8v6IGa5ZCI5bm/5ZGK6aG16Z2iXG4gICAgICAgICAgICAvL+aOp+WItue7k+adn+mhtemdoueahOWIhuS6q++8jOS4jeaYvuekuuiBmuWQiOW5v+WRiumhtemdolxuICAgICAgICAgICAgbGV0IG5vdFNob3dBZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYodGhpcy5zaGFyZUJhY2tBcmdzKXtcbiAgICAgICAgICAgICAgICBub3RTaG93QWQgPSB0aGlzLnNoYXJlQmFja0FyZ3NbXCJub3RTaG93QWRcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLHRoaXMsKCk9PntcbiAgICAgICAgICAgICAgICAvL+WPquWcqOe7k+adn+eVjOmdouaYvuekuuiBmuWQiOW5v+WRiumhtemdolxuICAgICAgICAgICAgICAgIGxldCBnYW1lT3ZlclZpZXcgPSBWaWV3TWdyLmluc3RhbmNlLmdldFZpZXcoXCJHYW1lT3Zlci5zY2VuZVwiKTtcbiAgICAgICAgICAgICAgICBsZXQgY29udmVyZ2VBZFZpZXcgPSBWaWV3TWdyLmluc3RhbmNlLmdldFZpZXcoXCJDb252ZXJnZUFkLnNjZW5lXCIpO1xuICAgICAgICAgICAgICAgIGlmICghbm90U2hvd0FkICYmIENvbmZpZ0RhdGEuY3RybEluZm8uaXNDb252ZXJnZSA9PSAxICYmIGdhbWVPdmVyVmlldyAmJiAhY29udmVyZ2VBZFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZTogXCJDb252ZXJnZUFkLnNjZW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzOiBDb252ZXJnZUFkVmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuc2hhcmVCYWNrQXJncyA9IHt9O1xuICAgICAgICB9KVxuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5vbkhpZGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGltZSA9IExheWEuQnJvd3Nlci5ub3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBvbkdvU2hhcmUocmVzKSB7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gcmVzLmNhbGxlcjtcbiAgICAgICAgdGhpcy5zaGFyZUJhY2sgPSByZXMuY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuc2hhcmVCYWNrQXJncyA9IHJlcy5hcmdzIHx8IHt9O1xuICAgIH1cbiAgICAgLypcbiAgICAgICAgc3VjY2VzcyDmiJDlip/lm57osINcbiAgICAgICAgZmFpbCDlpLHotKXlm57osINcbiAgICAqL1xuICAgcHVibGljIGRvTG9naW4oX2RhdGEpe1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93W1wid3hcIl0ubG9naW4oe1xuICAgICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIFVzZXJEYXRhLmNvZGUgPSByZXMuY29kZTtcbiAgICAgICAgICAgICAgICAvL+eZu+W9leaOpeWPo1xuICAgICAgICAgICAgICAgIHZhciBsYXVuY2ggPSB0aGlzLmdldExhdW5jaERhdGEoKTtcbiAgICAgICAgICAgICAgICB2YXIgX2Q6IGFueSA9IHt9XG4gICAgICAgICAgICAgICAgX2QuY29kZSA9IHJlcy5jb2RlO1xuICAgICAgICAgICAgICAgIGlmKGxhdW5jaC5xdWVyeSl7XG4gICAgICAgICAgICAgICAgICAgIF9kLmludml0ZUlkID0gbGF1bmNoLnF1ZXJ5Lmludml0ZV91aWQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIF9kLmNoYW5uZWxJZCA9IGxhdW5jaC5xdWVyeS5jaGFubmVsIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIFVzZXJEYXRhLmZyb21BcHBpZCA9IGxhdW5jaC5xdWVyeS5jdXJfc2hhcmVfaWR8fFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGxhdW5jaC5yZWZlcnJlckluZm8pe1xuICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5mcm9tSW1naWQgPSBsYXVuY2gucmVmZXJyZXJJbmZvLmFwcElkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZC5zdWNjZXNzID0gX2RhdGEuc3VjY2VzcztcbiAgICAgICAgICAgICAgICBfZC5mYWlsID0gX2RhdGEuZmFpbDtcbiAgICAgICAgICAgICAgICBIdHRwTWdyLmluc3RhbmNlLmxvZ2luKF9kKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXRPZmZzZXRPcGVuRG9tYWluKCk6YW55e1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRPcGVuRG9tYWluO1xuICAgIH1cblxuICAgIGdldExhdW5jaERhdGEoKTphbnl7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXVuY2g7XG4gICAgfVxuXG4gICAgZ2V0UXVlcnkoKTphbnl7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXVuY2gucXVlcnk7XG4gICAgfVxuXG4gICAgZ2V0UmVmZXJyZXJJbmZvKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXVuY2gucmVmZXJyZXJJbmZvO1xuICAgIH1cblxuXG4gICAgcHVibGljICB1cGxvYWRSYW5rRGF0ZShfZGF0YSkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGQgPSBbXTtcbiAgICAgICAgaWYgKCFNeVV0aWxzLmlzTnVsbChfZGF0YS5sZXZlbCkpIHtcbiAgICAgICAgICAgIGQucHVzaCh7IGtleTogXCJsZXZlbFwiLCB2YWx1ZTogX2RhdGEubGV2ZWwgKyBcIlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghTXlVdGlscy5pc051bGwoX2RhdGEuc2NvcmUpKSB7XG4gICAgICAgICAgICBkLnB1c2goeyBrZXk6IFwic2NvcmVcIiwgdmFsdWU6IF9kYXRhLnNjb3JlICsgXCJcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zZXRVc2VyQ2xvdWRTdG9yYWdlKHtcbiAgICAgICAgICAgIEtWRGF0YUxpc3Q6IGQsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLkuIrkvKDmlbDmja7liLDlvq7kv6HmnI3liqHlmag6XCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dTaGFyZU1lbnUoKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zaG93U2hhcmVNZW51KHsgd2l0aFNoYXJlVGlja2V0OiB0cnVlIH0pO1xuICAgICAgICBcbiAgICAgICAgbGV0IHNoYXJlSW5mbyA9IHRoaXMuY3JlYXRlU2hhcmVJbmZvKCk7XG4gICAgICAgIHdpbmRvd1tcInd4XCJdLm9uU2hhcmVBcHBNZXNzYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFyZUluZm87XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU2hhcmVJbmZvKF9kPzphbnkpOmFueXtcbiAgICAgICAgdmFyIHNkID0gSlNPTi5wYXJzZShDb25maWdEYXRhLmdldENvbmZpZ0RhdGEoXCJzaGFyZUluZm9cIikpO1xuICAgICAgICBpZighc2Qpe3JldHVybiBudWxsfVxuICAgICAgICB2YXIgcmFuZF90ID0gTXlVdGlscy5yYW5kb20oMCwgc2QubGVuZ3RoIC0gMSk7XG4gICAgICAgIHZhciB0aXRsZSA9IHNkW3JhbmRfdF0udGl0bGU7XG4gICAgICAgIHZhciBpbWFnZVVybCA9IHNkW3JhbmRfdF0uaW1nO1xuICAgICAgICB2YXIgcXVlcnkgPSBcImludml0ZV91aWQ9XCIgKyAoVXNlckRhdGEudXNlcklkID8gVXNlckRhdGEudXNlcklkIDogXCJcIik7XG4gICAgICAgIHF1ZXJ5ICs9IFwiJmN1cl9zaGFyZV9pZD1cIiArIHNkW3JhbmRfdF0uaWQ7XG4gICAgICAgIHF1ZXJ5ICs9IFwiJmF2YXRhclVybEdyb3VwPVwiICsgKFVzZXJEYXRhLmF2YXRhclVybCA/IFVzZXJEYXRhLmF2YXRhclVybCA6IFwiXCIpO1xuICAgICAgICBxdWVyeSArPSBcIiZuaWNrTmFtZUdyb3VwPVwiICsgKFVzZXJEYXRhLm5pY2tOYW1lID8gVXNlckRhdGEubmlja05hbWUgOiBcIlwiKTtcbiAgICAgICAgcXVlcnkgKz0gXCImY2hhbm5lbD1cIiArIChVc2VyRGF0YS5jaGFubmVsSWQgPyBVc2VyRGF0YS5jaGFubmVsSWQgOiBcIlwiKTtcbiAgICAgICAgaWYgKF9kKSB7XG4gICAgICAgICAgICBpZiAoX2QuaWQpIHtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBcIiZzY2VuZT1cIiArIF9kLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9kLml0ZW1JZCkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IFwiJml0ZW1JZD1cIiArIF9kLml0ZW1JZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gXCImdHlwZT1cIiArIF9kLnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2Quc2hhcmVfdGl0bGUpIHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF9kLnNoYXJlX3RpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9kLnNoYXJlX2ltZykge1xuICAgICAgICAgICAgICAgIGltYWdlVXJsID0gX2Quc2hhcmVfaW1nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgfSBcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHNoYXJlQXBwTWVzc2FnZShfZCwgdHlwZTogbnVtYmVyKSB7XG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMub25Hb1NoYXJlKF9kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUNvbmZpZ0RhdGEuZ2V0Q29uZmlnRGF0YShcInNoYXJlSW5mb1wiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2Uuc2hhcmVTdGF0aXN0aWNzKHR5cGUpO1xuICAgICAgICBsZXQgc2hhcmVJbmZvID0gdGhpcy5jcmVhdGVTaGFyZUluZm8oX2QpO1xuICAgICAgICB3aW5kb3dbXCJ3eFwiXS5zaGFyZUFwcE1lc3NhZ2Uoc2hhcmVJbmZvKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbmF2aWdhdGVUb01pbmlQcm9ncmFtKF9kKSB7XG4gICAgICAgIGlmICghX2QgfHwgIV9kLmFwcElkIHx8ICFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2UubmF2aWdhdGVUb01pbmlQcm9ncmFtU3RhdGlzdGljcyhfZCk7XG4gICAgICAgIHdpbmRvd1tcInd4XCJdLm5hdmlnYXRlVG9NaW5pUHJvZ3JhbSh7XG4gICAgICAgICAgICBhcHBJZDogX2QuYXBwaWQsXG4gICAgICAgICAgICBwYXRoOiBfZC5wYXRoLFxuICAgICAgICAgICAgZXh0cmFEYXRhOiB7XG4gICAgICAgICAgICAgICAgZm9vOiAnYmFyJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlbnZWZXJzaW9uOiAnZGV2ZWxvcCcsXG4gICAgICAgICAgICBjb21wbGV0ZToocmVzKT0+IHtcbiAgICAgICAgICAgICAgICBpZihfZC5jb21wbGV0ZSl7XG4gICAgICAgICAgICAgICAgICAgIF9kLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9kLmNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsOihyZXMpPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvd1tcInd4XCJdLnNob3dUb2FzdCh7dGl0bGU6XCLot7PovazlpLHotKVcIn0pO1xuICAgICAgICAgICAgICAgIGlmKF9kLmZhaWwpe1xuICAgICAgICAgICAgICAgICAgICBfZC5mYWlsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9kLmZhaWwgPSBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6KHJlcyk9PiB7XG4gICAgICAgICAgICAgICAgU3RhdGlzdGljc01nci5pbnN0YW5jZS5uYXZpZ2F0ZVRvTWluaVByb2dyYW1CYWNrU3RhdGlzdGljcyhfZCk7XG4gICAgICAgICAgICAgICAgaWYgKF9kLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kLmNhbGxiYWNrKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2QuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgICAvKipcbiAgICAgKiDorr7nva7lrZDln5/nlYzpnaLlgY/np7vvvIzpgILphY3kuI3lkIznmoTlsY/luZXnlYzpnaJcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0T3BlbkRvbWFpbk9mZnNldCgpIHtcbiAgICAgICAgbGV0IG9mZnNldFggPSBMYXlhLnN0YWdlLndpZHRoIC0gNzUwO1xuICAgICAgICBpZiAob2Zmc2V0WCA8IDApIHtcbiAgICAgICAgICAgIG9mZnNldFggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvZmZzZXRZID0gTGF5YS5zdGFnZS5oZWlnaHQgLSAxMzM0O1xuICAgICAgICBpZiAob2Zmc2V0WSA8IDApIHtcbiAgICAgICAgICAgIG9mZnNldFkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2Zmc2V0T3BlbkRvbWFpbiA9IG5ldyBMYXlhLlZlY3RvcjIob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUF1dGhvcml6YXRpb25CdXR0b24oX2RhdGEpIHtcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICB3eC5nZXRTZXR0aW5nKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuYXV0aFNldHRpbmcgJiYgcmVzLmF1dGhTZXR0aW5nW1wic2NvcGUudXNlckluZm9cIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE15TG9nLmxvZyhcIuW3sue7j+aOiOadg1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzV2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNIZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4YiA9IChMYXlhLkJyb3dzZXIud2lkdGggLyBMYXlhLkJyb3dzZXIucGl4ZWxSYXRpbykgLyBzV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWIgPSAoTGF5YS5Ccm93c2VyLmhlaWdodCAvIExheWEuQnJvd3Nlci5waXhlbFJhdGlvKSAvIHNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGVmdCA9IChfZGF0YS54IC0gX2RhdGEud2lkdGggLyAyKSAqIHhiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvcCA9IChfZGF0YS55ICsgdGhpcy5vZmZzZXRPcGVuRG9tYWluLnkgLSBfZGF0YS5oZWlnaHQgLyAyKSAqIHliO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gX2RhdGEud2lkdGggKiB4YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSAoX2RhdGEuaGVpZ2h0KSAqIHliO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kYXRhLmlzRnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IChfZGF0YS55ICsgdGhpcy5vZmZzZXRPcGVuRG9tYWluLnkgLyAyKSAqIHliO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvciA9IFwiI2ZmMDcwM1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IHdpbmRvd1tcInd4XCJdLmNyZWF0ZVVzZXJJbmZvQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ0bnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bnMucHVzaCh7IFwiYnV0dG9uXCI6IGJ1dHRvbiwgXCJpc0Z1bGxcIjogX2RhdGEuaXNGdWxsIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLm9uVGFwKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy51c2VySW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyRGF0YS5uaWNrTmFtZSA9IHJlcy51c2VySW5mby5uaWNrTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuZ2VuZGVyID0gcmVzLnVzZXJJbmZvLmdlbmRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckRhdGEuYXZhdGFyVXJsID0gcmVzLnVzZXJJbmZvLmF2YXRhclVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRpc3RpY3NNZ3IuaW5zdGFuY2UuYXV0aG9yU3RhdGlzdGljcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWdyLmluc3RhbmNlLnVwZGF0ZVVzZXJJbmZvKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnRucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5idXR0b24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnRucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YS5zdWNjZXNzQmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEuc3VjY2Vzc0JhY2subWV0aG9kLmNhbGwoX2RhdGEuc3VjY2Vzc0JhY2suY2FsbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdG9yeUF1dGhvcml6YXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kYXRhLmZhaWxCYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YS5mYWlsQmFjay5tZXRob2QuY2FsbChfZGF0YS5mYWlsQmFjay5jYWxsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3RvcnlBdXRob3JpemF0aW9uKCl7XG4gICAgICAgIGlmKCFDb25maWdEYXRhLnJlcGVhdEF1dGhvcml6YXRpb24peyAvL+WmguaenOS4jemcgOimgemHjeWkjeW8ueaOiOadg1xuICAgICAgICAgICAgQ29uZmlnRGF0YS5pc0NyZWF0ZUF1dGhvcml6YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgaWYodGhpcy5idG5zKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYnV0dG9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc2V0QXV0aG9yaXphdGlvbkNoZWNrKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRBdXRob3JpemF0aW9uQ2hlY2soZmxhZykge1xuICAgICAgICBpZiAodGhpcy5idG5zKSB7XG4gICAgICAgICAgICB0aGlzLmJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5idXR0b24uc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5idXR0b24uaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdmlicmF0ZVNob3J0KCkge1xuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbmZpZ0RhdGEuaXNWaXJib3J0KSB7XG4gICAgICAgICAgICB3aW5kb3dbXCJ3eFwiXS52aWJyYXRlU2hvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB2aWJyYXRlTG9uZygpIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb25maWdEYXRhLmlzVmlyYm9ydCkge1xuICAgICAgICAgICAgd2luZG93W1wid3hcIl0udmlicmF0ZUxvbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvcGVuQ3VzdG9tZXJTZXJ2aWNlQ29udmVyc2F0aW9uKCl7XG4gICAgICAgIHdpbmRvd1tcInd4XCJdLm9wZW5DdXN0b21lclNlcnZpY2VDb252ZXJzYXRpb24oKTtcbiAgICB9XG59IiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uLy4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcbmltcG9ydCBTb3VuZE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL1NvdW5kTWdyXCI7XHJcbmltcG9ydCBHYW1lTWdyIGZyb20gXCIuLi8uLi9tZ3IzZC9HYW1lTWdyXCI7XHJcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuLi8uLi9tZ3JDb21tb24vVmlld01nclwiO1xyXG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uLy4uL21nckNvbW1vbi9FdmVudE1nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV1hMYXVuY2ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwcml2YXRlIHRvUHJvY2VzczogbnVtYmVyID0gMTtcclxuICAgIHByaXZhdGUgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHByb0xhYmVsOiBMYXlhLkxhYmVsO1xyXG4gICAgcHJpdmF0ZSB0aXBMYWJsZTogTGF5YS5MYWJlbDtcclxuICAgIHByaXZhdGUgcHJvOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSBzY2VuZTNkVXJsOnN0cmluZyA9IFwicmVzM2QvQ29udmVudGlvbmFsL0VhdGl0dXAubHNcIlxyXG5cclxuICAgIGdldExhdW5jaFRpcE1zZygpIHtcclxuICAgICAgICBsZXQgdGlwcyA9IFtcclxuICAgICAgICAgICAgXCLmjInkvY/lsY/luZXoiIzlpLTkvJrkvLjplb/lk6ZcIixcclxuICAgICAgICAgICAgXCLmlbLlpb3njqnvvIzlgLzlvpfnrYnlvoXvvIzlkbF+XCJcclxuICAgICAgICBdXHJcbiAgICAgICAgcmV0dXJuIHRpcHNbTXlVdGlscy5yYW5kb20oMCwgdGlwcy5sZW5ndGggLSAxKV07XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIGdyb3VwOiBMYXlhLk5vZGUgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwicHJvZ3Jlc3NHcm91cFwiKTtcclxuICAgICAgICB0aGlzLnBybyA9IGdyb3VwLmdldENoaWxkQnlOYW1lKFwicHJvZ3Jlc3NcIikgYXMgTGF5YS5JbWFnZTtcclxuICAgICAgICB0aGlzLnByb0xhYmVsID0gZ3JvdXAuZ2V0Q2hpbGRCeU5hbWUoXCJwcm9MYWJcIikgYXMgTGF5YS5MYWJlbDtcclxuICAgICAgICB0aGlzLnRpcExhYmxlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInRpcEJnXCIpLmdldENoaWxkQnlOYW1lKFwidGlwTGFiXCIpIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgdGhpcy50aXBMYWJsZS50ZXh0ID0gdGhpcy5nZXRMYXVuY2hUaXBNc2coKTtcclxuICAgICAgICB0aGlzLmxvYWRSZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRSZXMoKSB7XHJcbiAgICAgICAgdmFyIHJlc291cmNlOiBBcnJheTxhbnk+ID0gW1xyXG4gICAgICAgICAgICB7IHVybDogXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiLCB0eXBlOiBMYXlhLkxvYWRlci5BVExBUyB9LFxyXG4gICAgICAgICAgICB7IHVybDogXCJyZXMvanNvbi9jb25maWcuanNvblwiLCB0eXBlOiBMYXlhLkxvYWRlci5KU09OIH0sXHJcbiAgICAgICAgICAgIHsgdXJsOiBcInJlcy9sYW5ndWFnZS9cIiArIENvbmZpZ0RhdGEubGFuZ3VhZ2UgKyBcIi5qc29uXCIsIHR5cGU6IExheWEuTG9hZGVyLkpTT04gfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcclxuICAgICAgICAgICAgdmFyIGxvYWRUYXNrOiBhbnkgPSB3aW5kb3dbXCJ3eFwiXS5sb2FkU3VicGFja2FnZSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncmVzM2QnLCAvLyBuYW1lIOWPr+S7peWhqyBuYW1lIOaIluiAhSByb290XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295oiQ5Yqf5ZCO6YCa6L+HIHN1Y2Nlc3Mg5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvYWRUYXNrMTogYW55ID0gd2luZG93W1wid3hcIl0ubG9hZFN1YnBhY2thZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncmVzJywgLy8gbmFtZSDlj6/ku6XloasgbmFtZSDmiJbogIUgcm9vdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliIbljIXliqDovb3miJDlip/lkI7pgJrov4cgc3VjY2VzcyDlm57osINcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQocmVzb3VyY2UsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMC45OSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUmVzQ29tcGxldGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMC42ICsgcmVzICogMC40KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDliIbljIXliqDovb3lpLHotKXpgJrov4cgZmFpbCDlm57osIPml7blvLrooYzph43mlrDliqDovb3otYTmupDvvIzov5nmoLfmiY3og73ov5vmuLjmiI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFJlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZFRhc2sxLm9uUHJvZ3Jlc3NVcGRhdGUocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcygwLjMgKyByZXMucHJvZ3Jlc3MgKiAwLjAwMylcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmYWlsOiAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YiG5YyF5Yqg6L295aSx6LSl6YCa6L+HIGZhaWwg5Zue6LCDXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUmVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbG9hZFRhc2sub25Qcm9ncmVzc1VwZGF0ZShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyhyZXMucHJvZ3Jlc3MgKiAwLjAwMylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChyZXNvdXJjZSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKDAuOTkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUmVzQ29tcGxldGUoKVxyXG4gICAgICAgICAgICB9KSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKHJlcylcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRSZXNDb21wbGV0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvL+acrOWcsOa4uOaIj+aVsOaNrumFjee9rlxyXG4gICAgICAgIENvbmZpZ0RhdGEuaW5pdENvbmZpZ0RhdGEoXHJcbiAgICAgICAgICAgIExheWEuTG9hZGVyLmdldFJlcyhcInJlcy9qc29uL2NvbmZpZy5qc29uXCIpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy/or63oqIDmlofku7ZcclxuICAgICAgICBDb25maWdEYXRhLmxhbmd1YWdlRGF0YSA9IExheWEuTG9hZGVyLmdldFJlcyhcInJlcy9qc29uL1wiICsgQ29uZmlnRGF0YS5sYW5ndWFnZSArIFwiLmpzb25cIik7XHJcbiAgICAgICAgLy8gTGF5YS5TY2VuZTNELmxvYWQodGhpcy5zY2VuZTNkVXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuT24zRFJlc0xvYWRDb21wbGV0ZSkpO1xyXG4gICAgICAgIHRoaXMuT24zRFJlc0xvYWRDb21wbGV0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgT24zRFJlc0xvYWRDb21wbGV0ZShzY2VuZT86IExheWEuU2NlbmUzRCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKExheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSB7XHJcbiAgICAgICAgICAgIExheWEuTWluaUFkcHRlci5zZW5kQXRsYXNUb09wZW5EYXRhQ29udGV4dChcInJlcy9hdGxhcy9yYW5rLmF0bGFzXCIpOyAvL+S9v+eUqOaOpeWPo+WwhuWbvumbhumAj+S8oOWIsOWtkOWfn1xyXG4gICAgICAgIH1cclxuICAgICAgICBTb3VuZE1nci5pbnN0YW5jZS5wbGF5QkdNKCk7XHJcblxyXG4gICAgICAgIC8vIHNjZW5lLmFkZENvbXBvbmVudChHYW1lTWdyKTtcclxuICAgICAgICAvLyBMYXlhLnN0YWdlLmFkZENoaWxkQXQoc2NlbmUsMCk7XHJcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdvSG9tZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuXHRcdCAqIOabtOaWsOi1hOa6kOWKoOi9vei/m+W6plxyXG5cdFx0ICovXHJcbiAgICBwdWJsaWMgdXBkYXRlUHJvZ3Jlc3MocHJvZ3Jlc3MpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA+IHRoaXMudG9Qcm9jZXNzID8gdGhpcy50b1Byb2Nlc3MgOiB0aGlzLnByb2dyZXNzO1xyXG4gICAgICAgIC8v5pyA6auYMTAwJei/m+W6plxyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID49IDEpIHtcclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi5jbGVhckFsbCh0aGlzLnBybyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvTGFiZWwudGV4dCA9IFwi5ri45oiP5Yqg6L295a6M5q+V77yM5Y2z5bCG6L+b5YWl5ri45oiPLi4uXCJcclxuICAgICAgICAgICAgdGhpcy5wcm8ud2lkdGggPSA1MDA7XHJcbiAgICAgICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKDIsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXMoXCJsb2FkaW5nL2xvYWRpbmcuYXRsYXNcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm8ud2lkdGggPSA1MDAgKiB0aGlzLnByb2dyZXNzO1xyXG4gICAgICAgICAgICAvLyBMYXlhLlR3ZWVuLmNsZWFyQWxsKHRoaXMucHJvKTtcclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi50byh0aGlzLnBybyx7d2lkdGg6NTAwICogdGhpcy5wcm9ncmVzc30sMTAwLExheWEuRWFzZS5saW5lYXJOb25lKVxyXG4gICAgICAgICAgICAvL+i/m+W6puWinuWKoFxyXG4gICAgICAgICAgICB0aGlzLnByb0xhYmVsLnRleHQgPSBcIui1hOa6kOWKoOi9veS4rS4uLlwiICsgTWF0aC5mbG9vcih0aGlzLnByb2dyZXNzICogMTAwKSArIFwiJVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdYU3ViRG9tYWluIHtcclxuICAgIHByaXZhdGUgd3hPcGVuRGF0YVZpZXc6IExheWEuV1hPcGVuRGF0YVZpZXdlcjtcclxuICAgIFxyXG4gICAgc2V0T3BlblZpZXcoX3YpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3ID0gX3Y7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VGcmllbmRSYW5rKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnBvc3RNc2coeyB0eXBlOiBcImNsb3NlRnJpZW5kUmFua1wiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5GcmllbmRSYW5rKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLCB0aGlzLCAoKT0+IHtcclxuICAgICAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJvcGVuRnJpZW5kUmFua1wiIH0pO1xyXG4gICAgICAgIC8vIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkdhbWVPdmVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnBvc3RNc2coeyB0eXBlOiBcIm9wZW5HYW1lT3ZlclwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlR2FtZU92ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCAhdGhpcy53eE9wZW5EYXRhVmlldykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcucG9zdE1zZyh7IHR5cGU6IFwiY2xvc2VHYW1lT3ZlclwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5TdXJwYXNzT3RoZXIoX2QpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJvcGVuU3VycGFzc090aGVyXCIgLGRhdGE6X2R9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVN1cnBhc3NPdGhlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJjbG9zZVN1cnBhc3NPdGhlclwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Hb2luZ1N1cnBhc3NPdGhlcihfZCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnBvc3RNc2coeyB0eXBlOiBcIm9wZW5Hb2luZ1N1cnBhc3NPdGhlclwiICxkYXRhOl9kfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VHb2luZ1N1cnBhc3NPdGhlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJjbG9zZUdvaW5nU3VycGFzc090aGVyXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblByb3ZvY2F0aW9uT3RoZXIoX2QpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lIHx8ICF0aGlzLnd4T3BlbkRhdGFWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy5wb3N0TXNnKHsgdHlwZTogXCJvcGVuUHJvdm9jYXRpb25PdGhlclwiICxkYXRhOl9kfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VQcm92b2NhdGlvbk90aGVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUgfHwgIXRoaXMud3hPcGVuRGF0YVZpZXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnd4T3BlbkRhdGFWaWV3LnBvc3RNc2coeyB0eXBlOiBcImNsb3NlUHJvdm9jYXRpb25PdGhlclwiIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uL3Rvb2xzL015VXRpbHNcIjtcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9tb2RlbHMvVXNlckRhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHR0cFV0aWxzIHtcbiAgICBwdWJsaWMgcmVxdWVzdChfZCkge1xuICAgICAgICB2YXIgbWV0aCA9IF9kLm1ldGggfHwgXCJwb3N0XCJcbiAgICAgICAgdmFyIGRhdGEgPSBfZC5kYXRhIHx8IHt9O1xuICAgICAgICB2YXIgdXJsID0gXCJcIjtcbiAgICAgICAgaWYgKF9kLnVybC5pbmRleE9mKFwiaHR0cHM6Ly9cIikgPiAtMSB8fFxuICAgICAgICAgICAgX2QudXJsLmluZGV4T2YoXCJodHRwOi8vXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHVybCA9IF9kLnVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IENvbmZpZ0RhdGEuc2VydmVyVXJsICsgX2QudXJsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wbGV0ZUZ1bmMgPSAocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoX2QuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVybDpcIiArIHVybCArXCIgcmVzOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7XG4gICAgICAgICAgICAgICAgX2QuY2FsbGJhY2socmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIF9kID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVycm9yRnVuYyA9IChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChfZC5mYWlsKSAge1xuICAgICAgICAgICAgICAgIF9kLmZhaWwocmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kLmZhaWwgPSBudWxsO1xuICAgICAgICAgICAgX2QgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBpZihVc2VyRGF0YS5zZXNzaW9uSWQpe1xuICAgICAgICAgICAgZGF0YS5zZXNzaW9uSWQgPSBVc2VyRGF0YS5zZXNzaW9uSWQ7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNlc3Npb25JZO+8mlwiICsgVXNlckRhdGEuc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyOiBMYXlhLkh0dHBSZXF1ZXN0ID0gbmV3IExheWEuSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSwgdGhpcywgY29tcGxldGVGdW5jKTtcbiAgICAgICAgeGhyLm9uY2UoTGF5YS5FdmVudC5FUlJPUiwgdGhpcywgZXJyb3JGdW5jKTtcbiAgICAgICAgeGhyLnNlbmQodXJsLCBKU09OLnN0cmluZ2lmeShkYXRhKSwgbWV0aCwgXCJqc29uXCIsIFtcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlcXVlc3RTdGF0aXN0aWNzKF9kKSB7XG4gICAgICAgIHZhciBtZXRoID0gX2QubWV0aCB8fCBcInBvc3RcIlxuICAgICAgICB2YXIgZGF0YSA9IF9kLmRhdGEgfHwge307XG4gICAgICAgIF9kLnVybCA9IF9kLnVybCB8fCBcIlwiXG4gICAgICAgIHZhciB1cmwgPSBDb25maWdEYXRhLnN0YXRpc3RpY3NVcmwgKyBfZC51cmw7XG4gICAgICAgIC8vIHZhciBjb21wbGV0ZURlbCA9IChyZXMpID0+IHtcbiAgICAgICAgLy8gICAgIGlmIChfZC5jYWxsYmFjaykge1xuICAgICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidXJsOlwiICsgdXJsICtcIiByZXM6XCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTtcbiAgICAgICAgLy8gICAgICAgICBfZC5jYWxsYmFjayhyZXMpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9O1xuICAgICAgICAvLyB2YXIgZXJyb3JEZWwgPSAocmVzKSA9PiB7XG4gICAgICAgIC8vICAgICBpZiAoX2QuZmFpbCkgIHtcbiAgICAgICAgLy8gICAgICAgICBfZC5mYWlsKHJlcyk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH07XG4gICAgICAgIGlmKFVzZXJEYXRhLnNlc3Npb25JZCl7XG4gICAgICAgICAgICBkYXRhLnNlc3Npb25JZCA9IFVzZXJEYXRhLnNlc3Npb25JZDtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2Vzc2lvbklk77yaXCIgKyBVc2VyRGF0YS5zZXNzaW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4aHI6IExheWEuSHR0cFJlcXVlc3QgPSBuZXcgTGF5YS5IdHRwUmVxdWVzdCgpO1xuICAgICAgICAvLyB4aHIub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCBjb21wbGV0ZURlbCk7XG4gICAgICAgIC8vIHhoci5vbmNlKExheWEuRXZlbnQuRVJST1IsIHRoaXMsIGVycm9yRGVsKTtcbiAgICAgICAgeGhyLnNlbmQodXJsLCBcInBhcmFtPVwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG1ldGgsIFwianNvblwiLCBbXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIl0pO1xuICAgIH1cblxuICAgIC8v5ou/57q/5LiK5ri45oiP55qEanNvbumFjeWItlxuXHRnZXRSZW1vdGVKc29uKF9jYWxsYmFjaykge1xuXHRcdHZhciB4aHI6IExheWEuSHR0cFJlcXVlc3QgPSBuZXcgTGF5YS5IdHRwUmVxdWVzdCgpO1xuXHRcdHhoci5vbmNlKExheWEuRXZlbnQuQ09NUExFVEUsIHRoaXMsIChkYXRhKT0+e1xuXHRcdFx0aWYoZGF0YSAmJiB0eXBlb2YgZGF0YSAhPSBcInN0cmluZ1wiICYmIHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIpe1xuXHRcdFx0XHRpZihDb25maWdEYXRhLmpzb25WZXJzaW9uICE9IGRhdGEudmlzaW9uKXtcblx0XHRcdFx0XHR4aHIgPSBuZXcgTGF5YS5IdHRwUmVxdWVzdCgpO1xuXHRcdFx0XHRcdHhoci5vbmNlKExheWEuRXZlbnQuQ09NUExFVEUsIHRoaXMsIChyZXMpPT57XG5cdFx0XHRcdFx0XHRpZihyZXMgJiYgdHlwZW9mIHJlcyAhPSBcInN0cmluZ1wiICYmIHR5cGVvZiByZXMgPT0gXCJvYmplY3RcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX2NhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhbGxiYWNrKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHhoci5zZW5kKGRhdGEucGF0aCxudWxsLFwiZ2V0XCIsXCJqc29uXCIsW1wiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHR4aHIuc2VuZChDb25maWdEYXRhLmpzb25WZXJzaW9uVXJsLG51bGwsXCJnZXRcIixcImpzb25cIixbXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCJdKTtcblxuXHR9XG59IiwiaW1wb3J0IENvbmZpZ0RhdGEgZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeUxvZyB7XHJcbiAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBsb2coYXJnMT86IGFueSxhcmcyPzphbnkpIHtcclxuICAgICAgICBpZiAoQ29uZmlnRGF0YS5pc0xvZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhcmcxLGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVV0aWxzIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgaXNOdWxsKG9iajogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChvYmogIT0gMCAmJiAob2JqID09IG51bGwgfHwgb2JqID09IFwiXCIgfHwgb2JqID09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBzdGF0aWMgcmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgICAgIHZhciByYW5nZSA9IG1heCAtIG1pbjtcbiAgICAgICAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB2YXIgbnVtID0gbWluICsgTWF0aC5yb3VuZChyYW5kICogcmFuZ2UpOyAvL+Wbm+iIjeS6lOWFpVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cblxuICAgIFx0XHQvKipcblx0XHQgKiDmr5TovoPniYjmnKzlj7fvvIzmoLzlvI94eC54eC54eFxuXHRcdCAqIEBwYXJhbSB2MSDlvZPliY3niYjmnKzlj7dcblx0XHQgKiBAcGFyYW0gdjIg55uu5qCH54mI5pys5Y+3XG4gICAgICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjb21wYXJlVmVyc2lvbih2MSwgdjIpOiBudW1iZXIge1xuICAgICAgICB2MSA9IHYxLnNwbGl0KCcuJylcbiAgICAgICAgdjIgPSB2Mi5zcGxpdCgnLicpXG4gICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KHYxLmxlbmd0aCwgdjIubGVuZ3RoKVxuXG4gICAgICAgIHdoaWxlICh2MS5sZW5ndGggPCBsZW4pIHtcbiAgICAgICAgICAgIHYxLnB1c2goJzAnKVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh2Mi5sZW5ndGggPCBsZW4pIHtcbiAgICAgICAgICAgIHYyLnB1c2goJzAnKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbnVtMSA9IHBhcnNlSW50KHYxW2ldKVxuICAgICAgICAgICAgY29uc3QgbnVtMiA9IHBhcnNlSW50KHYyW2ldKVxuXG4gICAgICAgICAgICBpZiAobnVtMSA+IG51bTIpIHtcbiAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bTEgPCBudW0yKSB7XG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgLy/pobbpg6jmjInpkq7lr7npvZDvvIzlpKfkvZPpgILphY3mmK9va+eahFxuICAgIHB1YmxpYyBzdGF0aWMgYXV0b1NjcmVlblNpemUobm9kZTogYW55W10pIHtcbiAgICAgICAgaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZm8gPSBDb25maWdEYXRhLnN5c3RlbUluZm87XG4gICAgICAgIGxldCBZID0gNjA7XG4gICAgICAgIGlmIChpbmZvLnN0YXR1c0JhckhlaWdodCA8IDIwKSB7IC8vMThcbiAgICAgICAgICAgIFkgKz0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5mby5zdGF0dXNCYXJIZWlnaHQgPj0gMzApIHsgLy80NFxuICAgICAgICAgICAgWSArPSA2MDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmZvLnN0YXR1c0JhckhlaWdodCA+IDIwICYmIGluZm8uc3RhdHVzQmFySGVpZ2h0IDwgMzApIHsgLy8yN1xuICAgICAgICAgICAgWSArPSA3NDtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmZvckVhY2goZSA9PiB7IC8vIDIwICBcbiAgICAgICAgICAgIGUueSA9IFk7XG4gICAgICAgIH0pXG4gICAgfVxuXG5cbn0iLCJpbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9WaWV3TWdyXCI7XG5pbXBvcnQgUGxhdGZvcm1NZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVmlldyBleHRlbmRzIExheWEuU2NyaXB0IHtcbiAgICBwdWJsaWMgaXNNeUJhc2VWaWV3OmJvb2xlYW4gPSB0cnVlXG4gICAgcHJvdGVjdGVkIF9kYXRhO1xuICAgIHByb3RlY3RlZCBfaXNDbGljaztcbiAgICBwcm90ZWN0ZWQgc2hhcmVCdG46IExheWEuSW1hZ2U7XG4gICAgcHJvdGVjdGVkIGhvbWVCdG46IExheWEuSW1hZ2U7XG4gICAgcHJvdGVjdGVkIG9rQnRuOiBMYXlhLkltYWdlO1xuICAgIHByb3RlY3RlZCBjbG9zZUJ0bjogTGF5YS5JbWFnZTtcblxuICAgIG9uQXdha2UoKTogdm9pZCB7XG4gICAgICAgIC8v5Yig6Zmk5pe26Ieq5Yqo6YeK5pS+XG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuVmlldykuYXV0b0Rlc3Ryb3lBdENsb3NlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnQoKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIG9wZW5WaWV3KGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5WaWV3KS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5WaWV3KS5oZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGEgfHwge307XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEV2ZW50KCkge1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVFdmVudCgpIHtcbiAgICAgICAgdGhpcy5faXNDbGljayA9IG51bGw7XG4gICAgICAgIExheWEudGltZXIuY2xlYXJBbGwodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlVmlldyhfZD86YW55KSB7XG4gICAgICAgIHZhciBfdmlld05hbWU6c3RyaW5nID0gKHRoaXMub3duZXIgYXMgTGF5YS5WaWV3KS51cmw7XG4gICAgICAgIGlmKF9kICYmIF9kLm5vdERlc3Ryb3kpe1xuICAgICAgICAgICAgVmlld01nci5pbnN0YW5jZS5oaWRlVmlldyhfdmlld05hbWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIFZpZXdNZ3IuaW5zdGFuY2UuY2xvc2VWaWV3KF92aWV3TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoX3ZpZXdOYW1lID09IFwiUmFuay5zY2VuZVwiKXtcbiAgICAgICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QVBJKVxuICAgICAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLnNldEF1dGhvcml6YXRpb25DaGVjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGF0YSAmJiB0aGlzLl9kYXRhLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLmNhbGxiYWNrKF9kKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIFxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uQW5pbSBleHRlbmRzIExheWEuU2NyaXB0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxuXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vd25lci5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMub25Eb3duKTtcbiAgICAgICAgdGhpcy5vd25lci5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLCB0aGlzLCB0aGlzLm9uVXApO1xuICAgICAgICB0aGlzLm93bmVyLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULCB0aGlzLCB0aGlzLm9uVXApO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vd25lci5vZmZBbGwoKTtcbiAgICAgICAgTGF5YS5Ud2Vlbi5jbGVhckFsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25Eb3duKCk6IHZvaWQge1xuICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMub3duZXIsIHsgc2NhbGVYOiAwLjgsIHNjYWxlWTogMC44IH0sIDEwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblVwKCk6IHZvaWQge1xuICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMub3duZXIsIHsgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfSwgMTAwKTtcbiAgICB9XG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XG5pbXBvcnQgVGlwVmlldyBmcm9tIFwiLi9UaXBWaWV3XCI7XG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcbmltcG9ydCBDb25maWdEYXRhLCB7IE1BSU5CVE5TVFlQRSB9IGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9WaWV3TWdyXCI7XG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9FdmVudE1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb252ZXJnZUFkVmlldyBleHRlbmRzIEJhc2VWaWV3IHtcbiAgICBwcml2YXRlIGFwcGlkID0gXCJcIjsvL+mcgOimgeiwg+i9rOeahEFQUElEXG4gICAgcHJpdmF0ZSBhZExpc3Q6IExheWEuTGlzdDtcblxuICAgIG9uQXdha2UoKXtcbiAgICAgICAgdGhpcy5ob21lQnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bl9jbG9zZVwiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICBNeVV0aWxzLmF1dG9TY3JlZW5TaXplKFt0aGlzLmhvbWVCdG5dKTtcblxuICAgICAgICB0aGlzLnNoYXJlQnRuID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInNoYXJlQnRuXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMub2tCdG4gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuX2FnYWluXCIpIGFzIExheWEuSW1hZ2U7XG5cblxuICAgICAgICB0aGlzLmFkTGlzdCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJsaXN0XCIpIGFzIExheWEuTGlzdDtcbiAgICAgICAgdGhpcy5hZExpc3QudlNjcm9sbEJhclNraW4gPSAnJztcbiAgICAgICAgdGhpcy5hZExpc3Quc2VsZWN0RW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3Iuc2hvd0Jhbm5lckFkT3RoZXIoKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKXtcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3IuZGVzdG9yeUFsbEJhbm5lckFkKCk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBhZGRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5hZExpc3QucmVuZGVySGFuZGxlciA9IG5ldyBMYXlhLkhhbmRsZXIodGhpcywgdGhpcy5vblJlbmRlcik7XG4gICAgICAgIHRoaXMuYWRMaXN0Lm1vdXNlSGFuZGxlciA9IG5ldyBMYXlhLkhhbmRsZXIodGhpcywgdGhpcy5vbkNsaWNrSXRlbSk7XG4gICAgICAgIHRoaXMub2tCdG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkNsaWNrSG9tZSk7XG4gICAgICAgIHRoaXMuaG9tZUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQ2xpY2tIb21lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnQoKSB7XG4gICAgICAgIHN1cGVyLnJlbW92ZUV2ZW50KCk7XG4gICAgICAgIHRoaXMuYWRMaXN0LnJlbmRlckhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmFkTGlzdC5tb3VzZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm9rQnRuLm9mZihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQ2xpY2tIb21lKTtcbiAgICAgICAgdGhpcy5ob21lQnRuLm9mZihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQ2xpY2tIb21lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3BlblZpZXcoZGF0YT86IGFueSkge1xuICAgICAgICBzdXBlci5vcGVuVmlldyhkYXRhKTtcbiAgICAgICAgdGhpcy5ob21lQnRuLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFsbGxsID0gW107XG4gICAgICAgIGlmICh0aGlzLmFkTGlzdC5hcnJheSA9PSBudWxsKSB7XG4gICAgICAgICAgICBhbGxsbCA9IENvbmZpZ0RhdGEuZ2V0QUREYXRhKDEwMDQpO1xuICAgICAgICAgICAgdGhpcy5hZExpc3QuYXJyYXkgPSBhbGxsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkTGlzdC5yZWZyZXNoKCk7Ly/liLfmlrDmlbDmja7mupBcbiAgICAgICAgdGhpcy5hZExpc3Quc2Nyb2xsVG8oMCk7IC8v56ys5LiA5Liq5pi+56S655qEIOS9jee9rlxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCwgdGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMgJiYgdGhpcy5ob21lQnRuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob21lQnRuLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBvbkNsaWNrSG9tZSgpIHtcbiAgICAgICAgdGhpcy5jbG9zZVZpZXcoKTtcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdvSG9tZVwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2tDbGljaygpIHtcbiAgICAgICAgdGhpcy5jbG9zZVZpZXcoKTtcbiAgICAgICAgRXZlbnRNZ3IuaW5zdGFuY2UuZW1pdChcImdhbWVTdGFydFwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIOWNleS4qiBib3gg54K55Ye75LqL5Lu2XG4gICAgKi9cbiAgICBwcml2YXRlIG9uQ2xpY2tJdGVtKGU6IExheWEuRXZlbnQsIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PSBMYXlhLkV2ZW50LkNMSUNLKSB7XG4gICAgICAgICAgICBpZiAoKGUudGFyZ2V0KSBpbnN0YW5jZW9mIExheWEuQm94KSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogdGhpcy5hZExpc3QuYXJyYXlbaW5kZXhdLnRvTGlua3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGlkOiB0aGlzLmFkTGlzdC5hcnJheVtpbmRleF0uYXBwaWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcbiAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkubmF2aWdhdGVUb01pbmlQcm9ncmFtKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBvblJlbmRlcihjZWxsOiBMYXlhLkJveCwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoaW5kZXggPiB0aGlzLmFkTGlzdC5hcnJheS5sZW5ndGggJiYgdGhpcy5hZExpc3QuYXJyYXkubGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuYWRMaXN0LmFycmF5W2luZGV4XSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gY2VsbC5nZXRDaGlsZEJ5TmFtZShcImltZ1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICAgICAgaW1nLnNraW4gPSB0aGlzLmFkTGlzdC5hcnJheVtpbmRleF0ucGFyYW07XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcclxuaW1wb3J0IFdYU3ViRG9tYWluIGZyb20gXCIuLi9wbGF0Zm9ybS93eC9XWFN1YkRvbWFpblwiO1xyXG5pbXBvcnQgQmFzZVZpZXcgZnJvbSBcIi4vQmFzZVZpZXdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVGaWdodGluZyBleHRlbmRzIEJhc2VWaWV3IHtcclxuICAgIHByaXZhdGUgc3VycGFzc090aGVyO1xyXG4gICAgcHJpdmF0ZSBwcm92b2NhdGlvbk90aGVyO1xyXG4gICAgXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgc3VwZXIub25Bd2FrZSgpO1xyXG4gICAgICAgIHRoaXMuc3VycGFzc090aGVyID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcInN1cnBhc3NPdGhlclwiKTtcclxuICAgICAgICB0aGlzLnByb3ZvY2F0aW9uT3RoZXIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwicHJvdm9jYXRpb25PdGhlclwiKTtcclxuICAgICAgICB0aGlzLnByb3ZvY2F0aW9uT3RoZXIudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3VycGFzc090aGVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkQXQodGhpcy5vd25lciwxKVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgb3BlblByb3ZvY2F0aW9uT3RoZXIoX3R5cGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnByb3ZvY2F0aW9uT3RoZXIudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TY2VuZSkudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLnNldE9wZW5WaWV3KHRoaXMucHJvdm9jYXRpb25PdGhlcik7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLm9wZW5Qcm92b2NhdGlvbk90aGVyKF90eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVByb3ZvY2F0aW9uT3RoZXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMucHJvdm9jYXRpb25PdGhlci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLmNsb3NlUHJvdm9jYXRpb25PdGhlcigpO1xyXG4gICAgfVxyXG4gICBcclxuICAgIG9wZW5TdXJwYXNzT3RoZXIoX3R5cGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1cnBhc3NPdGhlci52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlNjZW5lKS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4uc2V0T3BlblZpZXcodGhpcy5zdXJwYXNzT3RoZXIpO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5vcGVuU3VycGFzc090aGVyKHtcclxuICAgICAgICAgICAgX3R5cGU6X3R5cGUsXHJcbiAgICAgICAgICAgIHZhbDotMX0pO1xyXG4gICAgfVxyXG4gICAgICAgIFxyXG4gICAgY2xvc2VTdXJwYXNzT3RoZXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc3VycGFzc090aGVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4uY2xvc2VTdXJwYXNzT3RoZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT3ZlclZpZXcgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBcclxuICAgIFxyXG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XG5pbXBvcnQgUGxhdGZvcm1NZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb2xkZW5FZ2dWaWV3IGV4dGVuZHMgQmFzZVZpZXd7XG5cdHByaXZhdGUgY2xpY2tDb3VudDpudW1iZXIgPSAwO1xuXHRwcml2YXRlIHByb2dyZXNzTnVtOm51bWJlcjtcblx0cHJpdmF0ZSBiYXI7XG5cdHByaXZhdGUgaGFtbWVyQW5pbTtcblxuXHRvbkF3YWtlKCl7XG5cdFx0dGhpcy5jbGlja0NvdW50ID0gMDtcblx0XHR0aGlzLnByb2dyZXNzTnVtID0gMDtcblx0XHRcblx0XHRMYXlhLnRpbWVyLmZyYW1lTG9vcCgyNSwgdGhpcywgKCk9Pntcblx0XHRcdGlmKHRoaXMhPW51bGwmJnRoaXMhPXVuZGVmaW5lZCl7XG5cdFx0XHRcdHRoaXMucHJvZ3Jlc3NOdW0gLT0gMC4wNjtcblx0XHRcdFx0dGhpcy51cGRhdGFQcm9ncmVzcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdFxuXHRcdGxldCBhbmNob3JTID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImFuY2hvclNcIikgYXMgTGF5YS5JbWFnZTtcblx0XHRsZXQgb2Zmc2V0WTpudW1iZXIgPSAwO1xuXHRcdGlmKFBsYXRmb3JtTWdyLnB0QVBJKVxuXHRcdFx0b2Zmc2V0WSA9IFBsYXRmb3JtTWdyLnB0QVBJLmdldE9mZnNldE9wZW5Eb21haW4oKTtcblx0XHRhbmNob3JTLnkgPSBhbmNob3JTLnkgKyBvZmZzZXRZO1xuXHRcdHRoaXMub2tCdG4gPSBhbmNob3JTLmdldENoaWxkQnlOYW1lKFwib2tCdG5cIikgYXMgTGF5YS5JbWFnZTtcblxuXHRcdHRoaXMuY2xvc2VCdG4gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiY2xvc2VCdG5cIikgYXMgTGF5YS5JbWFnZTtcblx0XHR0aGlzLmJhciA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJiYXJcIikgYXMgTGF5YS5JbWFnZTtcblx0XHR0aGlzLmhhbW1lckFuaW0gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiaW1nX2hhbW1lclwiKSBhcyBMYXlhLkltYWdlO1xuXHR9XG5cblx0cHVibGljIGFkZEV2ZW50KCkge1xuXHRcdHRoaXMub2tCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuYnRuQ2xpY2spO1xuXHRcdHRoaXMuY2xvc2VCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuY2xvc2VWaWV3KTtcblx0fVxuXG5cdG9wZW5WaWV3KF9kKXtcblx0XHRzdXBlci5vcGVuVmlldyhfZCk7XG5cdFx0aWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcblx0XHRcdFBsYXRmb3JtTWdyLnB0QWRNZ3IubG9hZEJhbm5lckFkSG9tZSgpO1xuXHR9XG5cblx0YnRuQ2xpY2soKTp2b2lke1xuXHRcdHRoaXMuY2xpY2tDb3VudCsrO1xuXHRcdGlmKHRoaXMuY2xpY2tDb3VudD4xNCl7XG5cdFx0XHQvL+W8ueWHuuahhlxuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLnByb2dyZXNzTnVtICs9IDAuMTtcblx0XHRpZih0aGlzLnByb2dyZXNzTnVtPj0xKXtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XHRcblx0XHR0aGlzLmhhbW1lckFuaW0ucGxheSgwLGZhbHNlKTtcblx0XHR0aGlzLnVwZGF0YVByb2dyZXNzKCk7XG5cdH1cblxuXHR1cGRhdGFQcm9ncmVzcygpOnZvaWR7XG5cdFx0aWYodGhpcy5wcm9ncmVzc051bT49MSl7XG5cdFx0XHR0aGlzLnByb2dyZXNzTnVtID0gMTtcblx0XHR9ZWxzZSBpZih0aGlzLnByb2dyZXNzTnVtPD0wLjA3KXtcblx0XHRcdHRoaXMucHJvZ3Jlc3NOdW0gPSAwLjA3O1xuXHRcdH1cblx0XHR0aGlzLmJhci5oZWlnaHQgPSAzNzUgKiB0aGlzLnByb2dyZXNzTnVtO1xuXHR9XG5cblx0Y2xvc2UoKTp2b2lke1xuXHRcdHN1cGVyLmNsb3NlVmlldygpO1xuXHRcdGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXG5cdFx0XHRQbGF0Zm9ybU1nci5wdEFkTWdyLnNob3dCYW5uZXJBZEhvbWUoKTtcblx0fVxuXG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XHJcbmltcG9ydCBDb25maWdEYXRhLCB7IFNPUlRUWVBFIH0gZnJvbSBcIi4uL21vZGVscy9Db25maWdEYXRhXCI7XHJcbmltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi90b29scy9NeVV0aWxzXCI7XHJcbmltcG9ydCBQbGF0Zm9ybU1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1BsYXRmb3JtTWdyXCI7XHJcbmltcG9ydCBFdmVudE1nciBmcm9tIFwiLi4vbWdyQ29tbW9uL0V2ZW50TWdyXCI7XHJcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuLi9tZ3JDb21tb24vVmlld01nclwiO1xyXG5pbXBvcnQgU291bmRNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9Tb3VuZE1nclwiO1xyXG5pbXBvcnQgR2FtZUZpZ2h0aW5nIGZyb20gXCIuL0dhbWVGaWdodGluZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblZpZXdMYW5kc2NhcGUgZXh0ZW5kcyBCYXNlVmlldyB7XHJcbiAgICBwcml2YXRlIGJ0blNvdW5kOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5WaXJib3J0OkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBzb3VuZE9wZW46IExheWEuSW1hZ2U7XHJcbiAgICBwcml2YXRlIHNvdW5kQ2xvc2U6IExheWEuSW1hZ2U7XHJcbiAgICBwcml2YXRlIHZpcmJvcnRPcGVuOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSB2aXJib3J0Q2xvc2U6IExheWEuSW1hZ2U7XHJcblxyXG4gICAgcHJpdmF0ZSBidG5JbnZpdGU6TGF5YS5CdXR0b247XHJcbiAgICBwcml2YXRlIGJ0blNlcnZpY2U6TGF5YS5CdXR0b247XHJcbiAgICBwcml2YXRlIGJ0blJhbms6TGF5YS5CdXR0b247XHJcbiAgICBwcml2YXRlIGJ0bkNvbGxlY3Q6TGF5YS5CdXR0b247XHJcblxyXG4gICAgcHJpdmF0ZSBidG5TdGFydDpMYXlhLkJ1dHRvbjtcclxuXHJcbiAgICBwcml2YXRlIGdhbWVGaWdodGluZzpMYXlhLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBnYW1lRmlnaHRpbmdDb206R2FtZUZpZ2h0aW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBcclxuICAgICAgICBzdXBlcigpOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJ0blNvdW5kID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blNvdW5kXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuc291bmRPcGVuID0gdGhpcy5idG5Tb3VuZC5nZXRDaGlsZEJ5TmFtZShcIm9wZW5cIikgYXMgTGF5YS5JbWFnZTtcclxuICAgICAgICB0aGlzLnNvdW5kQ2xvc2UgPSB0aGlzLmJ0blNvdW5kLmdldENoaWxkQnlOYW1lKFwiY2xvc2VcIikgYXMgTGF5YS5JbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5idG5WaXJib3J0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blZpcmJvcnRcIikgYXMgTGF5YS5CdXR0b247XHJcbiAgICAgICAgdGhpcy52aXJib3J0T3BlbiA9IHRoaXMuYnRuVmlyYm9ydC5nZXRDaGlsZEJ5TmFtZShcIm9wZW5cIikgYXMgTGF5YS5JbWFnZTtcclxuICAgICAgICB0aGlzLnZpcmJvcnRDbG9zZSA9IHRoaXMuYnRuVmlyYm9ydC5nZXRDaGlsZEJ5TmFtZShcImNsb3NlXCIpIGFzIExheWEuSW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmRDbG9zZS52aXNpYmxlID0gIUNvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICB0aGlzLnNvdW5kT3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG5cclxuICAgICAgICB0aGlzLnZpcmJvcnRDbG9zZS52aXNpYmxlID0gIUNvbmZpZ0RhdGEuaXNWaXJib3J0O1xyXG4gICAgICAgIHRoaXMudmlyYm9ydE9wZW4udmlzaWJsZSA9IENvbmZpZ0RhdGEuaXNWaXJib3J0O1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5idG5JbnZpdGUgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuSW52aXRlXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuYnRuU2VydmljZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5TZXJ2aWNlXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuYnRuUmFuayA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5SYW5rXCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMuYnRuQ29sbGVjdCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5Db2xsZWN0XCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYnRuU3RhcnQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuU3RhcnRcIikgYXMgTGF5YS5CdXR0b247XHJcblxyXG4gICAgICAgIE15VXRpbHMuYXV0b1NjcmVlblNpemUoW3RoaXMuYnRuU291bmQsdGhpcy5idG5WaXJib3J0XSk7XHJcblxyXG4gICAgICAgIExheWEuU2NlbmUubG9hZChcIkdhbWVGaWdodGluZy5zY2VuZVwiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoc2NlbmU6TGF5YS5TY2VuZSk9PntcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzY2VuZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZ2h0aW5nID0gc2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZ2h0aW5nQ29tID0gc2NlbmUuZ2V0Q29tcG9uZW50KEdhbWVGaWdodGluZyk7XHJcbiAgICAgICAgICAgICBzY2VuZS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBZE1nci5zaG93QmFubmVyQWRIb21lKCk7XHJcbiAgICB9ICBcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5idG5Tb3VuZC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnNvdW5kQnRuQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuVmlyYm9ydC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnZpcmJvcnRCdG5DbGljayk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idG5SYW5rLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMucmFua0NsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0blNlcnZpY2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zZXJ2aWNlQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuSW52aXRlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuaW52aXRlQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuQ29sbGVjdC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmNvbGxlY3RDbGljayk7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuU3RhcnQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zdGFydENsaWNrKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBjb2xsZWN0Q2xpY2soKSB7XHJcbiAgICAgICAgLy8gdGhpcy5nYW1lRmlnaHRpbmdDb20ub3BlblByb3ZvY2F0aW9uT3RoZXIoU09SVFRZUEUuRU5ETEVTUyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgIHZpZXdOYW1lOiBcIlJlc3VyZ2VuY2Uuc2NlbmVcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgIHZpZXdOYW1lOiBcIkNvbGxlY3Quc2NlbmVcIixcclxuICAgICAgICAgICAgY2xvc2VBbGw6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2aXJib3J0QnRuQ2xpY2soKSB7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPSAhQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICB0aGlzLnZpcmJvcnRPcGVuLnZpc2libGUgPSBDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICBDb25maWdEYXRhLnNldFZpcmJvcnQoQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPyBcIlwiIDogXCIxXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc291bmRCdG5DbGljaygpIHtcclxuICAgICAgICBDb25maWdEYXRhLmlzU291bmQgPSAhQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG4gICAgICAgIHRoaXMuc291bmRDbG9zZS52aXNpYmxlID0gIUNvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICB0aGlzLnNvdW5kT3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG4gICAgICAgIGlmKENvbmZpZ0RhdGEuaXNTb3VuZCl7XHJcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuc2V0U291bmQoXCIxXCIpO1xyXG4gICAgICAgICAgICBTb3VuZE1nci5pbnN0YW5jZS5wbGF5QkdNKClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgQ29uZmlnRGF0YS5zZXRTb3VuZChcIlwiKTtcclxuICAgICAgICAgICAgU291bmRNZ3IuaW5zdGFuY2Uuc3RvcEJHTSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGludml0ZUNsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IF9kID0ge1xyXG4gICAgICAgICAgICBjYWxsZXI6dGhpcyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6KHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGlmKCFyZXMuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdOYW1lOiBcInVpVmlld3MvVGlwVmlldy5zY2VuZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFwi5YiG5Lqr5aSx6LSlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkuc2hhcmVBcHBNZXNzYWdlKF9kLDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VydmljZUNsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkub3BlbkN1c3RvbWVyU2VydmljZUNvbnZlcnNhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmFua0NsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBWaWV3TWdyLmluc3RhbmNlLm9wZW5WaWV3KHtcclxuICAgICAgICAgICAgdmlld05hbWU6IFwiUmFuay5zY2VuZVwiLFxyXG4gICAgICAgICAgICBjbG9zZUFsbDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydENsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLmRlc3RvcnlBdXRob3JpemF0aW9uKCk7XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBZE1nci5kZXN0b3J5QWxsQmFubmVyQWQoKTtcclxuICAgICAgICB0aGlzLl9pc0NsaWNrID0gdHJ1ZTtcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoNTAwLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQ2xpY2sgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5lbWl0KFwiZ2FtZVN0YXJ0XCIpO1xyXG4gICAgICAgIFZpZXdNZ3IuaW5zdGFuY2Uub3BlblZpZXcoe1xyXG4gICAgICAgICAgICB2aWV3TmFtZTogXCJHYW1lRmlnaHRpbmcuc2NlbmVcIixcclxuICAgICAgICAgICAgY2xvc2VBbGw6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50KCkge1xyXG4gICAgICAgIHN1cGVyLnJlbW92ZUV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XHJcbmltcG9ydCBDb25maWdEYXRhIGZyb20gXCIuLi9tb2RlbHMvQ29uZmlnRGF0YVwiO1xyXG5pbXBvcnQgTXlVdGlscyBmcm9tIFwiLi4vdG9vbHMvTXlVdGlsc1wiO1xyXG5pbXBvcnQgUGxhdGZvcm1NZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9QbGF0Zm9ybU1nclwiO1xyXG5pbXBvcnQgRXZlbnRNZ3IgZnJvbSBcIi4uL21nckNvbW1vbi9FdmVudE1nclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi4vbWdyQ29tbW9uL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IFNvdW5kTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vU291bmRNZ3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5WaWV3VmVydGljYWwgZXh0ZW5kcyBCYXNlVmlldyB7XHJcbiAgICBwcml2YXRlIGJ0blNvdW5kOkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBidG5WaXJib3J0OkxheWEuQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBzb3VuZE9wZW46IExheWEuSW1hZ2U7XHJcbiAgICBwcml2YXRlIHNvdW5kQ2xvc2U6IExheWEuSW1hZ2U7XHJcbiAgICBwcml2YXRlIHZpcmJvcnRPcGVuOiBMYXlhLkltYWdlO1xyXG4gICAgcHJpdmF0ZSB2aXJib3J0Q2xvc2U6IExheWEuSW1hZ2U7XHJcblxyXG4gICAgcHJpdmF0ZSBidG5JbnZpdGU6TGF5YS5CdXR0b247XHJcbiAgICBwcml2YXRlIGJ0blNlcnZpY2U6TGF5YS5CdXR0b247XHJcbiAgICBwcml2YXRlIGJ0blJhbms6TGF5YS5CdXR0b247XHJcblxyXG4gICAgcHJpdmF0ZSBidG5TdGFydDpMYXlhLkJ1dHRvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgXHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uQXdha2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5idG5Tb3VuZCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5Tb3VuZFwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLnNvdW5kT3BlbiA9IHRoaXMuYnRuU291bmQuZ2V0Q2hpbGRCeU5hbWUoXCJvcGVuXCIpIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgdGhpcy5zb3VuZENsb3NlID0gdGhpcy5idG5Tb3VuZC5nZXRDaGlsZEJ5TmFtZShcImNsb3NlXCIpIGFzIExheWEuSW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuVmlyYm9ydCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5WaXJib3J0XCIpIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIHRoaXMudmlyYm9ydE9wZW4gPSB0aGlzLmJ0blZpcmJvcnQuZ2V0Q2hpbGRCeU5hbWUoXCJvcGVuXCIpIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UgPSB0aGlzLmJ0blZpcmJvcnQuZ2V0Q2hpbGRCeU5hbWUoXCJjbG9zZVwiKSBhcyBMYXlhLkltYWdlO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kQ2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzU291bmQ7XHJcbiAgICAgICAgdGhpcy5zb3VuZE9wZW4udmlzaWJsZSA9IENvbmZpZ0RhdGEuaXNTb3VuZDtcclxuXHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICB0aGlzLnZpcmJvcnRPcGVuLnZpc2libGUgPSBDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuYnRuSW52aXRlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0bkludml0ZVwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJ0blNlcnZpY2UgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuU2VydmljZVwiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICB0aGlzLmJ0blJhbmsgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuUmFua1wiKSBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0blN0YXJ0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImJ0blN0YXJ0XCIpIGFzIExheWEuQnV0dG9uO1xyXG5cclxuICAgICAgICBNeVV0aWxzLmF1dG9TY3JlZW5TaXplKFt0aGlzLmJ0blNvdW5kLHRoaXMuYnRuVmlyYm9ydF0pO1xyXG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QWRNZ3IpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QWRNZ3Iuc2hvd0Jhbm5lckFkSG9tZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudCgpIHtcclxuICAgICAgICB0aGlzLmJ0blNvdW5kLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuc291bmRCdG5DbGljayk7XHJcbiAgICAgICAgdGhpcy5idG5WaXJib3J0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMudmlyYm9ydEJ0bkNsaWNrKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmJ0bkludml0ZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmludml0ZUNsaWNrKTtcclxuICAgICAgICB0aGlzLmJ0blNlcnZpY2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zZXJ2aWNlQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuYnRuUmFuay5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnJhbmtDbGljayk7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuU3RhcnQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5zdGFydENsaWNrKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSB2aXJib3J0QnRuQ2xpY2soKSB7XHJcbiAgICAgICAgQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPSAhQ29uZmlnRGF0YS5pc1ZpcmJvcnQ7XHJcbiAgICAgICAgdGhpcy52aXJib3J0Q2xvc2UudmlzaWJsZSA9ICFDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICB0aGlzLnZpcmJvcnRPcGVuLnZpc2libGUgPSBDb25maWdEYXRhLmlzVmlyYm9ydDtcclxuICAgICAgICBDb25maWdEYXRhLnNldFZpcmJvcnQoQ29uZmlnRGF0YS5pc1ZpcmJvcnQgPyBcIlwiIDogXCIxXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc291bmRCdG5DbGljaygpIHtcclxuICAgICAgICBDb25maWdEYXRhLmlzU291bmQgPSAhQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG4gICAgICAgIHRoaXMuc291bmRDbG9zZS52aXNpYmxlID0gIUNvbmZpZ0RhdGEuaXNTb3VuZDtcclxuICAgICAgICB0aGlzLnNvdW5kT3Blbi52aXNpYmxlID0gQ29uZmlnRGF0YS5pc1NvdW5kO1xyXG4gICAgICAgIGlmKENvbmZpZ0RhdGEuaXNTb3VuZCl7XHJcbiAgICAgICAgICAgIENvbmZpZ0RhdGEuc2V0U291bmQoXCIxXCIpO1xyXG4gICAgICAgICAgICBTb3VuZE1nci5pbnN0YW5jZS5wbGF5QkdNKClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgQ29uZmlnRGF0YS5zZXRTb3VuZChcIlwiKTtcclxuICAgICAgICAgICAgU291bmRNZ3IuaW5zdGFuY2Uuc3RvcEJHTSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGludml0ZUNsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IF9kID0ge1xyXG4gICAgICAgICAgICBjYWxsZXI6dGhpcyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6KHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGlmKCFyZXMuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgVmlld01nci5pbnN0YW5jZS5vcGVuVmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdOYW1lOiBcInVpVmlld3MvVGlwVmlldy5zY2VuZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFwi5YiG5Lqr5aSx6LSlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkuc2hhcmVBcHBNZXNzYWdlKF9kLDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VydmljZUNsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihQbGF0Zm9ybU1nci5wdEFQSSlcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBUEkub3BlbkN1c3RvbWVyU2VydmljZUNvbnZlcnNhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmFua0NsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faXNDbGljayA9IHRydWU7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDUwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0NsaWNrID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBWaWV3TWdyLmluc3RhbmNlLm9wZW5WaWV3KHtcclxuICAgICAgICAgICAgdmlld05hbWU6IFwiUmFuay5zY2VuZVwiLFxyXG4gICAgICAgICAgICBjbG9zZUFsbDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydENsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBUEkpXHJcbiAgICAgICAgICAgIFBsYXRmb3JtTWdyLnB0QVBJLmRlc3RvcnlBdXRob3JpemF0aW9uKCk7XHJcbiAgICAgICAgaWYoUGxhdGZvcm1NZ3IucHRBZE1ncilcclxuICAgICAgICAgICAgUGxhdGZvcm1NZ3IucHRBZE1nci5kZXN0b3J5QWxsQmFubmVyQWQoKTtcclxuICAgICAgICB0aGlzLl9pc0NsaWNrID0gdHJ1ZTtcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoNTAwLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQ2xpY2sgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFdmVudE1nci5pbnN0YW5jZS5lbWl0KFwiZ2FtZVN0YXJ0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudCgpIHtcclxuICAgICAgICBzdXBlci5yZW1vdmVFdmVudCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcclxuaW1wb3J0IHsgU09SVFRZUEUgfSBmcm9tIFwiLi4vbW9kZWxzL0NvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuL0Jhc2VWaWV3XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1cmdlbmNlIGV4dGVuZHMgQmFzZVZpZXcge1xyXG4gICAgcHJpdmF0ZSBnb2luZ1N1cnBhc3NPdGhlcjtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBcclxuICAgIG9uQXdha2UoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIub25Bd2FrZSgpO1xyXG4gICAgICAgIHRoaXMuZ29pbmdTdXJwYXNzT3RoZXIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiZ29pbmdTdXJwYXNzT3RoZXJcIik7XHJcbiAgICAgICAgdGhpcy5nb2luZ1N1cnBhc3NPdGhlci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBvcGVuVmlldyhkYXRhPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIub3BlblZpZXcoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5vcGVuR29pbmdTdXJwYXNzT3RoZXIoU09SVFRZUEUuRU5ETEVTUyk7XHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICBvcGVuR29pbmdTdXJwYXNzT3RoZXIoX3R5cGUpOiB2b2lkIHtcclxuICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlNjZW5lKS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmdvaW5nU3VycGFzc090aGVyLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIFBsYXRmb3JtTWdyLnN1YkRvbWFpbi5zZXRPcGVuVmlldyh0aGlzLmdvaW5nU3VycGFzc090aGVyKTtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4ub3BlbkdvaW5nU3VycGFzc090aGVyKF90eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUdvaW5nU3VycGFzc090aGVyKCk6dm9pZHtcclxuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4uY2xvc2VHb2luZ1N1cnBhc3NPdGhlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQmFzZVZpZXcgZnJvbSBcIi4vQmFzZVZpZXdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlwVmlldyBleHRlbmRzICBCYXNlVmlldyB7XG4gICAgcHJpdmF0ZSB0aXBMYmw6TGF5YS5MYWJlbDtcbiAgICBcbiAgICBvbkF3YWtlKCk6IHZvaWQge1xuICAgICAgICBzdXBlci5vbkF3YWtlKCk7XG4gICAgICAgIHRoaXMudGlwTGJsID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImltYWdlXCIpLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIikgYXMgTGF5YS5MYWJlbDtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGFkZEV2ZW50KCkge1xuICAgICAgICB0aGlzLm93bmVyLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xuICAgICAgICAgICAgdGhpcy5jbG9zZVZpZXcoKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvcGVuVmlldyhzdHI/OiBhbnkpe1xuICAgICAgICBzdXBlci5vcGVuVmlldyhzdHIpO1xuICAgICAgICB0aGlzLnRpcExibC50ZXh0ID0gc3RyO1xuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMjAwMCx0aGlzLCgpPT57XG4gICAgICAgICAgICB0aGlzLmNsb3NlVmlldygpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IE15VXRpbHMgZnJvbSBcIi4uLy4uL3Rvb2xzL015VXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFua0l0ZW0gZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgcHJpdmF0ZSBiZ0ltZzogTGF5YS5JbWFnZTtcbiAgICBwcml2YXRlIHJhbmtJbWc6IExheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSByYW5rTGFiOiBMYXlhLkxhYmVsO1xuXG4gICAgcHJpdmF0ZSBhdmF0YXJJbWc6IExheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSBuYW1lTGFiOiBMYXlhLkxhYmVsO1xuXG4gICAgcHJpdmF0ZSBzY29yZUxhYjogTGF5YS5MYWJlbDtcblxuICAgIGNvbnN0cnVjdG9yKCkgeyBcbiAgICAgICAgc3VwZXIoKTsgXG4gICAgfVxuICAgIFxuICAgIG9uQXdha2UoKXtcbiAgICAgICAgdGhpcy5iZ0ltZyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJpbWdCZ1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLnJhbmtJbWcgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwicmFua0ltZ1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLnJhbmtMYWIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwicmFua0xhYlwiKSBhcyBMYXlhLkxhYmVsO1xuICAgIFxuICAgICAgICB0aGlzLmF2YXRhckltZyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJhdmF0YXJJbWdcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy5uYW1lTGFiID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcIm5hbWVMYWJcIikgYXMgTGF5YS5MYWJlbDtcbiAgICBcbiAgICAgICAgdGhpcy5zY29yZUxhYiA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJzY29yZUxhYlwiKSBhcyBMYXlhLkxhYmVsO1xuXG4gICAgfVxuXG4gICAgdXBkYXRlSXRlbShpdGVtRGF0YSl7XG4gICAgICAgIHRoaXMub3duZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yYW5rSW1nLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYW5rTGFiLnRleHQgPSBpdGVtRGF0YS5pbmRleHx8IFwiXGLmnKrkuIrmppxcIjtcbiAgICAgICAgc3dpdGNoKGl0ZW1EYXRhLmluZGV4KXtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmtMYWIudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5rSW1nLnNraW4gPSBcInJhbmsvXCIrIGl0ZW1EYXRhLmluZGV4ICtcIi5wbmdcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmtJbWcudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTXlVdGlscy5pc051bGwoaXRlbURhdGEuaGVhZEltYWdlKSYmaXRlbURhdGEuaGVhZEltYWdlIT1cInlvdWtlXCIpIHtcbiAgICAgICAgICAgIGxldCBhdmF0YXJVcmwgPSBpdGVtRGF0YS5oZWFkSW1hZ2UucmVwbGFjZShcIi8xMzJcIiwgXCIvNDZcIik7XG4gICAgICAgICAgICB0aGlzLmF2YXRhckltZy5za2luID0gYXZhdGFyVXJsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZUxhYi50ZXh0ID0gaXRlbURhdGEubmlja25hbWUgPyBpdGVtRGF0YS5uaWNrbmFtZSA6IFwi56We56eY546p5a62XCI7XG5cbiAgICAgICAgdGhpcy5zY29yZUxhYi50ZXh0ID0gaXRlbURhdGEuc2NvcmU7XG4gICAgfVxuXG4gICAgY2xlYW4oKXtcbiAgICAgICAgdGhpcy5vd25lci5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG59IiwiaW1wb3J0IEJhc2VWaWV3IGZyb20gXCIuLi9CYXNlVmlld1wiO1xuaW1wb3J0IFBsYXRmb3JtTWdyIGZyb20gXCIuLi8uLi9tZ3JDb21tb24vUGxhdGZvcm1NZ3JcIjtcbmltcG9ydCBNeVV0aWxzIGZyb20gXCIuLi8uLi90b29scy9NeVV0aWxzXCI7XG5pbXBvcnQgV1hTdWJEb21haW4gZnJvbSBcIi4uLy4uL3BsYXRmb3JtL3d4L1dYU3ViRG9tYWluXCI7XG5pbXBvcnQgSHR0cE1nciBmcm9tIFwiLi4vLi4vbWdyQ29tbW9uL0h0dHBNZ3JcIjtcbmltcG9ydCBSYW5rSXRlbSBmcm9tIFwiLi9SYW5rSXRlbVwiO1xuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi8uLi9tb2RlbHMvVXNlckRhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFua1ZpZXcgZXh0ZW5kcyBCYXNlVmlldyB7XG4gICAgcHJpdmF0ZSBmcmllbmRCdG46TGF5YS5JbWFnZTtcbiAgICBwcml2YXRlIHdvcmxkQnRuOkxheWEuSW1hZ2U7XG5cbiAgICBwcml2YXRlIHNlbGVjdEZyaWVuZFJhbms6IExheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSBub3JtYWxGcmllbmRSYW5rOiBMYXlhLkltYWdlO1xuXG4gICAgcHJpdmF0ZSBzZWxlY3RXb3JsZFJhbms6IExheWEuSW1hZ2U7XG4gICAgcHJpdmF0ZSBub3JtYWxXb3JsZFJhbms6IExheWEuSW1hZ2U7XG5cbiAgICBcbiAgICBwcml2YXRlIHdvcmxkUmFuazpMYXlhLkltYWdlO1xuICAgIHByaXZhdGUgd29ybGREYXRhOkFycmF5PGFueT47XG4gICAgcHJpdmF0ZSB3eE9wZW5EYXRhVmlldzogTGF5YS5XWE9wZW5EYXRhVmlld2VyO1xuICAgIFxuICAgIHByaXZhdGUgd29ybGRSYW5rTGlzdDogTGF5YS5MaXN0O1xuXG4gICAgcHJpdmF0ZSBzZWxmUmFua1Nwcml0ZTtcbiAgICBwcml2YXRlIHNlbGZSYW5rSVRlbTpSYW5rSXRlbTtcbiAgICBwcml2YXRlIHNlbGZSYW5rRGF0YTtcbiAgICBcbiAgICBvbkF3YWtlKCk6IHZvaWQge1xuICAgICAgICBzdXBlci5vbkF3YWtlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VCdG4gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiYnRuQ2xvc2VcIikgYXMgTGF5YS5JbWFnZTtcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ3eE9wZW5EYXRhVmlld1wiKSBhcyBMYXlhLldYT3BlbkRhdGFWaWV3ZXI7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImNvbnRlbnRcIilcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZnJpZW5kQnRuID0gbm9kZS5nZXRDaGlsZEJ5TmFtZShcImZyaWVuZEJ0blwiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLndvcmxkQnRuID0gbm9kZS5nZXRDaGlsZEJ5TmFtZShcIndvcmxkQnRuXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMuc2VsZWN0RnJpZW5kUmFuayA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzZWxlY3RGcmllbmRSYW5rXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMubm9ybWFsRnJpZW5kUmFuayA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJub3JtYWxGcmllbmRSYW5rXCIpIGFzIExheWEuSW1hZ2U7XG4gICAgICAgIHRoaXMuc2VsZWN0V29ybGRSYW5rID0gbm9kZS5nZXRDaGlsZEJ5TmFtZShcInNlbGVjdFdvcmxkUmFua1wiKSBhcyBMYXlhLkltYWdlO1xuICAgICAgICB0aGlzLm5vcm1hbFdvcmxkUmFuayA9IG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJub3JtYWxXb3JsZFJhbmtcIikgYXMgTGF5YS5JbWFnZTtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0ge3k6MH07XG4gICAgICAgIGlmKFBsYXRmb3JtTWdyLnB0QVBJKVxuICAgICAgICAgICAgb2Zmc2V0ID0gUGxhdGZvcm1NZ3IucHRBUEkuZ2V0T2Zmc2V0T3BlbkRvbWFpbigpXG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcueSA9IHRoaXMud3hPcGVuRGF0YVZpZXcueSAgKyBvZmZzZXQueS8yO1xuICAgICAgICBcbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLnNldE9wZW5WaWV3KHRoaXMud3hPcGVuRGF0YVZpZXcpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0ID0gbm9kZS5nZXRDaGlsZEJ5TmFtZShcIndvcmxkUmFua0xpc3RcIikgYXMgTGF5YS5MaXN0O1xuICAgICAgICB0aGlzLndvcmxkUmFua0xpc3QuYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0LnJlbmRlckhhbmRsZXIgPSBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIHRoaXMub25SZW5kZXIpO1xuICAgICAgICB0aGlzLndvcmxkUmFua0xpc3QudlNjcm9sbEJhclNraW4gPSBcIlwiO1xuXG4gICAgICAgIHRoaXMuc2VsZlJhbmtTcHJpdGUgPSBub2RlLmdldENoaWxkQnlOYW1lKFwic2VsZlJhbmtJdGVtXCIpXG4gICAgICAgIHRoaXMuc2VsZlJhbmtJVGVtID0gdGhpcy5zZWxmUmFua1Nwcml0ZS5nZXRDb21wb25lbnQoUmFua0l0ZW0pXG5cbiAgICAgICAgTXlVdGlscy5hdXRvU2NyZWVuU2l6ZShbdGhpcy5jbG9zZUJ0bl0pO1xuICAgIH1cblxuICAgIHNldE15UmFua0luZm8oKXtcbiAgICAgICAgdGhpcy5zZWxmUmFua0lUZW0udXBkYXRlSXRlbSh0aGlzLnNlbGZSYW5rRGF0YSk7XG4gICAgfVxuXG4gICAgb25SZW5kZXIoY2VsbDogTGF5YS5Cb3gsIGluZGV4OiBudW1iZXIpOiBhbnkge1xuICAgICAgICBsZXQgaXRlbTpSYW5rSXRlbSA9IGNlbGwuZ2V0Q29tcG9uZW50KFJhbmtJdGVtKTtcbiAgICAgICAgaXRlbS51cGRhdGVJdGVtKGNlbGwuZGF0YVNvdXJjZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEV2ZW50KCkge1xuICAgICAgICB0aGlzLmNsb3NlQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuY2xvc2VWaWV3KTtcbiAgICAgICAgdGhpcy53b3JsZEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLndvcmxkUmFua0NsaWNrKTtcbiAgICAgICAgdGhpcy5mcmllbmRCdG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5mcmllbmRSYW5rQ2xpY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V29ybGREYXRhKCl7XG4gICAgICAgIEh0dHBNZ3IuaW5zdGFuY2UuZ2V0V29ybGRSYW5rKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6KHJlcyk9PntcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkRGF0YSA9IHJlcy5yYW5rO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZlJhbmtEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA6IHJlcy5teUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBuaWNrbmFtZTpVc2VyRGF0YS5uaWNrTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZEltYWdlOlVzZXJEYXRhLmF2YXRhclVybCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6VXNlckRhdGEuc2NvcmUgfHwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihyZXMubXlJbmRleCAmJiByZXMubXlJbmRleCA8PSB0aGlzLndvcmxkRGF0YS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGZSYW5rRGF0YSA9IHRoaXMud29ybGREYXRhW3Jlcy5teUluZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRXb3JsZFJhbmtEdGEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFdvcmxkUmFua0R0YSgpe1xuICAgICAgICB0aGlzLnNldE15UmFua0luZm8oKTtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0LmFycmF5ID0gdGhpcy53b3JsZERhdGE7XG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdC5yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgd29ybGRSYW5rQ2xpY2soKTogYW55IHtcbiAgICAgICAgLy8gaWYgKHRoaXMud29ybGRSYW5rTGlzdC5hY3RpdmUpXG4gICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgIHRoaXMud3hPcGVuRGF0YVZpZXcudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0RnJpZW5kUmFuay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm9ybWFsRnJpZW5kUmFuay52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RXb3JsZFJhbmsudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubm9ybWFsV29ybGRSYW5rLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53b3JsZFJhbmtMaXN0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGZSYW5rU3ByaXRlLnZpc2libGUgPSB0cnVlXG5cbiAgICAgICAgUGxhdGZvcm1NZ3Iuc3ViRG9tYWluLmNsb3NlRnJpZW5kUmFuaygpO1xuICAgICAgICBpZih0aGlzLndvcmxkRGF0YSl7XG4gICAgICAgICAgICB0aGlzLnNldFdvcmxkUmFua0R0YSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuZ2V0V29ybGREYXRhKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmcmllbmRSYW5rQ2xpY2soKTogYW55IHtcbiAgICAgICAgLy8gaWYgKCFMYXlhLkJyb3dzZXIub25NaW5pR2FtZSB8fCB0aGlzLnd4T3BlbkRhdGFWaWV3LmFjdGl2ZSlcbiAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgdGhpcy53eE9wZW5EYXRhVmlldy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNlbGVjdEZyaWVuZFJhbmsudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubm9ybWFsRnJpZW5kUmFuay52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0V29ybGRSYW5rLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ub3JtYWxXb3JsZFJhbmsudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMud29ybGRSYW5rTGlzdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZlJhbmtTcHJpdGUudmlzaWJsZSA9IGZhbHNlXG5cbiAgICAgICAgLy/miZPlvIDlrZDln5/mjpLooYzmppwgVE9ET1xuICAgICAgICBQbGF0Zm9ybU1nci5zdWJEb21haW4ub3BlbkZyaWVuZFJhbmsoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VCdG4ub2ZmKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuY2xvc2VWaWV3KTtcbiAgICAgICAgdGhpcy53b3JsZEJ0bi5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy53b3JsZFJhbmtDbGljayk7XG4gICAgICAgIHRoaXMuZnJpZW5kQnRuLm9mZihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmZyaWVuZFJhbmtDbGljayk7XG4gICAgICAgIHN1cGVyLnJlbW92ZUV2ZW50KCk7XG4gICAgfVxuICAgIHB1YmxpYyBvcGVuVmlldygpe1xuICAgICAgICBzdXBlci5vcGVuVmlldygpO1xuICAgICAgICB0aGlzLndvcmxkUmFua0NsaWNrKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlVmlldygpe1xuICAgICAgICB0aGlzLndvcmxkRGF0YSA9IG51bGw7XG4gICAgICAgIHN1cGVyLmNsb3NlVmlldygpO1xuICAgIH1cbn0iXX0=
