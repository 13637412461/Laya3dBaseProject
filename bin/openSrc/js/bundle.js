var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
Object.defineProperty(exports, "__esModule", { value: true });
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
    };
    GameConfig.width = 560;
    GameConfig.height = 668;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "FriendRank.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var FriendRankView_1 = require("./script/FriendRankView");
var CommonData_1 = require("./script/CommonData");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        Laya.isWXOpenDataContext = true;
        Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, false);
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        Laya.alertGlobalError = true;
        this.onConfigLoaded();
    }
    Main.prototype.onConfigLoaded = function () {
        if (!Laya.Browser.onMiniGame)
            return;
        window["wx"].getUserInfo({
            openIdList: ['selfOpenId'],
            lang: 'zh_CN',
            success: function (res) {
                var data = res.data;
                if (data[0].openId == "selfOpenId") {
                    CommonData_1.default.avatarUrl = data[0].avatarUrl;
                    CommonData_1.default.nickName = data[0].nickName;
                }
            }
        });
        // CommonData.GetFriends(null, null);
        var self = this;
        Laya.Browser.window.wx.onMessage(function (message) {
            if (message.url == "res/atlas/rank.atlas") {
                Laya.loader.load("res/atlas/rank.atlas", Laya.Handler.create(this, function () {
                    console.log("res/atlas/rank.atlas加载完成");
                }));
            }
            else if (message.url == "res/json/config.json") {
                Laya.loader.load("res/json/config.json", Laya.Handler.create(this, function () {
                    console.log("res/json/config.json加载完成");
                    CommonData_1.default.config = Laya.loader.getRes("res/json/config.json");
                }));
            }
            else if (message.url == "common/common.atlas") {
                Laya.loader.load("common/common.atlas", Laya.Handler.create(this, function () {
                    console.log("common/common.atlas加载完成");
                }));
            }
            switch (message['type']) {
                case "openFriendList": //主界面排行榜-好友排行
                    self.closeOtherView();
                    self.friendRank = new FriendRankView_1.FriendRankView();
                    Laya.stage.addChild(self.friendRank);
                    CommonData_1.default.GetFriends(self, function () {
                        self.friendRank.drawRankList(CommonData_1.default.friends);
                    });
                    break;
                case "closeRankUI": //主界面排行榜UI关闭
                    if (self.friendRank) {
                        self.friendRank.close();
                        self.friendRank = null;
                        Laya.loader.clearUnLoaded();
                    }
                    break;
                case "upScore": //更新子域分数显示
                    CommonData_1.default.UpdateSelfScore(message.data);
                    break;
            }
        }.bind(this));
    };
    Main.prototype.closeOtherView = function () {
        if (this.friendRank) {
            this.friendRank.close();
            this.friendRank = null;
        }
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./script/CommonData":3,"./script/FriendRankView":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CommonData = /** @class */ (function () {
    function CommonData() {
    }
    //好友数据
    CommonData.GetFriends = function (caller, callback) {
        var _this = this;
        if (this.NeedRefresh(CommonData.preFriendsTime)) {
            window["wx"].getFriendCloudStorage({
                keyList: ["level", "skin"],
                success: function (res) {
                    CommonData.preFriendsTime = Laya.Browser.now();
                    CommonData.friends = [];
                    res.data.forEach(function (v) {
                        if (v.KVDataList.length > 0) {
                            var _score = 0;
                            var _skinId = 101;
                            for (var i = 0; i < v.KVDataList.length; i++) {
                                if (v.KVDataList[i].key == "level") {
                                    _score = parseInt(v.KVDataList[i].value);
                                }
                                else if (v.KVDataList[i].key == "skin") {
                                    _skinId = v.KVDataList[i].value;
                                }
                            }
                            CommonData.friends.push({
                                nickname: v.nickname,
                                avatarUrl: v.avatarUrl,
                                score: _score,
                                viewId: _skinId
                            });
                            // if(!CommonData.avatarCache[v.avatarUrl] && _score > 1){
                            //     let txt = new Laya.Texture();
                            //     txt.load(v.avatarUrl.replace("/132","/46"));
                            //     CommonData.avatarCache[v.avatarUrl] = txt;
                            // }
                        }
                    });
                    _this.SortScore(CommonData.friends);
                    if (callback)
                        callback.call(caller, CommonData.friends);
                }
            });
        }
        else {
            if (callback)
                callback.call(caller, CommonData.friends);
        }
    };
    CommonData.NeedRefresh = function (pre) {
        return Laya.Browser.now() - pre > CommonData.refreshTime;
    };
    CommonData.UpdateSelfScore = function (score) {
        for (var i = 0; i < CommonData.friends.length; i++) {
            if (CommonData.friends[i].avatarUrl == CommonData.avatarUrl) {
                CommonData.friends[i].score = score;
                break;
            }
        }
        this.SortScore(CommonData.friends);
    };
    CommonData.SortScore = function (data) {
        data = data.sort(function (a, b) {
            if (a.score > b.score)
                return -1;
            if (a.score < b.score)
                return 1;
            return 1;
        });
    };
    //一小时刷新一次好友数据
    CommonData.refreshTime = 1 * 60 * 60 * 1000;
    /**我自己的头像url */
    CommonData.avatarUrl = "";
    CommonData.nickName = "";
    CommonData.avatarUrlGroup = "";
    CommonData.nickNameGroup = "";
    //好友数据
    CommonData.preFriendsTime = 0;
    CommonData.friends = [];
    //缓存头像
    CommonData.avatarCache = {};
    CommonData.config = {};
    return CommonData;
}());
exports.default = CommonData;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var CommonData_1 = require("./CommonData");
var FriendRankView = /** @class */ (function (_super) {
    __extends(FriendRankView, _super);
    function FriendRankView() {
        var _this = _super.call(this) || this;
        _this.init();
        return _this;
    }
    FriendRankView.prototype.init = function () {
        this.rankList.array = [];
        this.rankList.renderHandler = new Laya.Handler(this, this.onRender);
        this.rankList.vScrollBarSkin = "";
        this.noRank.visible = false;
        this.selfRank.visible = false;
    };
    FriendRankView.prototype.drawRankList = function (data) {
        this.rankList.scrollTo(0);
        var findMe = false;
        // this.selfHead.skin = (CommonData.avatarUrl == "" || CommonData.avatarUrl == null) ? "rank/toux@2x.png" : CommonData.avatarUrl;
        if (CommonData_1.default.avatarUrl == "" || CommonData_1.default.avatarUrl == null) {
            this.selfHead.skin = "rank/toux@2x.png";
        }
        else {
            var avatarUrl = CommonData_1.default.avatarUrl.replace("/132", "/46");
            this.selfHead.skin = avatarUrl;
        }
        this.selfName.text = CommonData_1.default.nickName;
        data.forEach(function (v) {
            if (v.avatarUrl == CommonData_1.default.avatarUrl) {
                findMe = true;
            }
        });
        this.rankList.repeatY = data.length;
        this.rankList.array = data;
        this.rankList.refresh();
        var index = -1;
        var skins = CommonData_1.default.config["skin"];
        if (findMe) {
            for (var i = 0; i < data.length; i++) {
                if (data[i].avatarUrl == CommonData_1.default.avatarUrl) {
                    this.selfRank.visible = true;
                    index = i;
                    this.selfScore.text = data[i].score + "关";
                    this.SetRankStyle(this.selfRankLbl, this.selfRankIcon, i + 1);
                    if (data[i].viewId) {
                        // this.selfSkin.skin = "skin/"+data[i].viewId+".png";
                        var ski = skins[data[i].viewId];
                        var skinPath = "common/wa" + ski.model + "-" + ski.skin + "@2x.png";
                        this.selfSkin.skin = skinPath;
                    }
                    else {
                        // this.selfSkin.skin = "skin/3001.png";
                    }
                    break;
                }
            }
        }
        this.selfRankLbl.visible = true;
        if (index == -1) {
            this.selfScore.text = "1关";
            this.SetRankStyle(this.selfRankLbl, this.selfRankIcon, -1, true);
            this.selfSkin.skin = "common/wa1-frog_01@2x.png";
        }
    };
    FriendRankView.prototype.onRender = function (cell, index) {
        var data = this.rankList.array[index];
        var cellBg = cell.getChildByName("bg");
        cellBg.getChildByName("img_hand").skin = "rank/toux@2x.png";
        if (data.avatarUrl && data.avatarUrl.length > 4) {
            var avatarUrl = data.avatarUrl.replace("/132", "/46");
            cellBg.getChildByName("img_hand").skin = avatarUrl;
        }
        cellBg.getChildByName("lbl_nickName").text = data.nickname;
        cellBg.getChildByName("lbl_pass").text = data.score + "关";
        var skins = CommonData_1.default.config["skin"];
        if (data.viewId) {
            var ski = skins[data.viewId];
            var skinPath = "common/wa" + ski.model + "-" + ski.skin + "@2x.png";
            cellBg.getChildByName("img_ski").skin = skinPath;
        }
        else {
            cellBg.getChildByName("img_ski").skin = "common/wa1-frog_01@2x.png";
        }
        var label = cellBg.getChildByName("lbl_rankIndex");
        var image = cellBg.getChildByName("img_rank");
        this.SetRankStyle(label, image, index + 1);
    };
    FriendRankView.prototype.SetRankStyle = function (label, image, rank, isSelf) {
        if (rank == 1) {
            label.text = "";
            image.skin = "rank/1@2x.png";
        }
        else if (rank == 2) {
            label.text = "";
            image.skin = "rank/2@2x.png";
        }
        else if (rank == 3) {
            label.text = "";
            image.skin = "rank/3@2x.png";
        }
        else {
            image.skin = null;
            // if (rank == -1&&isSelf){
            //     this.noRank.visible = true;
            //     this.noRank.text = "100+";
            //     label.visible = false;
            // }
            // else
            label.text = rank.toString();
        }
    };
    FriendRankView.prototype.close = function () {
        this.destroy();
    };
    return FriendRankView;
}(layaMaxUI_1.ui.FriendRankUI));
exports.FriendRankView = FriendRankView;
},{"../ui/layaMaxUI":5,"./CommonData":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var FriendRankUI = /** @class */ (function (_super) {
        __extends(FriendRankUI, _super);
        function FriendRankUI() {
            return _super.call(this) || this;
        }
        FriendRankUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.createView(FriendRankUI.uiView);
        };
        FriendRankUI.uiView = { "type": "View", "props": { "width": 560, "height": 668 }, "compId": 2, "child": [{ "type": "Image", "props": { "width": 561, "var": "anchorS", "height": 791 }, "compId": 3, "child": [{ "type": "List", "props": { "y": 0, "x": 0, "width": 560, "var": "rankList", "spaceY": 18, "repeatX": 1, "height": 688, "elasticEnabled": false }, "compId": 4, "child": [{ "type": "Box", "props": { "y": 0, "x": 0, "renderType": "render" }, "compId": 21, "child": [{ "type": "Image", "props": { "y": 0, "x": 0, "width": 560, "skin": "rank/kuan-phb-1@2x.png", "sizeGrid": "12,13,12,12", "name": "bg", "height": 82 }, "compId": 5, "child": [{ "type": "Image", "props": { "y": 4.5, "x": 9, "width": 61, "skin": "rank/1@2x.png", "name": "img_rank", "height": 73 }, "compId": 6 }, { "type": "Image", "props": { "y": 7, "x": 80, "width": 68, "name": "img_hand", "height": 68 }, "compId": 7 }, { "type": "Image", "props": { "y": 16, "x": 382, "width": 46, "name": "img_ski", "height": 48 }, "compId": 8 }, { "type": "Label", "props": { "y": 34, "x": 164, "width": 110, "overflow": "hidden", "name": "lbl_nickName", "height": 24, "fontSize": 24, "color": "#004c4f" }, "compId": 9 }, { "type": "Label", "props": { "y": 41, "x": 42, "width": 76, "valign": "middle", "text": "1", "strokeColor": "#2c11f1", "stroke": 2, "overflow": "visible", "name": "lbl_rankIndex", "height": 40, "fontSize": 32, "color": "#ffffff", "anchorY": 0.5, "anchorX": 0.5, "align": "center" }, "compId": 10 }, { "type": "Label", "props": { "y": 41, "x": 429, "width": 109, "valign": "middle", "text": "1", "overflow": "visible", "name": "lbl_pass", "height": 40, "fontSize": 36, "color": "#004c4f", "anchorY": 0.5, "anchorX": 0, "align": "right" }, "compId": 11 }] }] }] }, { "type": "Image", "props": { "y": 700, "x": 0, "width": 560, "visible": false, "var": "selfRank", "skin": "rank/kuan-phb-2@2x.png", "sizeGrid": "12,13,12,12", "height": 82 }, "compId": 13, "child": [{ "type": "Image", "props": { "y": 4.5, "x": 9, "width": 61, "var": "selfRankIcon", "skin": "rank/1@2x.png", "height": 73 }, "compId": 14 }, { "type": "Image", "props": { "y": 7, "x": 80, "width": 68, "var": "selfHead", "name": "img_hand", "height": 68 }, "compId": 15 }, { "type": "Image", "props": { "y": 16, "x": 383, "width": 46, "var": "selfSkin", "height": 48 }, "compId": 16 }, { "type": "Label", "props": { "y": 34, "x": 164, "width": 110, "var": "selfName", "overflow": "hidden", "name": "lbl_nickName", "height": 24, "fontSize": 24, "color": "#004c4f" }, "compId": 17 }, { "type": "Label", "props": { "y": 44, "x": 40, "width": 80, "var": "selfRankLbl", "valign": "middle", "text": "1", "strokeColor": "#2c11f1", "stroke": 2, "overflow": "visible", "name": "lbl_rankIndex", "height": 40, "fontSize": 22, "color": "#ffffff", "anchorY": 0.5, "anchorX": 0.5, "align": "center" }, "compId": 18 }, { "type": "Label", "props": { "y": 41, "x": 429, "width": 109, "var": "selfScore", "valign": "middle", "text": "1", "overflow": "visible", "name": "lbl_pass", "height": 40, "fontSize": 36, "color": "#004c4f", "anchorY": 0.5, "anchorX": 0, "align": "right" }, "compId": 19 }, { "type": "Label", "props": { "y": 46, "x": 42, "width": 76, "visible": false, "var": "noRank", "valign": "middle", "text": "100+", "strokeColor": "#2c11f1", "stroke": 2, "overflow": "visible", "name": "noRank", "height": 40, "fontSize": 30, "color": "#ffffff", "bold": false, "anchorY": 0.5, "anchorX": 0.5, "align": "center" }, "compId": 20 }] }] }], "loadList": ["rank/kuan-phb-1@2x.png", "rank/1@2x.png", "rank/kuan-phb-2@2x.png"], "loadList3D": [] };
        return FriendRankUI;
    }(Laya.View));
    ui.FriendRankUI = FriendRankUI;
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL0xheWFBaXJJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9zY3JpcHQvQ29tbW9uRGF0YS50cyIsInNyYy9zY3JpcHQvRnJpZW5kUmFua1ZpZXcudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkEsZ0dBQWdHOztBQUVoRzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7SUFFakQsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLEdBQUcsQ0FBQztJQUNsQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLFVBQVUsQ0FBQztJQUM3QixpQkFBTSxHQUFRLFFBQVEsQ0FBQztJQUN2QixpQkFBTSxHQUFRLFFBQVEsQ0FBQztJQUN2QixxQkFBVSxHQUFLLGtCQUFrQixDQUFDO0lBQ2xDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDJDQUFzQztBQUN0QywwREFBeUQ7QUFDekQsa0RBQTZDO0FBRTdDO0lBR0M7UUFDQyxnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDLG1CQUFtQixH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RUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyx3QkFBd0IsRUFBQyxVQUFVLEVBQUMsYUFBYSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsY0FBYyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLGVBQWUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyx3QkFBd0IsRUFBQyxVQUFVLEVBQUMsYUFBYSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsY0FBYyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxjQUFjLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxhQUFhLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxlQUFlLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxhQUFhLEVBQUMsU0FBUyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsVUFBVSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsU0FBUyxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLHdCQUF3QixFQUFDLGVBQWUsRUFBQyx3QkFBd0IsQ0FBQyxFQUFDLFlBQVksRUFBQyxFQUFFLEVBQUMsQ0FBQztRQU1waEcsbUJBQUM7S0FqQkQsQUFpQkMsQ0FqQmlDLElBQUksQ0FBQyxJQUFJLEdBaUIxQztJQWpCWSxlQUFZLGVBaUJ4QixDQUFBO0FBQ0wsQ0FBQyxFQW5CYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFtQmYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcblxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NTYwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjY4O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJ2ZXJ0aWNhbFwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJtaWRkbGVcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwiY2VudGVyXCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJGcmllbmRSYW5rLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuXHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBGcmllbmRSYW5rVmlldyB9IGZyb20gXCIuL3NjcmlwdC9GcmllbmRSYW5rVmlld1wiO1xyXG5pbXBvcnQgQ29tbW9uRGF0YSBmcm9tIFwiLi9zY3JpcHQvQ29tbW9uRGF0YVwiO1xyXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuL3VpL2xheWFNYXhVSVwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRwcml2YXRlIGZyaWVuZFJhbms6RnJpZW5kUmFua1ZpZXc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRMYXlhLmlzV1hPcGVuRGF0YUNvbnRleHQgPSB0cnVlO1xyXG5cdFx0TGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LGZhbHNlKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cdFx0dGhpcy5vbkNvbmZpZ0xvYWRlZCgpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKSB7XHJcblx0XHRpZiAoIUxheWEuQnJvd3Nlci5vbk1pbmlHYW1lKSByZXR1cm47XHJcblx0XHR3aW5kb3dbXCJ3eFwiXS5nZXRVc2VySW5mbyh7XHJcblx0XHRcdG9wZW5JZExpc3Q6IFsnc2VsZk9wZW5JZCddLFxyXG5cdFx0XHRsYW5nOiAnemhfQ04nLFxyXG5cdFx0XHRzdWNjZXNzOiAocmVzOiBhbnkpID0+IHtcclxuXHRcdFx0XHRsZXQgZGF0YSA9IHJlcy5kYXRhO1xyXG5cdFx0XHRcdGlmIChkYXRhWzBdLm9wZW5JZCA9PSBcInNlbGZPcGVuSWRcIikge1xyXG5cdFx0XHRcdFx0Q29tbW9uRGF0YS5hdmF0YXJVcmwgPSBkYXRhWzBdLmF2YXRhclVybDtcclxuXHRcdFx0XHRcdENvbW1vbkRhdGEubmlja05hbWUgPSBkYXRhWzBdLm5pY2tOYW1lO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHQvLyBDb21tb25EYXRhLkdldEZyaWVuZHMobnVsbCwgbnVsbCk7XHJcblx0XHRsZXQgc2VsZiA9IHRoaXM7XHJcblx0XHRMYXlhLkJyb3dzZXIud2luZG93Lnd4Lm9uTWVzc2FnZShmdW5jdGlvbiAobWVzc2FnZSkge1xyXG5cdFx0XHRpZihtZXNzYWdlLnVybCA9PSBcInJlcy9hdGxhcy9yYW5rLmF0bGFzXCIpe1xyXG5cdFx0XHRcdExheWEubG9hZGVyLmxvYWQoXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyxmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJyZXMvYXRsYXMvcmFuay5hdGxhc+WKoOi9veWujOaIkFwiKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihtZXNzYWdlLnVybCA9PSBcInJlcy9qc29uL2NvbmZpZy5qc29uXCIpe1xyXG5cdFx0XHRcdExheWEubG9hZGVyLmxvYWQoXCJyZXMvanNvbi9jb25maWcuanNvblwiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyxmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJyZXMvanNvbi9jb25maWcuanNvbuWKoOi9veWujOaIkFwiKTtcclxuXHRcdFx0XHRcdENvbW1vbkRhdGEuY29uZmlnID0gTGF5YS5sb2FkZXIuZ2V0UmVzKFwicmVzL2pzb24vY29uZmlnLmpzb25cIik7XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0XHR9ZWxzZSBpZihtZXNzYWdlLnVybCA9PSBcImNvbW1vbi9jb21tb24uYXRsYXNcIil7XHJcblx0XHRcdFx0TGF5YS5sb2FkZXIubG9hZChcImNvbW1vbi9jb21tb24uYXRsYXNcIixMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiY29tbW9uL2NvbW1vbi5hdGxhc+WKoOi9veWujOaIkFwiKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3dpdGNoIChtZXNzYWdlWyd0eXBlJ10pIHtcclxuXHRcdFx0XHRjYXNlIFwib3BlbkZyaWVuZExpc3RcIjovL+S4u+eVjOmdouaOkuihjOamnC3lpb3lj4vmjpLooYxcclxuXHRcdFx0XHRcdHNlbGYuY2xvc2VPdGhlclZpZXcoKTtcclxuXHRcdFx0XHRcdHNlbGYuZnJpZW5kUmFuayA9IG5ldyBGcmllbmRSYW5rVmlldygpO1xyXG5cdFx0XHRcdFx0TGF5YS5zdGFnZS5hZGRDaGlsZChzZWxmLmZyaWVuZFJhbmspO1xyXG5cdFx0XHRcdFx0Q29tbW9uRGF0YS5HZXRGcmllbmRzKHNlbGYsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdHNlbGYuZnJpZW5kUmFuay5kcmF3UmFua0xpc3QoQ29tbW9uRGF0YS5mcmllbmRzKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcImNsb3NlUmFua1VJXCI6Ly/kuLvnlYzpnaLmjpLooYzmppxVSeWFs+mXrVxyXG5cdFx0XHRcdFx0aWYoc2VsZi5mcmllbmRSYW5rKXtcclxuXHRcdFx0XHRcdFx0c2VsZi5mcmllbmRSYW5rLmNsb3NlKClcclxuXHRcdFx0XHRcdFx0c2VsZi5mcmllbmRSYW5rID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0TGF5YS5sb2FkZXIuY2xlYXJVbkxvYWRlZCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBcInVwU2NvcmVcIjovL+abtOaWsOWtkOWfn+WIhuaVsOaYvuekulxyXG5cdFx0XHRcdFx0Q29tbW9uRGF0YS5VcGRhdGVTZWxmU2NvcmUobWVzc2FnZS5kYXRhKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fS5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlT3RoZXJWaWV3KCl7XHJcblx0XHRpZih0aGlzLmZyaWVuZFJhbmspe1xyXG5cdFx0XHR0aGlzLmZyaWVuZFJhbmsuY2xvc2UoKTtcclxuXHRcdFx0dGhpcy5mcmllbmRSYW5rID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vbkRhdGF7XHJcbiAgICAvL+S4gOWwj+aXtuWIt+aWsOS4gOasoeWlveWPi+aVsOaNrlxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVmcmVzaFRpbWU6bnVtYmVyID0gMSAqIDYwICogNjAgKiAxMDAwO1xyXG4gICAgLyoq5oiR6Ieq5bex55qE5aS05YOPdXJsICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGF2YXRhclVybDpzdHJpbmcgPSBcIlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgbmlja05hbWU6c3RyaW5nID0gXCJcIjtcclxuXHRwdWJsaWMgc3RhdGljIGF2YXRhclVybEdyb3VwOnN0cmluZyA9IFwiXCI7XHJcblx0cHVibGljIHN0YXRpYyBuaWNrTmFtZUdyb3VwOnN0cmluZyA9IFwiXCI7XHJcbiAgICAvL+WlveWPi+aVsOaNrlxyXG4gICAgcHVibGljIHN0YXRpYyBwcmVGcmllbmRzVGltZTpudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyBmcmllbmRzOkFycmF5PGFueT4gPSBbXTtcclxuICAgIC8v57yT5a2Y5aS05YOPXHJcbiAgICBwdWJsaWMgc3RhdGljIGF2YXRhckNhY2hlOmFueSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29uZmlnID0ge307XHJcbiAgICBcclxuICAgIC8v5aW95Y+L5pWw5o2uXHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEZyaWVuZHMoY2FsbGVyOmFueSwgY2FsbGJhY2s6RnVuY3Rpb24pOnZvaWR7XHJcbiAgICAgICAgaWYodGhpcy5OZWVkUmVmcmVzaChDb21tb25EYXRhLnByZUZyaWVuZHNUaW1lKSl7XHJcbiAgICAgICAgICAgIHdpbmRvd1tcInd4XCJdLmdldEZyaWVuZENsb3VkU3RvcmFnZSh7XHJcbiAgICAgICAgICAgICAgICBrZXlMaXN0OiBbXCJsZXZlbFwiLFwic2tpblwiXSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29tbW9uRGF0YS5wcmVGcmllbmRzVGltZSA9IExheWEuQnJvd3Nlci5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICBDb21tb25EYXRhLmZyaWVuZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKCh2OmFueSk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodi5LVkRhdGFMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9zY29yZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3NraW5JZCA9IDEwMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2LktWRGF0YUxpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHYuS1ZEYXRhTGlzdFtpXS5rZXkgPT0gXCJsZXZlbFwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Njb3JlID0gcGFyc2VJbnQodi5LVkRhdGFMaXN0W2ldLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih2LktWRGF0YUxpc3RbaV0ua2V5ID09IFwic2tpblwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NraW5JZCA9IHYuS1ZEYXRhTGlzdFtpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tb25EYXRhLmZyaWVuZHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmlja25hbWU6di5uaWNrbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXJVcmw6di5hdmF0YXJVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6X3Njb3JlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdJZDogX3NraW5JZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZighQ29tbW9uRGF0YS5hdmF0YXJDYWNoZVt2LmF2YXRhclVybF0gJiYgX3Njb3JlID4gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IHR4dCA9IG5ldyBMYXlhLlRleHR1cmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eHQubG9hZCh2LmF2YXRhclVybC5yZXBsYWNlKFwiLzEzMlwiLFwiLzQ2XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBDb21tb25EYXRhLmF2YXRhckNhY2hlW3YuYXZhdGFyVXJsXSA9IHR4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU29ydFNjb3JlKENvbW1vbkRhdGEuZnJpZW5kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY2FsbGVyLCBDb21tb25EYXRhLmZyaWVuZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjYWxsZXIsIENvbW1vbkRhdGEuZnJpZW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgTmVlZFJlZnJlc2gocHJlOm51bWJlcik6Ym9vbGVhbntcclxuICAgICAgICByZXR1cm4gTGF5YS5Ccm93c2VyLm5vdygpIC0gcHJlID4gQ29tbW9uRGF0YS5yZWZyZXNoVGltZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFVwZGF0ZVNlbGZTY29yZShzY29yZTpudW1iZXIpOnZvaWR7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IENvbW1vbkRhdGEuZnJpZW5kcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKENvbW1vbkRhdGEuZnJpZW5kc1tpXS5hdmF0YXJVcmwgPT0gQ29tbW9uRGF0YS5hdmF0YXJVcmwpe1xyXG4gICAgICAgICAgICAgICAgQ29tbW9uRGF0YS5mcmllbmRzW2ldLnNjb3JlID0gc2NvcmU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlNvcnRTY29yZShDb21tb25EYXRhLmZyaWVuZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIFNvcnRTY29yZShkYXRhOmFueVtdKXtcclxuICAgICAgICBkYXRhID0gZGF0YS5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgICAgIGlmKGEuc2NvcmUgPiBiLnNjb3JlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICBpZihhLnNjb3JlIDwgYi5zY29yZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgQ29tbW9uRGF0YSBmcm9tIFwiLi9Db21tb25EYXRhXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRnJpZW5kUmFua1ZpZXcgZXh0ZW5kcyB1aS5GcmllbmRSYW5rVUkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJhbmtMaXN0LmFycmF5ID0gW107XHJcbiAgICAgICAgdGhpcy5yYW5rTGlzdC5yZW5kZXJIYW5kbGVyID0gbmV3IExheWEuSGFuZGxlcih0aGlzLCB0aGlzLm9uUmVuZGVyKTtcclxuICAgICAgICB0aGlzLnJhbmtMaXN0LnZTY3JvbGxCYXJTa2luID0gXCJcIjtcclxuICAgICAgICB0aGlzLm5vUmFuay52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxmUmFuay52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZHJhd1JhbmtMaXN0KGRhdGE6IEFycmF5PGFueT4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJhbmtMaXN0LnNjcm9sbFRvKDApO1xyXG4gICAgICAgIGxldCBmaW5kTWUgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aGlzLnNlbGZIZWFkLnNraW4gPSAoQ29tbW9uRGF0YS5hdmF0YXJVcmwgPT0gXCJcIiB8fCBDb21tb25EYXRhLmF2YXRhclVybCA9PSBudWxsKSA/IFwicmFuay90b3V4QDJ4LnBuZ1wiIDogQ29tbW9uRGF0YS5hdmF0YXJVcmw7XHJcbiAgICAgICAgaWYoQ29tbW9uRGF0YS5hdmF0YXJVcmwgPT0gXCJcIiB8fCBDb21tb25EYXRhLmF2YXRhclVybCA9PSBudWxsKXtcclxuICAgICAgICAgICAgdGhpcy5zZWxmSGVhZC5za2luID0gIFwicmFuay90b3V4QDJ4LnBuZ1wiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgYXZhdGFyVXJsID0gQ29tbW9uRGF0YS5hdmF0YXJVcmwucmVwbGFjZShcIi8xMzJcIiwgXCIvNDZcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZkhlYWQuc2tpbiAgPSBhdmF0YXJVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZk5hbWUudGV4dCA9IENvbW1vbkRhdGEubmlja05hbWU7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKCh2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHYuYXZhdGFyVXJsID09IENvbW1vbkRhdGEuYXZhdGFyVXJsKSB7XHJcbiAgICAgICAgICAgICAgICBmaW5kTWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yYW5rTGlzdC5yZXBlYXRZID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5yYW5rTGlzdC5hcnJheSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5yYW5rTGlzdC5yZWZyZXNoKCk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICAgICAgbGV0IHNraW5zID0gQ29tbW9uRGF0YS5jb25maWdbXCJza2luXCJdO1xyXG4gICAgICAgIGlmIChmaW5kTWUpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5hdmF0YXJVcmwgPT0gQ29tbW9uRGF0YS5hdmF0YXJVcmwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGZSYW5rLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGZTY29yZS50ZXh0ID0gZGF0YVtpXS5zY29yZStcIuWFs1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0UmFua1N0eWxlKHRoaXMuc2VsZlJhbmtMYmwsIHRoaXMuc2VsZlJhbmtJY29uLCBpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV0udmlld0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VsZlNraW4uc2tpbiA9IFwic2tpbi9cIitkYXRhW2ldLnZpZXdJZCtcIi5wbmdcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNraSA9IHNraW5zW2RhdGFbaV0udmlld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNraW5QYXRoID0gXCJjb21tb24vd2FcIitza2kubW9kZWwgKyBcIi1cIiArIHNraS5za2luICsgXCJAMngucG5nXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZlNraW4uc2tpbiA9IHNraW5QYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VsZlNraW4uc2tpbiA9IFwic2tpbi8zMDAxLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbGZSYW5rTGJsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGZTY29yZS50ZXh0ID0gXCIx5YWzXCI7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0UmFua1N0eWxlKHRoaXMuc2VsZlJhbmtMYmwsIHRoaXMuc2VsZlJhbmtJY29uLCAtMSx0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxmU2tpbi5za2luID0gXCJjb21tb24vd2ExLWZyb2dfMDFAMngucG5nXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25SZW5kZXIoY2VsbDogTGF5YS5Cb3gsIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMucmFua0xpc3QuYXJyYXlbaW5kZXhdO1xyXG4gICAgICAgIGxldCBjZWxsQmcgPSBjZWxsLmdldENoaWxkQnlOYW1lKFwiYmdcIikgYXMgTGF5YS5JbWFnZTsgXHJcbiAgICAgICAgKGNlbGxCZy5nZXRDaGlsZEJ5TmFtZShcImltZ19oYW5kXCIpIGFzIExheWEuSW1hZ2UpLnNraW4gPSBcInJhbmsvdG91eEAyeC5wbmdcIjtcclxuICAgICAgICBpZiAoZGF0YS5hdmF0YXJVcmwgJiYgZGF0YS5hdmF0YXJVcmwubGVuZ3RoID4gNCkge1xyXG4gICAgICAgICAgICB2YXIgYXZhdGFyVXJsID0gZGF0YS5hdmF0YXJVcmwucmVwbGFjZShcIi8xMzJcIiwgXCIvNDZcIik7XHJcbiAgICAgICAgICAgIChjZWxsQmcuZ2V0Q2hpbGRCeU5hbWUoXCJpbWdfaGFuZFwiKSBhcyBMYXlhLkltYWdlKS5za2luID0gYXZhdGFyVXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAoY2VsbEJnLmdldENoaWxkQnlOYW1lKFwibGJsX25pY2tOYW1lXCIpIGFzIExheWEuTGFiZWwpLnRleHQgPSBkYXRhLm5pY2tuYW1lO1xyXG4gICAgICAgIChjZWxsQmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYmxfcGFzc1wiKSBhcyBMYXlhLkxhYmVsKS50ZXh0ID0gZGF0YS5zY29yZStcIuWFs1wiO1xyXG5cclxuICAgICAgICBsZXQgc2tpbnMgPSBDb21tb25EYXRhLmNvbmZpZ1tcInNraW5cIl07XHJcbiAgICAgICAgaWYgKGRhdGEudmlld0lkKSB7XHJcbiAgICAgICAgICAgIGxldCBza2kgPSBza2luc1tkYXRhLnZpZXdJZF07XHJcbiAgICAgICAgICAgIGxldCBza2luUGF0aCA9IFwiY29tbW9uL3dhXCIrc2tpLm1vZGVsICsgXCItXCIgKyBza2kuc2tpbiArIFwiQDJ4LnBuZ1wiO1xyXG4gICAgICAgICAgICAoY2VsbEJnLmdldENoaWxkQnlOYW1lKFwiaW1nX3NraVwiKSBhcyBMYXlhLkltYWdlKS5za2luID0gc2tpblBhdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKGNlbGxCZy5nZXRDaGlsZEJ5TmFtZShcImltZ19za2lcIikgYXMgTGF5YS5JbWFnZSkuc2tpbiA9IFwiY29tbW9uL3dhMS1mcm9nXzAxQDJ4LnBuZ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGFiZWwgPSBjZWxsQmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYmxfcmFua0luZGV4XCIpIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgbGV0IGltYWdlID0gY2VsbEJnLmdldENoaWxkQnlOYW1lKFwiaW1nX3JhbmtcIikgYXMgTGF5YS5JbWFnZTtcclxuICAgICAgICB0aGlzLlNldFJhbmtTdHlsZShsYWJlbCwgaW1hZ2UsIGluZGV4ICsgMSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFNldFJhbmtTdHlsZShsYWJlbDogTGF5YS5MYWJlbCwgaW1hZ2U6IExheWEuSW1hZ2UsIHJhbms6IG51bWJlcixpc1NlbGY/OmJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAocmFuayA9PSAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsLnRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICBpbWFnZS5za2luID0gXCJyYW5rLzFAMngucG5nXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJhbmsgPT0gMikge1xyXG4gICAgICAgICAgICBsYWJlbC50ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc2tpbiA9IFwicmFuay8yQDJ4LnBuZ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyYW5rID09IDMpIHtcclxuICAgICAgICAgICAgbGFiZWwudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnNraW4gPSBcInJhbmsvM0AyeC5wbmdcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGltYWdlLnNraW4gPSBudWxsO1xyXG4gICAgICAgICAgICAvLyBpZiAocmFuayA9PSAtMSYmaXNTZWxmKXtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMubm9SYW5rLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5ub1JhbmsudGV4dCA9IFwiMTAwK1wiO1xyXG4gICAgICAgICAgICAvLyAgICAgbGFiZWwudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGVsc2VcclxuICAgICAgICAgICAgbGFiZWwudGV4dCA9IHJhbmsudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb3NlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG5leHBvcnQgbW9kdWxlIHVpIHtcclxuICAgIGV4cG9ydCBjbGFzcyBGcmllbmRSYW5rVUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIGFuY2hvclM6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgcmFua0xpc3Q6TGF5YS5MaXN0O1xuXHRcdHB1YmxpYyBzZWxmUmFuazpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyBzZWxmUmFua0ljb246TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgc2VsZkhlYWQ6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgc2VsZlNraW46TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgc2VsZk5hbWU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgc2VsZlJhbmtMYmw6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgc2VsZlNjb3JlOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIG5vUmFuazpMYXlhLkxhYmVsO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJWaWV3XCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NTYwLFwiaGVpZ2h0XCI6NjY4fSxcImNvbXBJZFwiOjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjU2MSxcInZhclwiOlwiYW5jaG9yU1wiLFwiaGVpZ2h0XCI6NzkxfSxcImNvbXBJZFwiOjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJMaXN0XCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ3aWR0aFwiOjU2MCxcInZhclwiOlwicmFua0xpc3RcIixcInNwYWNlWVwiOjE4LFwicmVwZWF0WFwiOjEsXCJoZWlnaHRcIjo2ODgsXCJlbGFzdGljRW5hYmxlZFwiOmZhbHNlfSxcImNvbXBJZFwiOjQsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJCb3hcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcInJlbmRlclR5cGVcIjpcInJlbmRlclwifSxcImNvbXBJZFwiOjIxLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6MCxcIndpZHRoXCI6NTYwLFwic2tpblwiOlwicmFuay9rdWFuLXBoYi0xQDJ4LnBuZ1wiLFwic2l6ZUdyaWRcIjpcIjEyLDEzLDEyLDEyXCIsXCJuYW1lXCI6XCJiZ1wiLFwiaGVpZ2h0XCI6ODJ9LFwiY29tcElkXCI6NSxcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjo0LjUsXCJ4XCI6OSxcIndpZHRoXCI6NjEsXCJza2luXCI6XCJyYW5rLzFAMngucG5nXCIsXCJuYW1lXCI6XCJpbWdfcmFua1wiLFwiaGVpZ2h0XCI6NzN9LFwiY29tcElkXCI6Nn0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjcsXCJ4XCI6ODAsXCJ3aWR0aFwiOjY4LFwibmFtZVwiOlwiaW1nX2hhbmRcIixcImhlaWdodFwiOjY4fSxcImNvbXBJZFwiOjd9LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjoxNixcInhcIjozODIsXCJ3aWR0aFwiOjQ2LFwibmFtZVwiOlwiaW1nX3NraVwiLFwiaGVpZ2h0XCI6NDh9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjM0LFwieFwiOjE2NCxcIndpZHRoXCI6MTEwLFwib3ZlcmZsb3dcIjpcImhpZGRlblwiLFwibmFtZVwiOlwibGJsX25pY2tOYW1lXCIsXCJoZWlnaHRcIjoyNCxcImZvbnRTaXplXCI6MjQsXCJjb2xvclwiOlwiIzAwNGM0ZlwifSxcImNvbXBJZFwiOjl9LHtcInR5cGVcIjpcIkxhYmVsXCIsXCJwcm9wc1wiOntcInlcIjo0MSxcInhcIjo0MixcIndpZHRoXCI6NzYsXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidGV4dFwiOlwiMVwiLFwic3Ryb2tlQ29sb3JcIjpcIiMyYzExZjFcIixcInN0cm9rZVwiOjIsXCJvdmVyZmxvd1wiOlwidmlzaWJsZVwiLFwibmFtZVwiOlwibGJsX3JhbmtJbmRleFwiLFwiaGVpZ2h0XCI6NDAsXCJmb250U2l6ZVwiOjMyLFwiY29sb3JcIjpcIiNmZmZmZmZcIixcImFuY2hvcllcIjowLjUsXCJhbmNob3JYXCI6MC41LFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjEwfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NDEsXCJ4XCI6NDI5LFwid2lkdGhcIjoxMDksXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidGV4dFwiOlwiMVwiLFwib3ZlcmZsb3dcIjpcInZpc2libGVcIixcIm5hbWVcIjpcImxibF9wYXNzXCIsXCJoZWlnaHRcIjo0MCxcImZvbnRTaXplXCI6MzYsXCJjb2xvclwiOlwiIzAwNGM0ZlwiLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLFwiYWxpZ25cIjpcInJpZ2h0XCJ9LFwiY29tcElkXCI6MTF9XX1dfV19LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjo3MDAsXCJ4XCI6MCxcIndpZHRoXCI6NTYwLFwidmlzaWJsZVwiOmZhbHNlLFwidmFyXCI6XCJzZWxmUmFua1wiLFwic2tpblwiOlwicmFuay9rdWFuLXBoYi0yQDJ4LnBuZ1wiLFwic2l6ZUdyaWRcIjpcIjEyLDEzLDEyLDEyXCIsXCJoZWlnaHRcIjo4Mn0sXCJjb21wSWRcIjoxMyxcImNoaWxkXCI6W3tcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjo0LjUsXCJ4XCI6OSxcIndpZHRoXCI6NjEsXCJ2YXJcIjpcInNlbGZSYW5rSWNvblwiLFwic2tpblwiOlwicmFuay8xQDJ4LnBuZ1wiLFwiaGVpZ2h0XCI6NzN9LFwiY29tcElkXCI6MTR9LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjo3LFwieFwiOjgwLFwid2lkdGhcIjo2OCxcInZhclwiOlwic2VsZkhlYWRcIixcIm5hbWVcIjpcImltZ19oYW5kXCIsXCJoZWlnaHRcIjo2OH0sXCJjb21wSWRcIjoxNX0se1widHlwZVwiOlwiSW1hZ2VcIixcInByb3BzXCI6e1wieVwiOjE2LFwieFwiOjM4MyxcIndpZHRoXCI6NDYsXCJ2YXJcIjpcInNlbGZTa2luXCIsXCJoZWlnaHRcIjo0OH0sXCJjb21wSWRcIjoxNn0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjM0LFwieFwiOjE2NCxcIndpZHRoXCI6MTEwLFwidmFyXCI6XCJzZWxmTmFtZVwiLFwib3ZlcmZsb3dcIjpcImhpZGRlblwiLFwibmFtZVwiOlwibGJsX25pY2tOYW1lXCIsXCJoZWlnaHRcIjoyNCxcImZvbnRTaXplXCI6MjQsXCJjb2xvclwiOlwiIzAwNGM0ZlwifSxcImNvbXBJZFwiOjE3fSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NDQsXCJ4XCI6NDAsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJzZWxmUmFua0xibFwiLFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRleHRcIjpcIjFcIixcInN0cm9rZUNvbG9yXCI6XCIjMmMxMWYxXCIsXCJzdHJva2VcIjoyLFwib3ZlcmZsb3dcIjpcInZpc2libGVcIixcIm5hbWVcIjpcImxibF9yYW5rSW5kZXhcIixcImhlaWdodFwiOjQwLFwiZm9udFNpemVcIjoyMixcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAuNSxcImFsaWduXCI6XCJjZW50ZXJcIn0sXCJjb21wSWRcIjoxOH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjQxLFwieFwiOjQyOSxcIndpZHRoXCI6MTA5LFwidmFyXCI6XCJzZWxmU2NvcmVcIixcInZhbGlnblwiOlwibWlkZGxlXCIsXCJ0ZXh0XCI6XCIxXCIsXCJvdmVyZmxvd1wiOlwidmlzaWJsZVwiLFwibmFtZVwiOlwibGJsX3Bhc3NcIixcImhlaWdodFwiOjQwLFwiZm9udFNpemVcIjozNixcImNvbG9yXCI6XCIjMDA0YzRmXCIsXCJhbmNob3JZXCI6MC41LFwiYW5jaG9yWFwiOjAsXCJhbGlnblwiOlwicmlnaHRcIn0sXCJjb21wSWRcIjoxOX0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjQ2LFwieFwiOjQyLFwid2lkdGhcIjo3NixcInZpc2libGVcIjpmYWxzZSxcInZhclwiOlwibm9SYW5rXCIsXCJ2YWxpZ25cIjpcIm1pZGRsZVwiLFwidGV4dFwiOlwiMTAwK1wiLFwic3Ryb2tlQ29sb3JcIjpcIiMyYzExZjFcIixcInN0cm9rZVwiOjIsXCJvdmVyZmxvd1wiOlwidmlzaWJsZVwiLFwibmFtZVwiOlwibm9SYW5rXCIsXCJoZWlnaHRcIjo0MCxcImZvbnRTaXplXCI6MzAsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiYm9sZFwiOmZhbHNlLFwiYW5jaG9yWVwiOjAuNSxcImFuY2hvclhcIjowLjUsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiY29tcElkXCI6MjB9XX1dfV0sXCJsb2FkTGlzdFwiOltcInJhbmsva3Vhbi1waGItMUAyeC5wbmdcIixcInJhbmsvMUAyeC5wbmdcIixcInJhbmsva3Vhbi1waGItMkAyeC5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KEZyaWVuZFJhbmtVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIl19
